<!-- doc/src/sgml/release-8.4.sgml -->
<!-- See header comment in release.sgml about typical markup -->

 <sect1 id="release-8-4-22">
  <!--
  <title>Release 8.4.22</title>
  -->
  <title>版本 8.4.22</title>

  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2014-07-24</simpara>
  </note>

<!-- 
  <para>
   This release contains a variety of fixes from 8.4.21.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
  <para>
   这个版本包含自8.4.21以来的各种修复。
   关于8.4主版本的新特性信息，请查看<xref linkend="release-8-4">。
  </para>

<!-- 
  <para>
   This is expected to be the last <productname>PostgreSQL</> release
   in the 8.4.X series.  Users are encouraged to update to a newer
   release branch soon.
  </para>
-->
  <para>
   这预计是<productname>PostgreSQL</>在8.4.X系列的最后一个版本。
   建议用户尽快更新到最新的版本。
  </para>

  <sect2>
   <!--
   <title>Migration to Version 8.4.22</title>
   -->
   <title>迁移到版本 8.4.22</title>

<!-- 
   <para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
   <para>
    运行8.4.X的用户不需要转储/恢复。
   </para>

<!-- 
   <para>
    However, this release corrects an index corruption problem in some GiST
    indexes.  See the first changelog entry below to find out whether your
    installation has been affected and what steps you should take if so.
   </para>
-->
   <para>
    这个版本纠正了在一些GiST索引中索引损坏的问题。查看下面第一条修改日志项，
    找出你的安装是否受到影响和应该采取什么步骤。
   </para>

<!-- 
   <para>
    Also, if you are upgrading from a version earlier than 8.4.19,
    see <xref linkend="release-8-4-19">.
   </para>
-->
   <para>
    另外，如果你是从一个早于8.4.19的版本升级而来，请查看<xref linkend="release-8-4-19">。
   </para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!-- 
     <para>
      Correctly initialize padding bytes in <filename>contrib/btree_gist</>
      indexes on <type>bit</> columns (Heikki Linnakangas)
     </para>
-->
     <para>
      正确的初始化<type>bit</>字段上<filename>contrib/btree_gist</>
      索引里的填充字节 (Heikki Linnakangas)
     </para>

<!-- 
     <para>
      This error could result in incorrect query results due to values that
      should compare equal not being seen as equal.
      Users with GiST indexes on <type>bit</> or <type>bit varying</>
      columns should <command>REINDEX</> those indexes after installing this
      update.
     </para>
-->
     <para>
      这个错误由于值应该是比较相等而不是看做相等而导致不正确的查询结果。
      在<type>bit</>或<type>bit varying</>字段上拥有GiST索引的用户应该在安装此次更新后
      <command>REINDEX</>这些索引。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Protect against torn pages when deleting GIN list pages (Heikki
      Linnakangas)
     </para>
-->
     <para>
      在删除GIN列表页时防止页面破损 (Heikki
      Linnakangas)
     </para>

<!-- 
     <para>
      This fix prevents possible index corruption if a system crash occurs
      while the page update is being written to disk.
     </para>
-->
     <para>
      如果系统崩溃发生在页更新正在写入磁盘时，这个修复阻止了可能的索引损坏。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix possibly-incorrect cache invalidation during nested calls
      to <function>ReceiveSharedInvalidMessages</> (Andres Freund)
     </para>
-->
     <para>
      修复嵌套调用<function>ReceiveSharedInvalidMessages</>期间，
      可能不正确的缓存失效 (Andres Freund)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Don't assume a subquery's output is unique if there's a set-returning
      function in its targetlist (David Rowley)
     </para>
-->
     <para>
      如果子查询的目标列表中有一个设置-返回函数，那么不要假设它的输出是唯一的 (David Rowley)
     </para>

<!-- 
     <para>
      This oversight could lead to misoptimization of constructs
      like <literal>WHERE x IN (SELECT y, generate_series(1,10) FROM t GROUP
      BY y)</literal>.
     </para>
-->
     <para>
      这个疏忽可能会导致错误的最佳化像
      <literal>WHERE x IN (SELECT y, generate_series(1,10) FROM t GROUP
      BY y)</literal>这样的构造。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix failure to detoast fields in composite elements of structured
      types (Tom Lane)
     </para>
-->
     <para>
      修复结构化类型的复合元素中未能detoast字段(Tom Lane)
     </para>

<!-- 
     <para>
      This corrects cases where TOAST pointers could be copied into other
      tables without being dereferenced.  If the original data is later
      deleted, it would lead to errors like <quote>missing chunk number 0
      for toast value ...</> when the now-dangling pointer is used.
     </para>
-->
     <para>
     这纠正了TOAST指针没被间接引用就拷贝到其他表的情况。
     如果原始数据稍后删除，则当新的悬挂指针正在使用时，会导致像<quote>missing chunk number 0
      for toast value ...</>这样的错误。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix <quote>record type has not been registered</> failures with
      whole-row references to the output of Append plan nodes (Tom Lane)
     </para>
-->
     <para>
      修复整行引用附加规划节点的输出时<quote>record type has not been registered</>
      错误 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix possible crash when invoking a user-defined function while
      rewinding a cursor (Tom Lane)
     </para>
-->
     <para>
      修复游标倒回时调用一个用户定义的函数时可能的崩溃 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix query-lifespan memory leak while evaluating the arguments for a
      function in <literal>FROM</> (Tom Lane)
     </para>
-->
     <para>
      修复评估<literal>FROM</>中的一个函数的参数时查询寿命内存泄露 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix session-lifespan memory leaks in regular-expression processing
      (Tom Lane, Arthur O'Dwyer, Greg Stark)
     </para>
-->
     <para>
      修复规则表达式处理中的会话寿命内存泄露 (Tom Lane, Arthur O'Dwyer, Greg Stark)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix data encoding error in <filename>hungarian.stop</> (Tom Lane)
     </para>
-->
     <para>
      修复<filename>hungarian.stop</>中的数据编码错误 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix liveness checks for rows that were inserted in the current
      transaction and then deleted by a now-rolled-back subtransaction
      (Andres Freund)
     </para>
-->
     <para>
      修复对插入到当前事务中然后被一个新回滚的子事务删除的行的活跃度检查 (Andres Freund)
     </para>

<!-- 
     <para>
      This could cause problems (at least spurious warnings, and at worst an
      infinite loop) if <command>CREATE INDEX</> or <command>CLUSTER</> were
      done later in the same transaction.
     </para>
-->
     <para>
      如果稍后在相同的事务中执行<command>CREATE INDEX</>或<command>CLUSTER</>，
      这会导致问题（至少是虚假警告，最坏是一个无限循环）。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Clear <structname>pg_stat_activity</>.<structfield>xact_start</>
      during <command>PREPARE TRANSACTION</> (Andres Freund)
     </para>
-->
     <para>
      在<command>PREPARE TRANSACTION</>期间清理
      <structname>pg_stat_activity</>.<structfield>xact_start</> (Andres Freund)
     </para>

<!-- 
     <para>
      After the <command>PREPARE</>, the originating session is no longer in
      a transaction, so it should not continue to display a transaction
      start time.
     </para>
-->
     <para>
      在<command>PREPARE</>之后，原始的会话不再在事务中，
      所以它应该不能继续显示会话的开始时间。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix <command>REASSIGN OWNED</> to not fail for text search objects
      (&Aacute;lvaro Herrera)
     </para>
-->
     <para>
      修复<command>REASSIGN OWNED</>，文本搜索对象不会失败
      (&Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Block signals during postmaster startup (Tom Lane)
     </para>
-->
     <para>
      在postmaster启动期间封锁信号 (Tom Lane)
     </para>

<!-- 
     <para>
      This ensures that the postmaster will properly clean up after itself
      if, for example, it receives <systemitem>SIGINT</> while still
      starting up.
     </para>
-->
     <para>
      这保证了postmaster在仍然启动时，例如，收到<systemitem>SIGINT</>
      之后能够正确的清理。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Secure Unix-domain sockets of temporary postmasters started during
      <literal>make check</> (Noah Misch)
     </para>
-->
     <para>
      保护在<literal>make check</>期间启动的临时postmasters的Unix域套接字 (Noah Misch)
     </para>

<!-- 
     <para>
      Any local user able to access the socket file could connect as the
      server's bootstrap superuser, then proceed to execute arbitrary code as
      the operating-system user running the test, as we previously noted in
      CVE-2014-0067.  This change defends against that risk by placing the
      server's socket in a temporary, mode 0700 subdirectory
      of <filename>/tmp</>.  The hazard remains however on platforms where
      Unix sockets are not supported, notably Windows, because then the
      temporary postmaster must accept local TCP connections.
     </para>
-->
     <para>
      任何可以访问该套接字文件的本地用户都可以作为服务器的bootstrap超级用户连接，
      然后如同操作系统用户运行测试一样继续执行任意代码，就像我们之前在
      CVE-2014-0067观察到的那样。这个修改通过在一个临时文件中存放服务器的套接字防止该风险，
      临时文件是<filename>/tmp</>的子目录，模式0700。
      在不支持Unix套接字的平台上仍然存在该风险，尤其是Windows，
      因为临时postmaster必须接受本地TCP连接。
     </para>

<!-- 
     <para>
      A useful side effect of this change is to simplify
      <literal>make check</> testing in builds that
      override <literal>DEFAULT_PGSOCKET_DIR</>.  Popular non-default values
      like <filename>/var/run/postgresql</> are often not writable by the
      build user, requiring workarounds that will no longer be necessary.
     </para>
-->
     <para>
      这个修改的一个有用的副作用是简化了重载<literal>DEFAULT_PGSOCKET_DIR</>
      建立中的<literal>make check</>测试。像<filename>/var/run/postgresql</>
      这样的普通非缺省值通常不是建立用户可写的，将不再需要请求绕开它。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      On Windows, allow new sessions to absorb values of PGC_BACKEND
      parameters (such as <xref linkend="guc-log-connections">) from the
      configuration file (Amit Kapila)
     </para>
-->
     <para>
      在Windows上，允许新的会话接收来自配置文件的PGC_BACKEND
      参数（比如<xref linkend="guc-log-connections">）的值 (Amit Kapila)
     </para>

<!-- 
     <para>
      Previously, if such a parameter were changed in the file post-startup,
      the change would have no effect.
     </para>
-->
     <para>
      以前，如果这样的参数在文件启动之后修改，那么该修改将不会有任何影响。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Properly quote executable path names on Windows (Nikhil Deshpande)
     </para>
-->
     <para>
      在Windows中正确的引用可执行的路径名 (Nikhil Deshpande)
     </para>

<!-- 
     <para>
      This oversight could cause <application>initdb</>
      and <application>pg_upgrade</> to fail on Windows, if the installation
      path contained both spaces and <literal>@</> signs.
     </para>
-->
     <para>
      如果安装路径包含空白和<literal>@</>符号，会导致<application>initdb</>
      和<application>pg_upgrade</>在Windows上失败，。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix linking of <application>libpython</> on OS X (Tom Lane)
     </para>
-->
     <para>
      修复OS X上的<application>libpython</>链接 (Tom Lane)
     </para>

<!-- 
     <para>
      The method we previously used can fail with the Python library
      supplied by Xcode 5.0 and later.
     </para>
-->
     <para>
      我们之前使用的方法在使用Xcode 5.0及更高版本提供的Python库时会失败。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Avoid buffer bloat in <application>libpq</> when the server
      consistently sends data faster than the client can absorb it
      (Shin-ichi Morita, Tom Lane)
     </para>
-->
     <para>
      当服务器发送数据速度持续比客户端可接受的速度快时，
      避免<application>libpq</>中的缓冲区膨胀 (Shin-ichi Morita, Tom Lane)
     </para>

<!-- 
     <para>
      <application>libpq</> could be coerced into enlarging its input buffer
      until it runs out of memory (which would be reported misleadingly
      as <quote>lost synchronization with server</>).  Under ordinary
      circumstances it's quite far-fetched that data could be continuously
      transmitted more quickly than the <function>recv()</> loop can
      absorb it, but this has been observed when the client is artificially
      slowed by scheduler constraints.
     </para>
-->
     <para>
      <application>libpq</>可以强制扩大它的输入缓冲区，直到它内存溢出
      （它可能会误报为<quote>丢失与服务器的同步</>）。在普通情况下，
      它可以持续的比<function>recv()</>循环更快的传输数据，因此可以吸收数据，
      但是通过调节约束人工的降低客户端速度是，可以观察到这种现象。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Ensure that LDAP lookup attempts in <application>libpq</> time out as
      intended (Laurenz Albe)
     </para>
-->
     <para>
      确保<application>libpq</>中的LDAP查找尝试像预计的那样超时 (Laurenz Albe)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix <application>pg_restore</>'s processing of old-style large object
      comments (Tom Lane)
     </para>
-->
     <para>
      修复<application>pg_restore</>对老旧风格的大对象注释的处理 (Tom Lane)
     </para>

<!-- 
     <para>
      A direct-to-database restore from an archive file generated by a
      pre-9.0 version of <application>pg_dump</> would usually fail if the
      archive contained more than a few comments for large objects.
     </para>
-->
     <para>
      如果9.0之前版本的<application>pg_dump</>生成的归档包含几个大对象的注释，
      那么从该归档文件直接到数据库的恢复通常会失败。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      In <filename>contrib/pgcrypto</> functions, ensure sensitive
      information is cleared from stack variables before returning
      (Marko Kreen)
     </para>
-->
     <para>
      在<filename>contrib/pgcrypto</>函数中，确保在返回之前清理堆栈变量中的敏感信息
      (Marko Kreen)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      In <filename>contrib/uuid-ossp</>, cache the state of the OSSP UUID
      library across calls (Tom Lane)
     </para>
-->
     <para>
      在<filename>contrib/uuid-ossp</>中，在调用间缓存OSSP UUID库的状态 (Tom Lane)
     </para>

<!-- 
     <para>
      This improves the efficiency of UUID generation and reduces the amount
      of entropy drawn from <filename>/dev/urandom</>, on platforms that
      have that.
     </para>
-->
     <para>
      这提高了UUID产生的效率并降低了从<filename>/dev/urandom</>
      中提取熵的数量，在拥有它们的平台上。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Update time zone data files to <application>tzdata</> release 2014e
      for DST law changes in Crimea, Egypt, and Morocco.
     </para>
-->
     <para>
      更新时区数据文件到<application>tzdata</>版本2014e，
      因为DAT规则在Crimea、Egypt和Morocco发生了改变。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-21">




  <!-- 
  <title>Release 8.4.21</title>
  -->
  <title>版本 8.4.21</title>

  <note>

  <!-- 
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2014-03-20</simpara>



  </note>


<!-- 
  <para>
   This release contains a variety of fixes from 8.4.20.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
  <para>
   这个版本包含各种自8.4.20以来的修复。关于8.4主版本的新特性信息，
   请查看<xref linkend="release-8-4">。
  </para>


<!-- 
  <para>
   The <productname>PostgreSQL</> community will stop releasing updates
   for the 8.4.X release series in July 2014.
   Users are encouraged to update to a newer release branch soon.
  </para>
-->
  <para>
   <productname>PostgreSQL</>社区将在2014年7月停止发布8.4.X系列的更新。
   建议用户尽快更新到最新版本。
  </para>

  <sect2>
   <!-- 
   <title>Migration to Version 8.4.21</title>
   -->
   <title>迁移到版本 8.4.21</title>

<!-- 
   <para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
   <para>
    运行8.4.X的用户不需要转储/恢复。
   </para>

<!-- 
   <para>
    However, if you are upgrading from a version earlier than 8.4.19,
    see <xref linkend="release-8-4-19">.
   </para>
-->
   <para>
    如果你是从一个早于8.4.19的版本升级而来，请查看<xref linkend="release-8-4-19">。
   </para>

  </sect2>

  <sect2>
   <!-- 
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!-- 
     <para>
      Restore GIN metapages unconditionally to avoid torn-page risk
      (Heikki Linnakangas)
     </para>
-->
     <para>
      无条件的恢复GIN元页，以避免页面撕裂风险 (Heikki Linnakangas)
     </para>

<!-- 
     <para>
      Although this oversight could theoretically result in a corrupted
      index, it is unlikely to have caused any problems in practice, since
      the active part of a GIN metapage is smaller than a standard 512-byte
      disk sector.
     </para>
-->
     <para>
      尽管理论上这个疏忽会导致索引损坏，但是在实际中它不可能导致任何问题，
      因为GIN元页的活动部分远小于标准的512字节磁盘扇区。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Allow regular-expression operators to be terminated early by query
      cancel requests (Tom Lane)
     </para>
-->
     <para>
      允许正则表达式操作通过查询取消请求早早的终止 (Tom Lane)
     </para>

<!-- 
     <para>
      This prevents scenarios wherein a pathological regular expression
      could lock up a server process uninterruptably for a long time.
     </para>
-->
     <para>
      这阻止了病态的正则表达式锁住服务器进程，使其长时间不可中断的情况。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Remove incorrect code that tried to allow <literal>OVERLAPS</> with
      single-element row arguments (Joshua Yanovski)
     </para>
-->
     <para>
      删除尝试允许带有单元素行参数的<literal>OVERLAPS</>的错误代码 (Joshua Yanovski)
     </para>

<!-- 
     <para>
      This code never worked correctly, and since the case is neither
      specified by the SQL standard nor documented, it seemed better to
      remove it than fix it.
     </para>
-->
     <para>
      这个代码从未正确工作过，并且因此该情况从未被SQL说明过也没有记录，
      删除它看起来比修复它更好一些。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Avoid getting more than <literal>AccessShareLock</> when de-parsing a
      rule or view (Dean Rasheed)
     </para>
-->
     <para>
      在反向解析一个规则或视图时，避免超过<literal>AccessShareLock</> (Dean Rasheed)
     </para>

<!-- 
     <para>
      This oversight resulted in <application>pg_dump</> unexpectedly
      acquiring <literal>RowExclusiveLock</> locks on tables mentioned as
      the targets of <literal>INSERT</>/<literal>UPDATE</>/<literal>DELETE</>
      commands in rules.  While usually harmless, that could interfere with
      concurrent transactions that tried to acquire, for example,
      <literal>ShareLock</> on those tables.
     </para>
-->
     <para>
      这个疏忽导致<application>pg_dump</>意外的请求规则中
      <literal>INSERT</>/<literal>UPDATE</>/<literal>DELETE</>
      作为目标提及的表上的<literal>RowExclusiveLock</>锁。
      尽管通常无害，但是这会妨碍当前事务尝试获取，例如，
      这些表上的<literal>ShareLock</>。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Prevent interrupts while reporting non-<literal>ERROR</> messages
      (Tom Lane)
     </para>
-->
     <para>
      阻止报告非<literal>ERROR</>消息时的中断 (Tom Lane)
     </para>

<!-- 
     <para>
      This guards against rare server-process freezeups due to recursive
      entry to <function>syslog()</>, and perhaps other related problems.
     </para>
-->
     <para>
      这防卫了由于到<function>syslog()</>的递归项导致罕见的服务器进程冻结，
      和可能出现的其他相关的问题。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Update time zone data files to <application>tzdata</> release 2014a
      for DST law changes in Fiji and Turkey, plus historical changes in
      Israel and Ukraine.
     </para>
-->
     <para>
      更新时区数据文件到<application>tzdata</>版本20014a，
      因为DST规律在Fiji和Turkey发生了改变，加上Israel和Ukraine的历史修改。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-20">
  <!-- 
  <title>Release 8.4.20</title>
  -->
  <title>版本 8.4.20</title>

  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2014-02-20</simpara>
  </note>

<!-- 
  <para>
   This release contains a variety of fixes from 8.4.19.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
  <para>
   这个版本包含各种自8.4.19以来的修复。关于8.4主版本的新特性信息，
   请查看<xref linkend="release-8-4">。
  </para>
  
<!-- 
  <para>
   The <productname>PostgreSQL</> community will stop releasing updates
   for the 8.4.X release series in July 2014.
   Users are encouraged to update to a newer release branch soon.
  </para>
-->
  <para>
   <productname>PostgreSQL</>社区将在2014年7月停止发布8.4.X版本系列的更新。
   建议用户尽快更新到一个最新版本。
  </para>

  <sect2>
   <!--
   <title>Migration to Version 8.4.20</title>
   -->
   <title>迁移到版本 8.4.20</title>


<!-- 
   <para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
   <para>
    运行8.4.X版本的用户不需要转储/恢复。
   </para>


<!-- 
   <para>
    However, if you are upgrading from a version earlier than 8.4.19,
    see <xref linkend="release-8-4-19">.
   </para>
-->
   <para>
    如果你是从一个早于8.4.19的版本升级而来，请查看<xref linkend="release-8-4-19">。
   </para>

  </sect2>

  <sect2>

   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!-- 
     <para>
      Shore up <literal>GRANT ... WITH ADMIN OPTION</> restrictions
      (Noah Misch)
     </para>
-->
     <para>
      支持<literal>GRANT ... WITH ADMIN OPTION</>限制
      (Noah Misch)
     </para>

<!-- 
     <para>
      Granting a role without <literal>ADMIN OPTION</> is supposed to
      prevent the grantee from adding or removing members from the granted
      role, but this restriction was easily bypassed by doing <literal>SET
      ROLE</> first.  The security impact is mostly that a role member can
      revoke the access of others, contrary to the wishes of his grantor.
      Unapproved role member additions are a lesser concern, since an
      uncooperative role member could provide most of his rights to others
      anyway by creating views or <literal>SECURITY DEFINER</> functions.
      (CVE-2014-0060)
     </para>
-->
     <para>
      不用<literal>ADMIN OPTION</>授予角色应该阻止接受者从授予者角色中添加或删除成员，
      但是这个限制很容易通过先执行<literal>SET ROLE</>绕过。
      安全影响大多数是一个角色成员可以删除其他成员的访问权限，
      违反它的授予者的本意。未经批准的角色成员添加是一个较少的情况，
      因为一个不合作的角色成员会提供它大多数的权限给其他成员，
      通过创建视图或者<literal>SECURITY DEFINER</>函数。 (CVE-2014-0060)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Prevent privilege escalation via manual calls to PL validator
      functions (Andres Freund)
     </para>
-->
     <para>
      阻止通过手动调用PL验证器函数提升权限 (Andres Freund)
     </para>

<!-- 
     <para>
      The primary role of PL validator functions is to be called implicitly
      during <command>CREATE FUNCTION</>, but they are also normal SQL
      functions that a user can call explicitly.  Calling a validator on
      a function actually written in some other language was not checked
      for and could be exploited for privilege-escalation purposes.
      The fix involves adding a call to a privilege-checking function in
      each validator function.  Non-core procedural languages will also
      need to make this change to their own validator functions, if any.
      (CVE-2014-0061)
     </para>
-->
     <para>
      在<command>CREATE FUNCTION</>期间，隐含的调用PL验证器函数的主要角色，
      但是它们也是一个用户可以明确调用的普通SQL函数。
      在一个实际上用其他语言编写的函数上调用验证器是不会检查的，
      并且可以被权限逃逸利用。该修复包含在每个验证器函数中添加一个权限检查函数调用。
      非核心程序语言将也需要在它们自己的验证器函数中做此修改。 (CVE-2014-0061)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Avoid multiple name lookups during table and index DDL
      (Robert Haas, Andres Freund)
     </para>
-->
     <para>
      在表和索引DDL期间避免多个名称查找 (Robert Haas, Andres Freund)
     </para>

<!-- 
     <para>
      If the name lookups come to different conclusions due to concurrent
      activity, we might perform some parts of the DDL on a different table
      than other parts.  At least in the case of <command>CREATE INDEX</>,
      this can be used to cause the permissions checks to be performed
      against a different table than the index creation, allowing for a
      privilege escalation attack.
      (CVE-2014-0062)
     </para>
-->
     <para>
      如果名称查找因为当前的活动而有不同的结果，我们可能在一个不同的表上执行了
      DDL的某些部分。至少在<command>CREATE INDEX</>的情况下，
      这个可以用来对和索引创建的表不同的表执行权限检查，
      允许权限提升攻击。 (CVE-2014-0062)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Prevent buffer overrun with long datetime strings (Noah Misch)
     </para>
-->
     <para>
      阻止缓存溢出长的日期时间字符串 (Noah Misch)
     </para>

<!-- 
     <para>
      The <literal>MAXDATELEN</> constant was too small for the longest
      possible value of type <type>interval</>, allowing a buffer overrun
      in <function>interval_out()</>.  Although the datetime input
      functions were more careful about avoiding buffer overrun, the limit
      was short enough to cause them to reject some valid inputs, such as
      input containing a very long timezone name.  The <application>ecpg</>
      library contained these vulnerabilities along with some of its own.
      (CVE-2014-0063)
     </para>
-->
     <para>
      <literal>MAXDATELEN</>约束对于<type>interval</>类型的最大可能值来说太小了，
      允许在<function>interval_out()</>中缓冲区溢出。
      尽管日期时间输入函数很小心的避免缓冲区溢出，
      但是该限制太短足够导致它们拒绝一些有效的输入，比如包含非常长时区名的输入。
      <application>ecpg</>库包含这些还有一些它自己的缺陷。 (CVE-2014-0063)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Prevent buffer overrun due to integer overflow in size calculations
      (Noah Misch, Heikki Linnakangas)
     </para>
-->
     <para>
      阻止大小计算中由于整数溢出而导致的缓冲区溢出 (Noah Misch, Heikki Linnakangas)
     </para>

<!-- 
     <para>
      Several functions, mostly type input functions, calculated an
      allocation size without checking for overflow.  If overflow did
      occur, a too-small buffer would be allocated and then written past.
      (CVE-2014-0064)
     </para>
-->
     <para>
      几个函数，多数是类型输入函数，计算一个分配大小而不检查溢出。
      如果发生了溢出，将分配一个很小的缓冲区然后写成过去。 (CVE-2014-0064)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Prevent overruns of fixed-size buffers
      (Peter Eisentraut, Jozef Mlich)
     </para>
-->
     <para>
      阻止固定大小的缓冲区溢出 (Peter Eisentraut, Jozef Mlich)
     </para>

<!-- 
     <para>
      Use <function>strlcpy()</> and related functions to provide a clear
      guarantee that fixed-size buffers are not overrun.  Unlike the
      preceding items, it is unclear whether these cases really represent
      live issues, since in most cases there appear to be previous
      constraints on the size of the input string.  Nonetheless it seems
      prudent to silence all Coverity warnings of this type.
      (CVE-2014-0065)
     </para>
-->
     <para>
      使用<function>strlcpy()</>和相关的函数提供一个明确的保证，
      保证固定大小的缓冲区不会溢出。不像之前的项，这个情况是否真实存在还不清楚，
      因为在大多数情况下，这好像是以前对于输入字符串大小的限制。
      尽管如此，最好还是屏蔽这种类型的警告。 (CVE-2014-0065)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Avoid crashing if <function>crypt()</> returns NULL (Honza Horak,
      Bruce Momjian)
     </para>
-->
     <para>
      如果<function>crypt()</>返回NULL，避免崩溃 (Honza Horak,
      Bruce Momjian)
     </para>

<!-- 
     <para>
      There are relatively few scenarios in which <function>crypt()</>
      could return NULL, but <filename>contrib/chkpass</> would crash
      if it did.  One practical case in which this could be an issue is
      if <application>libc</> is configured to refuse to execute unapproved
      hashing algorithms (e.g., <quote>FIPS mode</>).
      (CVE-2014-0066)
     </para>
-->
     <para>
      有几个情况<function>crypt()</>会返回NULL，但是<filename>contrib/chkpass</>
      会在返回NULL时崩溃。这会成为一个问题的具体案例是，
      如果<application>libc</>配置为拒绝执行未经批准的哈希算法
      （例如<quote>FIPS mode</>）。 (CVE-2014-0066)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Document risks of <literal>make check</> in the regression testing
      instructions (Noah Misch, Tom Lane)
     </para>
-->
     <para>
      回归测试说明中<literal>make check</>的文档风险 (Noah Misch, Tom Lane)
     </para>

<!-- 
     <para>
      Since the temporary server started by <literal>make check</>
      uses <quote>trust</> authentication, another user on the same machine
      could connect to it as database superuser, and then potentially
      exploit the privileges of the operating-system user who started the
      tests.  A future release will probably incorporate changes in the
      testing procedure to prevent this risk, but some public discussion is
      needed first.  So for the moment, just warn people against using
      <literal>make check</> when there are untrusted users on the
      same machine.
      (CVE-2014-0067)
     </para>
-->
     <para>
      因为通过<literal>make check</>启动的临时服务器使用<quote>trust</>认证，
      相同机器上的另一个用户可以作为数据库超级用户连接到它，
      然后潜在的利用启动该测试的操作系统用户的权限。
      未来的版本可能包含测试过程中的修改以阻止这个风险，
      但是首先需要公众讨论。所以现在，只是警告用户在相同的机器上有不可信的用户时，
      反对使用<literal>make check</>。 (CVE-2014-0067)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix possible mis-replay of WAL records when some segments of a
      relation aren't full size (Greg Stark, Tom Lane)
     </para>
-->
     <para>
      修复一个关系的某些段不是足够大小时可能的WAL记录错误重放 (Greg Stark, Tom Lane)
     </para>

<!-- 
     <para>
      The WAL update could be applied to the wrong page, potentially many
      pages past where it should have been.  Aside from corrupting data,
      this error has been observed to result in significant <quote>bloat</>
      of standby servers compared to their masters, due to updates being
      applied far beyond where the end-of-file should have been.  This
      failure mode does not appear to be a significant risk during crash
      recovery, only when initially synchronizing a standby created from a
      base backup taken from a quickly-changing master.
     </para>
-->
     <para>
      WAL更新会被应用到错误的页面上，可能会有很多页面都有错误。
      除了数据损坏外，已经观察到这种错误会导致备用服务器比主服务器明显的
      <quote>膨胀</>，因为应用的文件更新远远超出了文件尾。
      这个错误模式在崩溃恢复期间看起来不是一个重大风险，
      仅在最初初始化由来自迅速变化的主服务器的基础备份创建的备用服务器时有风险。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Ensure that insertions into non-leaf GIN index pages write a full-page
      WAL record when appropriate (Heikki Linnakangas)
     </para>
-->
     <para>
      确保插入非叶子GIN索引页时，在适当的时候写一个全页的WAL记录 (Heikki Linnakangas)
     </para>

<!-- 
     <para>
      The previous coding risked index corruption in the event of a
      partial-page write during a system crash.
     </para>
-->
     <para>
      在系统崩溃期间部分页面写入时，以前的编码会有索引损坏的风险。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix race conditions during server process exit (Robert Haas)
     </para>
-->
     <para>
      修复服务器进程退出期间的竞态条件 (Robert Haas)
     </para>

<!-- 
     <para>
      Ensure that signal handlers don't attempt to use the
      process's <varname>MyProc</> pointer after it's no longer valid.
     </para>
-->
     <para>
      确保信号处理器程序在进程的<varname>MyProc</>指针不再有效后不要尝试使用它。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix unsafe references to <varname>errno</> within error reporting
      logic (Christian Kruse)
     </para>
-->
     <para>
      修复错误报告逻辑中不安全的引用<varname>errno</> (Christian Kruse)
     </para>

<!-- 
     <para>
      This would typically lead to odd behaviors such as missing or
      inappropriate <literal>HINT</> fields.
     </para>
-->
     <para>
      这通常会导致奇怪的行为，比如丢失或不适当的<literal>HINT</>字段。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix possible crashes from using <function>ereport()</> too early
      during server startup (Tom Lane)
     </para>
-->
     <para>
      修复在服务器启动期间太早的使用<function>ereport()</>可能的崩溃 (Tom Lane)
     </para>

<!-- 
     <para>
      The principal case we've seen in the field is a crash if the server
      is started in a directory it doesn't have permission to read.
     </para>
-->
     <para>
      我们在实际中观察到的主要情况是，如果服务器在一个它没有读取权限的目录中启动，
      那么会崩溃。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Clear retry flags properly in OpenSSL socket write
      function (Alexander Kukushkin)
     </para>
-->
     <para>
      正确的清除OpenSSL套接字写函数中的重试标志 (Alexander Kukushkin)
     </para>

<!-- 
     <para>
      This omission could result in a server lockup after unexpected loss
      of an SSL-encrypted connection.
     </para>
-->
     <para>
      这个疏忽会导致在意料之外的丢失SSL加密的连接之后查找服务器。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix length checking for Unicode identifiers (<literal>U&amp;"..."</>
      syntax) containing escapes (Tom Lane)
     </para>
-->
     <para>
      修复包含转义符的Unicode标识符(<literal>U&amp;"..."</>
      syntax)的长度检查 (Tom Lane)
     </para>

<!-- 
     <para>
      A spurious truncation warning would be printed for such identifiers
      if the escaped form of the identifier was too long, but the
      identifier actually didn't need truncation after de-escaping.
     </para>
-->
     <para>
      如果该标识符的转义形式太长，那么会给出一个虚假的截断警告，
      但是该标识符在反转义后实际上不需要截断。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix possible crash due to invalid plan for nested sub-selects, such
      as <literal>WHERE (... x IN (SELECT ...) ...) IN (SELECT ...)</>
      (Tom Lane)
     </para>
-->
     <para>
      修复由于嵌套子查询的无效规划引起的崩溃，比如
      <literal>WHERE (... x IN (SELECT ...) ...) IN (SELECT ...)</>
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Ensure that <command>ANALYZE</> creates statistics for a table column
      even when all the values in it are <quote>too wide</> (Tom Lane)
     </para>
-->
     <para>
      确保<command>ANALYZE</>为表字段创建统计，
      即使是表字段中的所有值都是<quote>太宽的</> (Tom Lane)
     </para>

<!-- 
     <para>
      <command>ANALYZE</> intentionally omits very wide values from its
      histogram and most-common-values calculations, but it neglected to do
      something sane in the case that all the sampled entries are too wide.
     </para>
-->
     <para>
      <command>ANALYZE</>有意的从它的直方图和大多数共同值计算中忽略非常宽的值，
      但是它忘了所有取样值都太宽的情况。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      In <literal>ALTER TABLE ... SET TABLESPACE</>, allow the database's
      default tablespace to be used without a permissions check
      (Stephen Frost)
     </para>
-->
     <para>
      在<literal>ALTER TABLE ... SET TABLESPACE</>中，
      允许使用数据库的缺省表空间时没有权限检查 (Stephen Frost)
     </para>

<!-- 
     <para>
      <literal>CREATE TABLE</> has always allowed such usage,
      but <literal>ALTER TABLE</> didn't get the memo.
     </para>
-->
     <para>
      <literal>CREATE TABLE</>总是允许这样的使用，
      但是<literal>ALTER TABLE</>不是。
     </para>
    </listitem>

    <listitem>

<!-- 
     <para>
      Fix <quote>cannot accept a set</> error when some arms of
      a <literal>CASE</> return a set and others don't (Tom Lane)
     </para>
-->
     <para>
      修复<literal>CASE</>的一些分支返回一个集合而其他的不返回集合时的
      <quote>cannot accept a set</>错误 (Tom Lane)
     </para>
    </listitem>

    <listitem>

<!-- 
     <para>
      Fix checks for all-zero client addresses in pgstat functions (Kevin
      Grittner)
     </para>
-->
     <para>
      修复pgstat函数中所有零客户端地址的检查 (Kevin
      Grittner)
     </para>
    </listitem>

    <listitem>

<!-- 
     <para>
      Fix possible misclassification of multibyte characters by the text
      search parser (Tom Lane)
     </para>
-->
     <para>
      修复文本搜索解析器可能的多字节字符误分类 (Tom Lane)
     </para>

<!-- 
     <para>
      Non-ASCII characters could be misclassified when using C locale with
      a multibyte encoding.  On Cygwin, non-C locales could fail as well.
     </para>
-->
     <para>
      当使用C语言环境的多字节编码时，非ASCII字符会被误分类。
      在Cygwin上，非C的环境也会失败。
     </para>
    </listitem>

    <listitem>

<!-- 
     <para>
      Fix possible misbehavior in <function>plainto_tsquery()</>
      (Heikki Linnakangas)
     </para>
-->
     <para>
      修复<function>plainto_tsquery()</>中可能的错误行为
      (Heikki Linnakangas)
     </para>

<!-- 
     <para>
      Use <function>memmove()</> not <function>memcpy()</> for copying
      overlapping memory regions.  There have been no field reports of
      this actually causing trouble, but it's certainly risky.
     </para>
-->
     <para>
      使用<function>memmove()</>而不是<function>memcpy()</>
      复制重叠的内存区域。还没有报告说它实际导致问题，但是它确实是个风险。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Accept <literal>SHIFT_JIS</> as an encoding name for locale checking
      purposes (Tatsuo Ishii)
     </para>
-->
     <para>
      为了环境检查的目的，接受<literal>SHIFT_JIS</>作为编码的名字 (Tatsuo Ishii)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix misbehavior of <function>PQhost()</> on Windows (Fujii Masao)
     </para>
-->
     <para>
      修复Windows上<function>PQhost()</>的错误行为 (Fujii Masao)
     </para>

<!-- 
     <para>
      It should return <literal>localhost</> if no host has been specified.
     </para>
-->
     <para>
      如果没有指定主机，那么它应该返回<literal>localhost</>。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Improve error handling in <application>libpq</> and <application>psql</>
      for failures during <literal>COPY TO STDOUT/FROM STDIN</> (Tom Lane)
     </para>
-->
     <para>
      提高<literal>COPY TO STDOUT/FROM STDIN</>期间<application>libpq</>
      和<application>psql</>中失败的错误处理 (Tom Lane)
     </para>

<!-- 
     <para>
      In particular this fixes an infinite loop that could occur in 9.2 and
      up if the server connection was lost during <literal>COPY FROM
      STDIN</>.  Variants of that scenario might be possible in older
      versions, or with other client applications.
     </para>
-->
     <para>
      特别的，它修复了服务器连接在<literal>COPY FROM STDIN</>
      期间丢失时，9.2及以上版本中会发生的无限循环。
      这种场景的变体也可能发生在较老的版本中，或者发生在其他客户端应用中。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix misaligned descriptors in <application>ecpg</> (MauMau)
     </para>
-->
     <para>
      修复<application>ecpg</>中不对齐的描述符 (MauMau)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      In <application>ecpg</>, handle lack of a hostname in the connection
      parameters properly (Michael Meskes)
     </para>
-->
     <para>
      在<application>ecpg</>中，正确的处理连接参数中主机名的缺少 (Michael Meskes)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix performance regression in <filename>contrib/dblink</> connection
      startup (Joe Conway)
     </para>
-->
     <para>
      修复<filename>contrib/dblink</>连接启动中的性能退化 (Joe Conway)
     </para>

<!-- 
     <para>
      Avoid an unnecessary round trip when client and server encodings match.
     </para>
-->
     <para>
      当客户端和服务器编码匹配时，避免不必要的往返。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      In <filename>contrib/isn</>, fix incorrect calculation of the check
      digit for ISMN values (Fabien Coelho)
     </para>
-->
     <para>
      在<filename>contrib/isn</>中，修复对ISMN值的校验位的不正确的计算 (Fabien Coelho)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Ensure client-code-only installation procedure works as documented
      (Peter Eisentraut)
     </para>
-->
     <para>
      确保仅客户端编码的安装程序作为记录工作 (Peter Eisentraut)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      In Mingw and Cygwin builds, install the <application>libpq</> DLL
      in the <filename>bin</> directory (Andrew Dunstan)
     </para>
-->
     <para>
      在Mingw和Cygwin建立中，在<filename>bin</>目录下安装
      <application>libpq</> DLL (Andrew Dunstan)
     </para>


<!-- 
     <para>
      This duplicates what the MSVC build has long done.  It should fix
      problems with programs like <application>psql</> failing to start
      because they can't find the DLL.
     </para>
-->
     <para>
      这复制了MSVC构造很久以前就已经做了的事情。它应该修复程序的问题，
      比如<application>psql</>因为没有找到DLL而未能启动。
     </para>
    </listitem>

    <listitem>

<!-- 
     <para>
      Don't generate plain-text <filename>HISTORY</>
      and <filename>src/test/regress/README</> files anymore (Tom Lane)
     </para> 
-->
     <para>
      不再生成纯文本<filename>HISTORY</>和<filename>src/test/regress/README</>
      文件 (Tom Lane)
     </para>


<!-- 
     <para>
      These text files duplicated the main HTML and PDF documentation
      formats.  The trouble involved in maintaining them greatly outweighs
      the likely audience for plain-text format.  Distribution tarballs
      will still contain files by these names, but they'll just be stubs
      directing the reader to consult the main documentation.
      The plain-text <filename>INSTALL</> file will still be maintained, as
      there is arguably a use-case for that.
     </para>
-->
     <para>
      这些文本文件复制主要的HTML和PDF文档格式。维护它们的困难远远超过了纯文本格式的困难。
      发布将仍然包含这些名字的文件，但是它们只是指导读者咨询主文档。
      将仍然维护纯文本<filename>INSTALL</>文件，因为那里有一个用户用例。
     </para>
    </listitem>

    <listitem>

<!-- 
     <para>
      Update time zone data files to <application>tzdata</> release 2013i
      for DST law changes in Jordan and historical changes in Cuba.
     </para>
-->
     <para>
      更新时区数据文件到<application>tzdata</>版本2013i，
      因为DST规律在Jordan和Cuba的历史中发生了改变。
     </para>


<!-- 
     <para>
      In addition, the zones <literal>Asia/Riyadh87</>,
      <literal>Asia/Riyadh88</>, and <literal>Asia/Riyadh89</> have been
      removed, as they are no longer maintained by IANA, and never
      represented actual civil timekeeping practice.
     </para>
-->
     <para>
      另外，时区<literal>Asia/Riyadh87</>、<literal>Asia/Riyadh88</>
      和<literal>Asia/Riyadh89</>已经删除了，因为IANA已经不维护它们了，
      并且它们也从未代表过实际的民间计时。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-19">
  <!-- 
  <title>Release 8.4.19</title>
  -->
  <title>版本 8.4.19</title>

  <note>
  <!-- 
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2013-12-05</simpara>
  </note>

<!-- 
  <para>
   This release contains a variety of fixes from 8.4.18.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
  <para>
   这个版本包含各种自8.4.18以来的修复。关于8.4主版本的新特性信息，
   请查看<xref linkend="release-8-4">。
  </para>

  <sect2>
   <!-- 
   <title>Migration to Version 8.4.19</title>
   -->
   <title>迁移到版本 8.4.19</title>

   <!-- 
   <para>
    A dump/restore is not required for those running 8.4.X.
   </para>
   -->
   <para>
    运行8.4.X的用户不需要转储/恢复。
   </para>

<!-- 
   <para>
    However, this release corrects a potential data corruption
    issue.  See the first changelog entry below to find out whether
    your installation has been affected and what steps you can take if so.
   </para>
-->
   <para>
    这个版本纠正了一个潜在的数据损坏问题。参阅下面的第一条修改日志项，
    找出您的安装是否受到了影响，和如果受到了影响应该采取什么步骤。
   </para>

<!-- 
   <para>
    Also, if you are upgrading from a version earlier than 8.4.17,
    see <xref linkend="release-8-4-17">.
   </para>
-->
   <para>
    另外，如果你是从早于8.4.17的版本升级而来，请参阅
    <xref linkend="release-8-4-17">。
   </para>

  </sect2>

  <sect2>
   <!-- 
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>

<!-- 
     <para>
      Fix <command>VACUUM</>'s tests to see whether it can
      update <structfield>relfrozenxid</> (Andres Freund)
     </para>
-->
     <para>
      修复<command>VACUUM</>的测试，查看它是否可以更新
      <structfield>relfrozenxid</> (Andres Freund)
     </para>


<!-- 
     <para>
      In some cases <command>VACUUM</> (either manual or autovacuum) could
      incorrectly advance a table's <structfield>relfrozenxid</> value,
      allowing tuples to escape freezing, causing those rows to become
      invisible once 2^31 transactions have elapsed.  The probability of
      data loss is fairly low since multiple incorrect advancements would
      need to happen before actual loss occurs, but it's not zero.  Users
      upgrading from release 8.4.8 or earlier are not affected, but all later
      versions contain the bug.
     </para>
-->
     <para>
      在<command>VACUUM</>（手动或自动）的某些情况下，会错误的增加一个表的
      <structfield>relfrozenxid</>值，允许元组逃离冻结，导致一旦过去2^31个事务，
      这些行就变得不可见了。数据丢失的可能性要低的多，因为在数据真正的丢失之前，
      需要多个不正确的进展，但也不是没有。从8.4.8或更早版本升级而来的用户没有受到影响，
      但是所有随后的版本都包含了这个错误。
     </para>

<!-- 
     <para>
      The issue can be ameliorated by, after upgrading, vacuuming all tables
      in all databases while having <link
      linkend="guc-vacuum-freeze-table-age"><varname>vacuum_freeze_table_age</></link>
      set to zero.  This will fix any latent corruption but will not be able
      to fix all pre-existing data errors.  However, an installation can be
      presumed safe after performing this vacuuming if it has executed fewer
      than 2^31 update transactions in its lifetime (check this with
      <literal>SELECT txid_current() < 2^31</>).
     </para>
-->
     <para>
      这个问题可以通过升级、在<link
      linkend="guc-vacuum-freeze-table-age"><varname>vacuum_freeze_table_age</></link>
      设置为零的情况下清理所有数据库中的表来改善。这可以修复任何潜在的损坏，
      但是不能修复所有已经存在的数据错误。不过，如果一个安装已经执行的更新事务少于2^31
      （使用<literal>SELECT txid_current() < 2^31</>检查），
      那么可以假设在执行清理之后该安装是安全的。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix race condition in GIN index posting tree page deletion (Heikki
      Linnakangas)
     </para>
-->
     <para>
      修复GIN索引发布树页面删除中的竞态条件 (Heikki Linnakangas)
     </para>

<!-- 
     <para>
      This could lead to transient wrong answers or query failures.
     </para>
-->
     <para>
      这会导致短暂的错误回复或查询失败。
     </para>
    </listitem>

    <listitem>

<!-- 
     <para>
      Avoid flattening a subquery whose <literal>SELECT</> list contains a
      volatile function wrapped inside a sub-<literal>SELECT</> (Tom Lane)
     </para>
-->
     <para>
      避免展开一个<literal>SELECT</>列表的子<literal>SELECT</>
      中包含易变函数的查询 (Tom Lane)
     </para>

<!-- 
     <para>
      This avoids unexpected results due to extra evaluations of the
      volatile function.
     </para>
-->
     <para>
      这避免了由于额外的计算易变函数而导致意想不到的结果。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix planner's processing of non-simple-variable subquery outputs
      nested within outer joins (Tom Lane)
     </para>
-->
     <para>
      修复规划器对非简单变量子查询输出嵌套在外连接中的处理 (Tom Lane)
     </para>

<!-- 
     <para>
      This error could lead to incorrect plans for queries involving
      multiple levels of subqueries within <literal>JOIN</> syntax.
     </para>
-->
     <para>
      这个错误会导致对<literal>JOIN</>语法中包含多级别子查询的查询的错误规划。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix premature deletion of temporary files (Andres Freund)
     </para>
-->
     <para>
      修复过早删除临时文件 (Andres Freund)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix possible read past end of memory in rule printing (Peter Eisentraut)
     </para>
-->
     <para>
      修复规则输出中可能的读取过去的内存 (Peter Eisentraut)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix array slicing of <type>int2vector</> and <type>oidvector</> values
      (Tom Lane)
     </para>
-->
     <para>
      修复<type>int2vector</>和<type>oidvector</>值的数组切片 (Tom Lane)
     </para>

<!-- 
     <para>
      Expressions of this kind are now implicitly promoted to
      regular <type>int2</> or <type>oid</> arrays.
     </para>
-->
     <para>
      这种形式的表达式现在隐式的提升为正规的<type>int2</>或
      <type>oid</>数组。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix incorrect behaviors when using a SQL-standard, simple GMT offset
      timezone (Tom Lane)
     </para>
-->
     <para>
      修复使用SQL标准、简单的GMT偏移时区时的错误行为 (Tom Lane)
     </para>

<!-- 
     <para>
      In some cases, the system would use the simple GMT offset value when
      it should have used the regular timezone setting that had prevailed
      before the simple offset was selected.  This change also causes
      the <function>timeofday</> function to honor the simple GMT offset
      zone.
     </para>
-->
     <para>
      在某些情况下，当系统应该使用常规的时区设置（在选择简单偏移之前它就盛行了）时，
      系统使用了简单GMT偏移值。这个修改也导致<function>timeofday</>
      函数遵守简单GMT偏移时区。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Prevent possible misbehavior when logging translations of Windows
      error codes (Tom Lane)
     </para>
-->
     <para>
      阻止记录Windows错误代码的翻译时可能的错误行为 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Properly quote generated command lines in <application>pg_ctl</>
      (Naoya Anzai and Tom Lane)
     </para>
-->
     <para>
      正确的引用<application>pg_ctl</>中生成的命令行 (Naoya Anzai and Tom Lane)
     </para>

<!-- 
     <para>
      This fix applies only to Windows.
     </para>
-->
     <para>
      该修复仅适用于Windows。
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Fix <application>pg_dumpall</> to work when a source database
      sets <link
      linkend="guc-default-transaction-read-only"><varname>default_transaction_read_only</></link>
      via <command>ALTER DATABASE SET</> (Kevin Grittner)
     </para>
-->
     <para>
      修复<application>pg_dumpall</>，使其在源数据库通过<command>ALTER DATABASE SET</>
      设置<link
      linkend="guc-default-transaction-read-only"><varname>default_transaction_read_only</></link>
      时也能工作 (Kevin Grittner)
     </para>

<!-- 
     <para>
      Previously, the generated script would fail during restore.
     </para>
-->
     <para>
      以前，生成的脚本在恢复期间会失败。
     </para>
    </listitem>

    <listitem>

<!-- 
     <para>
      Fix <application>ecpg</>'s processing of lists of variables
      declared <type>varchar</> (Zolt&aacute;n B&ouml;sz&ouml;rm&eacute;nyi)
     </para>
-->
     <para>
      修复<application>ecpg</>对<type>varchar</>声明的变量列表的处理
      (Zolt&aacute;n B&ouml;sz&ouml;rm&eacute;nyi)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Make <filename>contrib/lo</> defend against incorrect trigger definitions
      (Marc Cousin)
     </para>
-->
     <para>
      让<filename>contrib/lo</>防卫不正确的触发器定义 (Marc Cousin)
     </para>
    </listitem>

    <listitem>
<!-- 
     <para>
      Update time zone data files to <application>tzdata</> release 2013h
      for DST law changes in Argentina, Brazil, Jordan, Libya,
      Liechtenstein, Morocco, and Palestine.  Also, new timezone
      abbreviations WIB, WIT, WITA for Indonesia.
     </para>
-->
     <para>
      更新时区数据文件到<application>tzdata</>版本2013h，
      因为DST规律在Argentina、Brazil、Jordan、Libya、
      Liechtenstein、Morocco和Palestine发生了改变。
      还有，Indonesia的新的时区缩写WIB、WIT、WITA。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>
 <sect1 id="release-8-4-18">
 <!--
  <title>Release 8.4.18</title>
-->
  <title>版本8.4.18</title> 

  <note>
  <!--
  <title>Release Date</title> 
  -->
   <title>发布日期</title>
  <simpara>2013-10-10</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.17.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
   该发布包含8.4.17的各种修复。关于8.4主要版本的新功能信息，
   参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.18</title>
  -->
   <title>迁移到8.4.18</title>

   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
   运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, if you are upgrading from a version earlier than 8.4.17,
    see <xref linkend="release-8-4-17">.
   </para>
-->
<para>
   如果你从8.4.17的更早版本中升级，
   参阅<xref linkend="release-8-4-17">的发布说明。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
<title>变化</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Prevent corruption of multi-byte characters when attempting to
      case-fold identifiers (Andrew Dunstan)
     </para>
-->
<para>
    在尝试大小写折叠标识符时阻止多字节字符的损坏 (Andrew Dunstan)
</para>

     <!--
<para>
      <productname>PostgreSQL</> case-folds non-ASCII characters only
      when using a single-byte server encoding.
     </para>
-->
<para>
   <productname>PostgreSQL</>仅在使用单字节服务器编码时大小写折叠非ASCII字符。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leak caused by <function>lo_open()</function> failure
      (Heikki Linnakangas)
     </para>
-->
<para>
   修复通过<function>lo_open()</function>故障导致的内存泄露(Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory overcommit bug when <varname>work_mem</> is using more
      than 24GB of memory (Stephen Frost)
     </para>
-->
<para>
   当<varname>work_mem</>正使用超过24GB内存时，
   修复内存过量使用错误(Stephen Frost)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix deadlock bug in libpq when using SSL (Stephen Frost)
     </para>
-->
<para>
     修复使用SSL时libpq中的死锁错误(Stephen Frost)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Properly compute row estimates for boolean columns containing many NULL
      values (Andrew Gierth)
     </para>
-->
<para>
   
    正确计算包含许多NULL值的布尔列的行估计(Andrew Gierth)
</para>

     <!--
<para>
      Previously tests like <literal>col IS NOT TRUE</> and <literal>col IS
      NOT FALSE</> did not properly factor in NULL values when estimating
      plan costs.
     </para>
-->
<para>
    当估计计划成本时，以前的测试像<literal>col IS NOT TRUE</>和
<literal>col IS NOT FALSE</>没有正确把NULL值因素计算在内。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent pushing down <literal>WHERE</> clauses into unsafe
      <literal>UNION/INTERSECT</> subqueries (Tom Lane)
     </para>
-->
<para>
   防止下压<literal>WHERE</>子句到不安全<literal>UNION/INTERSECT</>子查询 (Tom Lane)
</para>

     <!--
<para>
      Subqueries of a <literal>UNION</> or <literal>INTERSECT</> that
      contain set-returning functions or volatile functions in their
      <literal>SELECT</> lists could be improperly optimized, leading to
      run-time errors or incorrect query results.
     </para>
-->
<para>
在<literal>SELECT</>列表中包含设置返回函数或易变函数的<literal>UNION</>
或<literal>INTERSECT</>的子查询可能会优化不当，导致运行时错误或不正确的查询结果。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix rare case of <quote>failed to locate grouping columns</>
      planner failure (Tom Lane)
     </para>
-->
<para>
修复规划器错误<quote>failed to locate grouping columns</>的罕见情况 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve view dumping code's handling of dropped columns in referenced
      tables (Tom Lane)
     </para>
-->
<para>
改善视图转储代码对引用表中已删除字段的处理 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible deadlock during concurrent <command>CREATE INDEX
      CONCURRENTLY</> operations (Tom Lane)
     </para>
-->
<para>
    修复并发<command>CREATE INDEX CONCURRENTLY</>操作间的可能的死锁(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <function>regexp_matches()</> handling of zero-length matches
      (Jeevan Chalke)
     </para>
-->
<para>
    修复零长度匹配的<function>regexp_matches()</>处理(Jeevan Chalke)
</para>

     <!--
<para>
      Previously, zero-length matches like '^' could return too many matches.
     </para>
-->
<para>
    以前，零长度匹配像'^'可以返回许多匹配。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix crash for overly-complex regular expressions (Heikki Linnakangas)
     </para>
-->
<para>
    修复过于复杂的正则表达式崩溃(Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix regular expression match failures for back references combined with
      non-greedy quantifiers (Jeevan Chalke)
     </para>
-->
<para>
   修复为反向引用与非贪婪量词相结合的正则表达式匹配错误(Jeevan Chalke)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent <command>CREATE FUNCTION</> from checking <command>SET</>
      variables unless function body checking is enabled (Tom Lane)
     </para>
-->
<para>
  防止<command>CREATE FUNCTION</>检查<command>SET</>变量
  除非启用函数体检查(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <function>pgp_pub_decrypt()</> so it works for secret keys with
      passwords (Marko Kreen)
     </para>
-->
<para>
    修复<function>pgp_pub_decrypt()</>因此为带有密码的秘钥工作(Marko Kreen)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Remove rare inaccurate warning during vacuum of index-less tables
      (Heikki Linnakangas)
     </para>
-->
<para>
     删除无索引表的清理中罕见的不正确警告(Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid possible failure when performing transaction control commands (e.g
      <command>ROLLBACK</>) in prepared queries (Tom Lane)
     </para>
-->
<para>
    当在预备查询中执行事务控制命令时(比如<command>ROLLBACK</>)，
避免可能错误(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that floating-point data input accepts standard spellings
      of <quote>infinity</> on all platforms (Tom Lane)
     </para>
-->
<para>
确保浮点型数据输入在所有平台上接受<quote>infinity</>的标准拼写 (Tom Lane)
</para>

     <!--
<para>
      The C99 standard says that allowable spellings are <literal>inf</>,
      <literal>+inf</>, <literal>-inf</>, <literal>infinity</>,
      <literal>+infinity</>, and <literal>-infinity</>.  Make sure we
      recognize these even if the platform's <function>strtod</> function
      doesn't.
     </para>
-->
<para>
    C99标准允许的拼写是<literal>inf</>、<literal>+inf</>、<literal>-inf</>、
    <literal>infinity</>、<literal>+infinity</>和<literal>-infinity</>。
    确保我们认识它们，即使平台的<function>strtod</>不认识。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Expand ability to compare rows to records and arrays (Rafal Rzepecki,
      Tom Lane)
     </para>
-->
<para>
   扩展比较行记录和数组能力(Rafal Rzepecki,Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2013d
      for DST law changes in Israel, Morocco, Palestine, and Paraguay.
      Also, historical zone data corrections for Macquarie Island.
      (Tom Lane)
     </para>
-->
<para>
     为Israel，Morocco，Palestine，Paraguay中DST变化规律的DST变化更新
 时区数据文件到<application>tzdata</>发布2013d。
 同时为Macquarie Island历史时区数据修正(Tom Lane)
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-17">
 <!--
  <title>Release 8.4.17</title>
-->
   <title>版本8.4.17</title>
  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2013-04-04</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.16.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含8.4.16的各种修复。关于8.4主要发布的新功能的信息，
参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.17</title>
-->
   <title>迁移到版本8.4.17</title>
   
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
    运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, this release corrects several errors in management of GiST
    indexes.  After installing this update, it is advisable to
    <command>REINDEX</> any GiST indexes that meet one or more of the
    conditions described below.
   </para>
-->
<para>
    然而，该发布修正了GiST索引管理中的几个错误。
安装这个更新之后，对于<command>REINDEX</>满足下面描述的一个或者多个条件的任何GiST索引是明智的。
</para>

   <!--
<para>
    Also, if you are upgrading from a version earlier than 8.4.10,
    see <xref linkend="release-8-4-10">.
   </para>
-->
<para>
   同时，如果你从8.4.10更早版本更新，参阅<xref linkend="release-8-4-10">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
   <title>修改列表</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Reset OpenSSL randomness state in each postmaster child process
      (Marko Kreen)
     </para>
-->
<para>
    在每个postmaster子进程中重置OpenSSL随机状态(Marko Kreen)
</para>

     <!--
<para>
      This avoids a scenario wherein random numbers generated by
      <filename>contrib/pgcrypto</> functions might be relatively easy for
      another database user to guess.  The risk is only significant when
      the postmaster is configured with <varname>ssl</> = <literal>on</>
      but most connections don't use SSL encryption.  (CVE-2013-1900)
     </para>
-->
<para>
   这避免了这样一种情况，其中通过<filename>contrib/pgcrypto</>产生的随机值
   可能对于另一个数据库用户相对容易。当postmaster可以配置<varname>ssl</> = <literal>on</>时，
   该风险是唯一显著的，但是大多数连接不使用SSL加密。(CVE-2013-1900)
   
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix GiST indexes to not use <quote>fuzzy</> geometric comparisons when
      it's not appropriate to do so (Alexander Korotkov)
     </para>
-->
<para>
     当它不适合这样做的时候，修复GiST索引不使用<quote>模糊</>几何比较(Alexander Korotkov)
</para>

     <!--
<para>
      The core geometric types perform comparisons using <quote>fuzzy</>
      equality, but <function>gist_box_same</> must do exact comparisons,
      else GiST indexes using it might become inconsistent.  After installing
      this update, users should <command>REINDEX</> any GiST indexes on
      <type>box</>, <type>polygon</>, <type>circle</>, or <type>point</>
      columns, since all of these use <function>gist_box_same</>.
     </para>
-->
<para>
    核心几何类型执行使用<quote>模糊</>平等比较，但是<function>gist_box_same</>
必须执行精确比较，否则使用它的GiST索引可能变得不一致。
安装该更新之后，用户应该在<type>box</>，<type>polygon</>，<type>circle</>或者<type>point</>列上
<command>REINDEX</>任何GiST索引。
因为所有这些使用<function>gist_box_same</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix erroneous range-union and penalty logic in GiST indexes that use
      <filename>contrib/btree_gist</> for variable-width data types, that is
      <type>text</>, <type>bytea</>, <type>bit</>, and <type>numeric</>
      columns (Tom Lane)
     </para>
-->
<para>
    修复不正确的范围并集以及
为了可变宽度数据类型使用
<filename>contrib/btree_gist</>的GiST索引中惩罚逻辑，
 也就是<type>text</>, <type>bytea</>， 
 <type>bit</>和<type>numeric</>列(Tom Lane)
</para>

     <!--
<para>
      These errors could result in inconsistent indexes in which some keys
      that are present would not be found by searches, and also in useless
      index bloat.  Users are advised to <command>REINDEX</> such indexes
      after installing this update.
     </para>
-->
<para>
   这些错误可能导致不一致索引，
   其中一些出现的关键字不会被搜索发现，
   并且在无用的索引膨胀中，
在安装此更新后建议用户<command>REINDEX</>这种索引。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bugs in GiST page splitting code for multi-column indexes
      (Tom Lane)
     </para>
-->
<para>
   修复为多列索引在GiST页中分离代码的错误(Tom Lane)
</para>

     <!--
<para>
      These errors could result in inconsistent indexes in which some keys
      that are present would not be found by searches, and also in indexes
      that are unnecessarily inefficient to search.  Users are advised to
      <command>REINDEX</> multi-column GiST indexes after installing this
      update.
     </para>
-->
<para>
     这些错误可能导致不一致索引，
其中一些出现的关键字不会被搜索发现，
并且在索引中是不必要的无效的搜索。
在安装此更新后建议用户
<command>REINDEX</>多列GiST索引。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix infinite-loop risk in regular expression compilation (Tom Lane,
      Don Porter)
     </para>
-->
<para>
   修复正则表达式编译中无限循环风险(Tom Lane,Don Porter)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix potential null-pointer dereference in regular expression compilation
      (Tom Lane)
     </para>
-->
<para>
    修复正则表达式编译中潜在的空指针取消引用(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <function>to_char()</> to use ASCII-only case-folding rules where
      appropriate (Tom Lane)
     </para>
-->
<para>
    修复<function>to_char()</>在合适的地方使用ASCII大小写折叠规则(Tom Lane)
</para>

     <!--
<para>
      This fixes misbehavior of some template patterns that should be
      locale-independent, but mishandled <quote><literal>I</></quote> and
      <quote><literal>i</></quote> in Turkish locales.
     </para>
-->
<para>
    这修复了应该区域独立的一些模板模式的不当操作，
但是在Turkish地区胡乱操作<quote><literal>I</></quote>和<quote><literal>i</></quote>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix unwanted rejection of timestamp <literal>1999-12-31 24:00:00</>
      (Tom Lane)
     </para>
-->
<para>
    修复时间戳<literal>1999-12-31 24:00:00</>的不必要拒绝(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Remove useless <quote>picksplit doesn't support secondary split</> log
      messages (Josh Hansen, Tom Lane)
     </para>
-->
<para>
    删除无效的<quote>picksplit不支持二次分裂</>日志消息(Josh Hansen, Tom Lane)
</para>

     <!--
<para>
      This message seems to have been added in expectation of code that was
      never written, and probably never will be, since GiST's default
      handling of secondary splits is actually pretty good.  So stop nagging
      end users about it.
     </para>
-->
<para>
    该消息似乎被添加到从未写入的期望代码中，
并且可能从来不是，因为二次分裂的GiST的缺省处理
实际上相当好。
所以停止打扰关于它的最终用户。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible failure to send a session's last few transaction
      commit/abort counts to the statistics collector (Tom Lane)
     </para>
-->
<para>
  修复发送会话的
  最后几个事务提交/终止计数到统计收集器的可能错误(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Eliminate memory leaks in PL/Perl's <function>spi_prepare()</> function
      (Alex Hunsaker, Tom Lane)
     </para>
-->
<para>
   消除PL/Perl的<function>spi_prepare()</>函数中内存泄露(Alex Hunsaker, Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_dumpall</> to handle database names containing
      <quote><literal>=</></quote> correctly (Heikki Linnakangas)
     </para>
-->
<para>
     修复<application>pg_dumpall</>以
 正确处理包含<quote><literal>=</></quote>的数据库名字(Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid crash in <application>pg_dump</> when an incorrect connection
      string is given (Heikki Linnakangas)
     </para>
-->
<para>
    当给定一个不正确连接字符串时，避免<application>pg_dump</>崩溃(Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ignore invalid indexes in <application>pg_dump</> (Michael Paquier)
     </para>
-->
<para>
   忽略<application>pg_dump</>中无效索引(Michael Paquier)
</para>

     <!--
<para>
      Dumping invalid indexes can cause problems at restore time, for example
      if the reason the index creation failed was because it tried to enforce
      a uniqueness condition not satisfied by the table's data.  Also, if the
      index creation is in fact still in progress, it seems reasonable to
      consider it to be an uncommitted DDL change, which
      <application>pg_dump</> wouldn't be expected to dump anyway.
     </para>
-->
<para>
     备份无效索引可能导致恢复时间的问题，
比如如果索引创建失败的原因是它试图强制
不满足表的数据的唯一性条件。同时，如果索引创建实际上仍然在进行中，
认为它是一个不受约束的DDL变化似乎是合理的，其中<application>pg_dump</>
不期望备份。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <filename>contrib/pg_trgm</>'s <function>similarity()</> function
      to return zero for trigram-less strings (Tom Lane)
     </para>
-->
<para>
    修复<filename>contrib/pg_trgm</>的<function>similarity()</>
   函数为少于三个的字符串返回零(Tom Lane)
</para>

     <!--
<para>
      Previously it returned <literal>NaN</> due to internal division by zero.
     </para>
-->
<para>
    以前它返回<literal>NaN</>由于内部除以零。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2013b
      for DST law changes in Chile, Haiti, Morocco, Paraguay, and some
      Russian areas.  Also, historical zone data corrections for numerous
      places.
     </para>
-->
<para>
     为了Chile, Haiti, Morocco, Paraguay和一些Russian区域中DST变化规律更
 新时间区域数据文件到<application>tzdata</>发布2013b。
     同时为更多地方修正历史区域数据。
</para>

     <!--
<para>
      Also, update the time zone abbreviation files for recent changes in
      Russia and elsewhere: <literal>CHOT</>, <literal>GET</>,
      <literal>IRKT</>, <literal>KGT</>, <literal>KRAT</>, <literal>MAGT</>,
      <literal>MAWT</>, <literal>MSK</>, <literal>NOVT</>, <literal>OMST</>,
      <literal>TKT</>, <literal>VLAT</>, <literal>WST</>, <literal>YAKT</>,
      <literal>YEKT</> now follow their current meanings, and
      <literal>VOLT</> (Europe/Volgograd) and <literal>MIST</>
      (Antarctica/Macquarie) are added to the default abbreviations list.
     </para>
-->
<para>
   另外，在Russia和其他地方更新最近变化的时区缩写文件：<literal>CHOT</>, <literal>GET</>,
      <literal>IRKT</>, <literal>KGT</>, <literal>KRAT</>, <literal>MAGT</>,
      <literal>MAWT</>, <literal>MSK</>, <literal>NOVT</>, <literal>OMST</>,
      <literal>TKT</>, <literal>VLAT</>, <literal>WST</>, <literal>YAKT</>,
  <literal>YEKT</>现在遵从它们当前意义，并且
  <literal>VOLT</> (Europe/Volgograd)和<literal>MIST</>
      (Antarctica/Macquarie)被添加到缺省缩写列表中。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-16">
 <!--
  <title>Release 8.4.16</title>
-->
   <title>版本8.4.16</title>
  <note>
  <title>Release Date</title>
  <simpara>2013-02-07</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.15.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
   该发布包含8.4.15的各种修复。关于8.4主要发布的新功能的信息，
   参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.16</title>
-->
    <title>迁移到版本8.4.16</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
    运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, if you are upgrading from a version earlier than 8.4.10,
    see <xref linkend="release-8-4-10">.
   </para>
-->
<para>
   然而，如果你从8.4.10更早版本更新，参阅<xref linkend="release-8-4-10">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
  <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Prevent execution of <function>enum_recv</> from SQL (Tom Lane)
     </para>
-->
<para>
    防止来自SQL<function>enum_recv</>的执行(Tom Lane)
</para>

     <!--
<para>
      The function was misdeclared, allowing a simple SQL command to crash the
      server.  In principle an attacker might be able to use it to examine the
      contents of server memory.  Our thanks to Sumit Soni (via Secunia SVCRP)
      for reporting this issue.  (CVE-2013-0255)
     </para>
-->
<para>
    该函数被错误声明，
 允许简单SQL命令导致服务器崩溃。
 原则上攻击者可以使用它检查服务器内存的内容。
 我们该感谢Sumit Soni 
 (通过Secunia SVCRP)报告这个问题。(CVE-2013-0255)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update minimum recovery point when truncating a relation file (Heikki
      Linnakangas)
     </para>
-->
<para>
    当截断关系文件时，更新最小恢复点(Heikki Linnakangas)
</para>

     <!--
<para>
      Once data has been discarded, it's no longer safe to stop recovery at
      an earlier point in the timeline.
     </para>
-->
<para>
    一旦数据被丢弃，在时间轴早一点的位置停止恢复不再安全。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix SQL grammar to allow subscripting or field selection from a
      sub-SELECT result (Tom Lane)
     </para>
-->
<para>
   修复SQL语法以允许来自子SELECT结果的下标或者字段选择(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Protect against race conditions when scanning
      <structname>pg_tablespace</> (Stephen Frost, Tom Lane)
     </para>
-->
<para>
    当扫描<structname>pg_tablespace</>时，防止竞争条件(Stephen Frost, Tom Lane)
</para>

     <!--
<para>
      <command>CREATE DATABASE</> and <command>DROP DATABASE</> could
      misbehave if there were concurrent updates of
      <structname>pg_tablespace</> entries.
     </para>
-->
<para>
    如果有<structname>pg_tablespace</>项的并发更新，
   那么<command>CREATE DATABASE</>和<command>DROP DATABASE</>
   可能行为不当。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent <command>DROP OWNED</> from trying to drop whole databases or
      tablespaces (&Aacute;lvaro Herrera)
     </para>
-->
<para>
    防止<command>DROP OWNED</>试图删除整个数据库或者表空间(&Aacute;lvaro Herrera)
</para>

     <!--
<para>
      For safety, ownership of these objects must be reassigned, not dropped.
     </para>
-->
<para>
    为了安全起见，这些对象所有权必须被重新分配，而不是删除。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix error in <link
      linkend="guc-vacuum-freeze-table-age"><varname>vacuum_freeze_table_age</></link>
      implementation (Andres Freund)
     </para>
-->
<para>
    修复<link linkend="guc-vacuum-freeze-table-age"><varname>vacuum_freeze_table_age</></link>
实现中的错误(Andres Freund)
</para>

     <!--
<para>
      In installations that have existed for more than <link
      linkend="guc-vacuum-freeze-min-age"><varname>vacuum_freeze_min_age</></link>
      transactions, this mistake prevented autovacuum from using partial-table
      scans, so that a full-table scan would always happen instead.
     </para>
-->
<para>
    在安装中不只存在
   <link linkend="guc-vacuum-freeze-min-age"><varname>vacuum_freeze_min_age</></link>
   事务，
   这个错误防止自动清理使用部分表扫描，
   因此相反可能会发生全表扫描。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent misbehavior when a <symbol>RowExpr</> or <symbol>XmlExpr</>
      is parse-analyzed twice (Andres Freund, Tom Lane)
     </para>
-->
<para>
    当两次解析分析<symbol>RowExpr</>或者<symbol>XmlExpr</>的时候，
防止不当操作(Andres Freund, Tom Lane)
</para>

     <!--
<para>
      This mistake could be user-visible in contexts such as
      <literal>CREATE TABLE LIKE INCLUDING INDEXES</>.
     </para>
-->
<para>
    这个错误在上下文中是用户可见的，
   比如<literal>CREATE TABLE LIKE INCLUDING INDEXES</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve defenses against integer overflow in hashtable sizing
      calculations (Jeff Davis)
     </para>
-->
<para>
    提高在哈希表大小计算中防御整数溢出(Jeff Davis)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Reject out-of-range dates in <function>to_date()</> (Hitoshi Harada)
     </para>
-->
<para>
   拒绝<function>to_date()</>中超期范围日期(Hitoshi Harada)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that non-ASCII prompt strings are translated to the correct
      code page on Windows (Alexander Law, Noah Misch)
     </para>
-->
<para>
   确保非ASCII提示符字符串被翻译成Windows上正确代码页(Alexander Law, Noah Misch)
</para>

     <!--
<para>
      This bug affected <application>psql</> and some other client programs.
     </para>
-->
<para>
   这个错误影响<application>psql</>和一些其它客户端程序。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash in <application>psql</>'s <command>\?</> command
      when not connected to a database (Meng Qingzhong)
     </para>
-->
<para>
    当没有连接到数据库时，
修复<application>psql</>的<command>\?</>命令中可能崩溃(Meng Qingzhong)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix one-byte buffer overrun in <application>libpq</>'s
      <function>PQprintTuples</> (Xi Wang)
     </para>
-->
<para>
    修复<application>libpq</>的<function>PQprintTuples</>中一字节缓冲区溢出(Xi Wang)
</para>

     <!--
<para>
      This ancient function is not used anywhere by
      <productname>PostgreSQL</> itself, but it might still be used by some
      client code.
     </para>
-->
<para>
   这个旧的函数通过<productname>PostgreSQL</>自身并不在任何地方使用，
   但是它可能被一些客户端代码使用。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <application>ecpglib</> use translated messages properly
      (Chen Huajun)
     </para>
-->
<para>
    使得<application>ecpglib</>正确使用已翻译消息(Chen Huajun)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Properly install <application>ecpg_compat</> and
      <application>pgtypes</> libraries on MSVC (Jiang Guiqing)
     </para>
-->
<para>
    在MSVC上正确安装<application>ecpg_compat</>和
<application>pgtypes</>库(Jiang Guiqing)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Rearrange configure's tests for supplied functions so it is not
      fooled by bogus exports from libedit/libreadline (Christoph Berg)
     </para>
-->
<para>
    为已提供函数重新安排配置测试，
因此它不会被假输出libedit/libreadline而欺骗(Christoph Berg)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure Windows build number increases over time (Magnus Hagander)
     </para>
-->
<para>
    确保随着时间推移Windows编译数增加(Magnus Hagander)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <application>pgxs</> build executables with the right
      <literal>.exe</> suffix when cross-compiling for Windows
      (Zoltan Boszormenyi)
     </para>
-->
<para>
    当交叉编译Windows时，使得<application>pgxs</>生成正确
<literal>.exe</>后缀的可执行文件(Zoltan Boszormenyi)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add new timezone abbreviation <literal>FET</> (Tom Lane)
     </para>
-->
<para>
   添加新的时区缩写<literal>FET</> (Tom Lane)
</para>

     <!--
<para>
      This is now used in some eastern-European time zones.
     </para>
-->
<para>
   用于一些东欧时区。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-15">
 <!--
  <title>Release 8.4.15</title>
-->
  <title>版本8.4.15</title>
  
  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2012-12-06</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.14.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
   该发布包含了8.4.14中的各种修复。
   关于8.4主要发布的新功能信息，参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.15</title>
-->
   <title>迁移到版本8.4.15</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
    运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, if you are upgrading from a version earlier than 8.4.10,
    see <xref linkend="release-8-4-10">.
   </para>
-->
<para>
   然而，如果你从8.4.10更早版本开始更新，参阅<xref linkend="release-8-4-10">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
  <title>修改列表</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Fix multiple bugs associated with <command>CREATE INDEX
      CONCURRENTLY</> (Andres Freund, Tom Lane)
     </para>
-->
<para>
    修复与<command>CREATE INDEX CONCURRENTLY</>有关的多个错误(Andres Freund, Tom Lane)
</para>

     <!--
<para>
      Fix <command>CREATE INDEX CONCURRENTLY</> to use
      in-place updates when changing the state of an index's
      <structname>pg_index</> row.  This prevents race conditions that could
      cause concurrent sessions to miss updating the target index, thus
      resulting in corrupt concurrently-created indexes.
     </para>
-->
<para>
    当改变索引的<structname>pg_index</>行的状态时，修复<command>CREATE INDEX CONCURRENTLY</>
以使用就地更新。这避免了竞争条件，
它可以导致并发会话错过更新目标索引，
因此导致崩溃同时已创建索引。

</para>

     <!--
<para>
      Also, fix various other operations to ensure that they ignore
      invalid indexes resulting from a failed <command>CREATE INDEX
      CONCURRENTLY</> command.  The most important of these is
      <command>VACUUM</>, because an auto-vacuum could easily be launched
      on the table before corrective action can be taken to fix or remove
      the invalid index.
     </para>
-->
<para>
   同时，修复各种其他操作以确保他们忽略来源于
  失败的
  <command>CREATE INDEX CONCURRENTLY</>命令的无效索引。
  这些中最重要的是<command>VACUUM</>，
  因为在采取的纠正措施用于修复或删除无效索引之前，
  在表上自动清理可以很容易地被运行。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid corruption of internal hash tables when out of memory
      (Hitoshi Harada)
     </para>
-->
<para>
    当内存不足时，避免内部哈希表崩溃(Hitoshi Harada)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix planning of non-strict equivalence clauses above outer joins
      (Tom Lane)
     </para>
-->
<para>
    修复外连接上非严格等价子句规划(Tom Lane)
</para>

     <!--
<para>
      The planner could derive incorrect constraints from a clause equating
      a non-strict construct to something else, for example
      <literal>WHERE COALESCE(foo, 0) = 0</>
      when <literal>foo</> is coming from the nullable side of an outer join.
     </para>
-->
<para>
    规划器可以从等同于其它东西的非严格建构的分句中获取不正确约束，
   比如
   当<literal>foo</>来源于外连接失效端时，<literal>WHERE COALESCE(foo, 0) = 0</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve planner's ability to prove exclusion constraints from
      equivalence classes (Tom Lane)
     </para>
-->
<para>
   提高规划器证明来自等价类排除约束的能力(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix partial-row matching in hashed subplans to handle cross-type cases
      correctly (Tom Lane)
     </para>
-->
<para>
   修复在哈希子计划中部分行匹配以正确处理交叉类型情况(Tom Lane)
</para>

     <!--
<para>
      This affects multicolumn <literal>NOT IN</> subplans, such as
      <literal>WHERE (a, b) NOT IN (SELECT x, y FROM ...)</>
      when for instance <literal>b</> and <literal>y</> are <type>int4</>
      and <type>int8</> respectively.  This mistake led to wrong answers
      or crashes depending on the specific datatypes involved.
     </para>
-->
<para>
    这影响到多列<literal>NOT IN</>子计划，比如<literal>WHERE (a, b) NOT IN (SELECT x, y FROM ...)</>。
当比如<literal>b</>和<literal>y</>分别为<type>int4</>和<type>int8</>。
这个错误导致不正确结果或者是依赖于具体所涉及数据类型的崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Acquire buffer lock when re-fetching the old tuple for an
      <literal>AFTER ROW UPDATE/DELETE</> trigger (Andres Freund)
     </para>
-->
<para>
     当为<literal>AFTER ROW UPDATE/DELETE</>触发器重新读取旧的元组时，
 那么获取缓冲锁(Andres Freund)
</para>

     <!--
<para>
      In very unusual circumstances, this oversight could result in passing
      incorrect data to the precheck logic for a foreign-key enforcement
      trigger.  That could result in a crash, or in an incorrect decision
      about whether to fire the trigger.
     </para>
-->
<para>
    在非常罕见的情况下，
   这一疏忽可能导致传递不正确数据到为外键执行触发器预检查逻辑。
   这可能导致崩溃，
   或者关于是否触发触发器的错误决定。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <command>ALTER COLUMN TYPE</> to handle inherited check
      constraints properly (Pavan Deolasee)
     </para>
-->
<para>
   修复<command>ALTER COLUMN TYPE</>以正确处理继承的检查约束(Pavan Deolasee)
</para>

     <!--
<para>
      This worked correctly in pre-8.4 releases, and now works correctly
      in 8.4 and later.
     </para>
-->
<para>
    这在8.4之前发布中正常运行，
并且在8.4以及以后发布中也正常运行。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <command>REASSIGN OWNED</> to handle grants on tablespaces
      (&Aacute;lvaro Herrera)
     </para>
-->
<para>
   修复<command>REASSIGN OWNED</>以处理表空间授权(&Aacute;lvaro Herrera)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ignore incorrect <structname>pg_attribute</> entries for system
      columns for views (Tom Lane)
     </para>
-->
<para>
     为视图系统列忽略不正确的<structname>pg_attribute</>项(Tom Lane)
</para>

     <!--
<para>
      Views do not have any system columns.  However, we forgot to
      remove such entries when converting a table to a view.  That's fixed
      properly for 9.3 and later, but in previous branches we need to defend
      against existing mis-converted views.
     </para>
-->
<para>
    视图没有任何系统列。然而，当转换表到视图时，我们忘了删除这项。
9.3以及以后的正确修复，但是在以前的分支中我们需要防御已经存在的
错误转换视图。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix rule printing to dump <literal>INSERT INTO <replaceable>table</>
      DEFAULT VALUES</literal> correctly (Tom Lane)
     </para>
-->
<para>
    修复规则输出正确备份<literal>INSERT INTO <replaceable>table</> DEFAULT VALUES</literal> (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Guard against stack overflow when there are too many
      <literal>UNION</>/<literal>INTERSECT</>/<literal>EXCEPT</> clauses
      in a query (Tom Lane)
     </para>
-->
<para>
    当在查询中有许多<literal>UNION</>/<literal>INTERSECT</>/<literal>EXCEPT</>子句时，
防止堆栈溢出(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent platform-dependent failures when dividing the minimum possible
      integer value by -1 (Xi Wang, Tom Lane)
     </para>
-->
<para>
    当最小的可能的整数值除以-1时，避免平台相关故障(Xi Wang, Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible access past end of string in date parsing
      (Hitoshi Harada)
     </para>
-->
<para>
    修复数据解析中可能访问字符串末尾(Hitoshi Harada)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Produce an understandable error message if the length of the path name
      for a Unix-domain socket exceeds the platform-specific limit
      (Tom Lane, Andrew Dunstan)
     </para>
-->
<para>
    如果Unix域套接字路径名长度超过平台特定限制，
那么会产生可以理解的错误消息(Tom Lane, Andrew Dunstan)
</para>

     <!--
<para>
      Formerly, this would result in something quite unhelpful, such as
      <quote>Non-recoverable failure in name resolution</>.
     </para>
-->
<para>
    先前，这可能导致一些无用的东西，比如
<quote>域名解析中不可恢复故障</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leaks when sending composite column values to the client
      (Tom Lane)
     </para>
-->
<para>
    当发送复合列值给客户端时，修复内存泄露(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <application>pg_ctl</> more robust about reading the
      <filename>postmaster.pid</> file (Heikki Linnakangas)
     </para>
-->
<para>
    使得<application>pg_ctl</>关于读取<filename>postmaster.pid</>文件更加鲁棒(Heikki Linnakangas)
</para>

     <!--
<para>
      Fix race conditions and possible file descriptor leakage.
     </para>
-->
<para>
    修复竞争条件和可能的文件描述符泄露。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash in <application>psql</> if incorrectly-encoded data
      is presented and the <varname>client_encoding</> setting is a
      client-only encoding, such as SJIS (Jiang Guiqing)
     </para>
-->
<para>
     如果给出错误编码数据并且<varname>client_encoding</>设置是
 客户端编码，比如SJIS，那么修复<application>psql</>中的可能崩溃(Jiang Guiqing)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bugs in the <filename>restore.sql</> script emitted by
      <application>pg_dump</> in <literal>tar</> output format (Tom Lane)
     </para>
-->
<para>
     修复<literal>tar</>输出格式中通过<application>pg_dump</>发出的
 <filename>restore.sql</>脚本中的错误(Tom Lane)
</para>

     <!--
<para>
      The script would fail outright on tables whose names include
      upper-case characters.  Also, make the script capable of restoring
      data in <option>&#045;-inserts</> mode as well as the regular COPY mode.
     </para>
-->
<para>
   该脚本可能在它的名字包含大写字符的表中完全失败。
   另外，使得脚本有能力存储数据到
   <option>--inserts</>模式和规则的COPY模式。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_restore</> to accept POSIX-conformant
      <literal>tar</> files (Brian Weaver, Tom Lane)
     </para>
-->
<para>
    修复<application>pg_restore</>以接受POSIX标准的
<literal>tar</>文件(Brian Weaver, Tom Lane)
</para>

     <!--
<para>
      The original coding of <application>pg_dump</>'s <literal>tar</>
      output mode produced files that are not fully conformant with the
      POSIX standard.  This has been corrected for version 9.3.  This
      patch updates previous branches so that they will accept both the
      incorrect and the corrected formats, in hopes of avoiding
      compatibility problems when 9.3 comes out.
     </para>
-->
<para>
    <application>pg_dump</>的<literal>tar</>输出模式的原编码产生与
   POSIX标准不完全一致的文件。这是9.3版本的校正。
   这个补丁更新先前分支，以致于它们接受正确的和不正确格式，
   当发布9.3时，希望避免兼容性问题。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_resetxlog</> to locate <filename>postmaster.pid</>
      correctly when given a relative path to the data directory (Tom Lane)
     </para>
-->
<para>
    当给定一个数据目录的相对路径时，
修复<application>pg_resetxlog</>以正确定位<filename>postmaster.pid</> (Tom Lane)
</para>

     <!--
<para>
      This mistake could lead to <application>pg_resetxlog</> not noticing
      that there is an active postmaster using the data directory.
     </para>
-->
<para>
    该错误可能导致<application>pg_resetxlog</>没有注意到使用数据目录的
活跃的postmaster。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>libpq</>'s <function>lo_import()</> and
      <function>lo_export()</> functions to report file I/O errors properly
      (Tom Lane)
     </para>
-->
<para>
    修复<application>libpq</>的<function>lo_import()</>和
    <function>lo_export()</>函数以正确报告文件I/O错误 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>ecpg</>'s processing of nested structure pointer
      variables (Muhammad Usama)
     </para>
-->
<para>
    修复嵌套结构指针变量的<application>ecpg</>的处理 (Muhammad Usama)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <filename>contrib/pageinspect</>'s btree page inspection
      functions take buffer locks while examining pages (Tom Lane)
     </para>
-->
<para>
     当检查页的时候，使得<filename>contrib/pageinspect</>的btree页检查函数
 采取缓冲锁 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pgxs</> support for building loadable modules on AIX
      (Tom Lane)
     </para>
-->
<para>
   修复<application>pgxs</>以支持AIX上编译可加载模块 (Tom Lane)
</para>

     <!--
<para>
      Building modules outside the original source tree didn't work on AIX.
     </para>
-->
<para>
    编译不在AIX上运行的源码树外部模块。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2012j
      for DST law changes in Cuba, Israel, Jordan, Libya, Palestine, Western
      Samoa, and portions of Brazil.
     </para>
-->
<para>
    为了Cuba, Israel, Jordan, Libya, Palestine, Western
      Samoa以及Brazil部分中的DST变化规律
  更新时区数据文件到<application>tzdata</>发布2012j。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-14">
 <!--
  <title>Release 8.4.14</title>
  -->
  <title>版本8.4.14</title>

  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2012-09-24</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.13.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
     该发布包含了8.4.13的各种修复，关于8.4主要发布新功能的信息，
 参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.14</title>
-->
   <title>迁移到版本8.4.14</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
  运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, if you are upgrading from a version earlier than 8.4.10,
    see <xref linkend="release-8-4-10">.
   </para>
-->
<para>
   然而，如果你从8.4.10更早版本更新，参阅<xref linkend="release-8-4-10">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
  <title>修改列表</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Fix planner's assignment of executor parameters, and fix executor's
      rescan logic for CTE plan nodes (Tom Lane)
     </para>
-->
<para>
    修复执行器参数的规划器分配，
为CTE规划节点修复执行器的重新扫描逻辑(Tom Lane)
</para>

     <!--
<para>
      These errors could result in wrong answers from queries that scan the
      same <literal>WITH</> subquery multiple times.
     </para>
-->
<para>
    这些错误可以导致来自扫描相同<literal>WITH</>子查询多次的查询的错误结果。

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve page-splitting decisions in GiST indexes (Alexander Korotkov,
      Robert Haas, Tom Lane)
     </para>
-->
<para>
   提高GiST索引中页分隔决定(Alexander Korotkov,Robert Haas, Tom Lane)
</para>

     <!--
<para>
      Multi-column GiST indexes might suffer unexpected bloat due to this
      error.
     </para>
-->
<para>
   多列GiST索引可能由于这个错误遭受意外膨胀。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix cascading privilege revoke to stop if privileges are still held
      (Tom Lane)
     </para>
-->
<para>
   如果仍持有该权限，那么修复级联权限撤销以停止(Tom Lane)
</para>

     <!--
<para>
      If we revoke a grant option from some role <replaceable>X</>, but
      <replaceable>X</> still holds that option via a grant from someone
      else, we should not recursively revoke the corresponding privilege
      from role(s) <replaceable>Y</> that <replaceable>X</> had granted it
      to.
     </para>
-->
<para>
    如果我们撤销一些角色<replaceable>X</>的grant选项，但是<replaceable>X</>
   仍然认为该选项通过其他人的grant。
   我们不应该递归地撤销<replaceable>X</>授予的角色<replaceable>Y</>的
   相应特权。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix handling of <literal>SIGFPE</> when PL/Perl is in use (Andres Freund)
     </para>
-->
<para>
    当使用PL/Perl的时候，修复<literal>SIGFPE</>的处理(Andres Freund)
</para>

     <!--
<para>
      Perl resets the process's <literal>SIGFPE</> handler to
      <literal>SIG_IGN</>, which could result in crashes later on.  Restore
      the normal Postgres signal handler after initializing PL/Perl.
     </para>
-->
<para>
    Perl重置进程的<literal>SIGFPE</>处理器到<literal>SIG_IGN</>，
 这可能在以后导致崩溃。
 在初始化PL/Perl之后恢复正常Postgres信号处理程序。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent PL/Perl from crashing if a recursive PL/Perl function is
      redefined while being executed (Tom Lane)
     </para>
-->
<para>
    当被执行时，如果重新定义递归的PL/Perl函数，
则防止PL/Perl崩溃(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Work around possible misoptimization in PL/Perl (Tom Lane)
     </para>
-->
<para>
   解决PL/Perl中可能的错误优化(Tom Lane)
</para>

     <!--
<para>
      Some Linux distributions contain an incorrect version of
      <filename>pthread.h</> that results in incorrect compiled code in
      PL/Perl, leading to crashes if a PL/Perl function calls another one
      that throws an error.
     </para>
-->
<para>
    一些Linux发布包含
   导致PL/Perl中不正确编译代码的<filename>pthread.h</>不正确版本，
   如果PL/Perl函数调用抛出错误的另外一个，那么导致崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2012f
      for DST law changes in Fiji
     </para>
-->
<para>
    为了Fiji中DST变化规律更新时区数据文件到<application>tzdata</>发布2012f
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-13">
 <!--
  <title>Release 8.4.13</title>
-->
   <title>版本8.4.13</title>
  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2012-08-17</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.12.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
   该发布包含来自8.4.12各种修复。
   关于8.4主要发布的新功能的信息，
   参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.13</title>
-->
  <title>迁移到版本8.4.13</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
    运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, if you are upgrading from a version earlier than 8.4.10,
    see <xref linkend="release-8-4-10">.
   </para>
-->
<para>
   然而，如果你从8.4.10更早版本更新，参阅<xref linkend="release-8-4-10">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
   <title>修改列表</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Prevent access to external files/URLs via XML entity references
      (Noah Misch, Tom Lane)
     </para>
-->
<para>
   通过XML实体引用避免访问外部文件/URL(Noah Misch, Tom Lane)
</para>

     <!--
<para>
      <function>xml_parse()</> would attempt to fetch external files or
      URLs as needed to resolve DTD and entity references in an XML value,
      thus allowing unprivileged database users to attempt to fetch data
      with the privileges of the database server.  While the external data
      wouldn't get returned directly to the user, portions of it could be
      exposed in error messages if the data didn't parse as valid XML; and
      in any case the mere ability to check existence of a file might be
      useful to an attacker.  (CVE-2012-3489)
     </para>
-->
<para>
    <function>xml_parse()</>可以尝试读取外部文件夹或者URL作为需要解决DTD
   以及XML值中的实体引用，从而允许未授权数据库用户尝试读取与数据库服务器权限的数据。
   当外部数据还没直接返回给用户时，如果数据没有解析为有效XML，那么它的一部分可能会暴露
   在错误消息中；并且无论如何检查文件是否存在的能力可能对攻击者有用。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent access to external files/URLs via <filename>contrib/xml2</>'s
      <function>xslt_process()</> (Peter Eisentraut)
     </para>
-->
<para>
   阻止通过<filename>contrib/xml2</>的
<function>xslt_process()</>访问外部文件夹/URL(Peter Eisentraut)
</para>

     <!--
<para>
      <application>libxslt</> offers the ability to read and write both
      files and URLs through stylesheet commands, thus allowing
      unprivileged database users to both read and write data with the
      privileges of the database server.  Disable that through proper use
      of <application>libxslt</>'s security options.  (CVE-2012-3488)
     </para>
-->
<para>
    <application>libxslt</>提供通过样式表命令读写文件夹和URL的能力，
 从而允许未授权数据库用户以读写带有数据库服务器权限的数据。
 禁止通过<application>libxslt</>的安全选项的正确使用。(CVE-2012-3488)
</para>

     <!--
<para>
      Also, remove <function>xslt_process()</>'s ability to fetch documents
      and stylesheets from external files/URLs.  While this was a
      documented <quote>feature</>, it was long regarded as a bad idea.
      The fix for CVE-2012-3489 broke that capability, and rather than
      expend effort on trying to fix it, we're just going to summarily
      remove it.
     </para>
-->
<para>
   同时，删除<function>xslt_process()</>的能力从外部文件夹/URL中读取文件和样式表。
   当这是已证明<quote>特性</>时，那么它被长期视为坏主意。
   为了CVE-2012-3489修复打破该能力，而不是付出努力尝试修复它，
   我们只是打算简单地删除它。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent too-early recycling of btree index pages (Noah Misch)
     </para>
-->
<para>
   防止btree索引页过早回收利用(Noah Misch)
</para>

     <!--
<para>
      When we allowed read-only transactions to skip assigning XIDs, we
      introduced the possibility that a deleted btree page could be
      recycled while a read-only transaction was still in flight to it.
      This would result in incorrect index search results.  The probability
      of such an error occurring in the field seems very low because of the
      timing requirements, but nonetheless it should be fixed.
     </para>
-->
<para>
   当我们允许只读事务略过已分配XID时，
   当只读事务仍然运行到它时，
   那么我们介绍已删除btree页可以被重新利用的可能性。
   这会导致不正确索引搜索结果。
   在该字段产生错误的可能性很低，因为时间要求，
   但尽管如此它应该被修复。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix crash-safety bug with newly-created-or-reset sequences (Tom Lane)
     </para>
-->
<para>
   修复带有新创造或者重新设置序列的碰撞安全漏洞(Tom Lane)
</para>

     <!--
<para>
      If <command>ALTER SEQUENCE</> was executed on a freshly created or
      reset sequence, and then precisely one <function>nextval()</> call
      was made on it, and then the server crashed, WAL replay would restore
      the sequence to a state in which it appeared that no
      <function>nextval()</> had been done, thus allowing the first
      sequence value to be returned again by the next
      <function>nextval()</> call.  In particular this could manifest for
      <type>serial</> columns, since creation of a serial column's sequence
      includes an <command>ALTER SEQUENCE OWNED BY</> step.
     </para>
-->
<para>
    如果在新创造或者重新设置序列上执行<command>ALTER SEQUENCE</>，
    然后在它上精确执行一个<function>nextval()</>调用，
然后服务器崩溃了，WAL回放可以恢复序列到似乎没有执行<function>nextval()</>的状态下，
然而允许通过下一个<function>nextval()</>调用再次返回第一个序列值。
特别是这可以表现为<type>serial</>列，因为串行列的序列的创建包含
<command>ALTER SEQUENCE OWNED BY</>步骤。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure the <filename>backup_label</> file is fsync'd after
      <function>pg_start_backup()</> (Dave Kerr)
     </para>
-->
<para>
    在<function>pg_start_backup()</>之后确保
   <filename>backup_label</>文件是fsync (Dave Kerr)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Back-patch 9.1 improvement to compress the fsync request queue
      (Robert Haas)
     </para>
-->
<para>
    后面补丁9.1改进以压缩fsync请求队列(Robert Haas)
</para>

     <!--
<para>
      This improves performance during checkpoints.  The 9.1 change
      has now seen enough field testing to seem safe to back-patch.
     </para>
-->
<para>
    在检查点期间提高了性能。
9.1变化已看到似乎安全的足够字段测试到后面补丁中。

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Only allow autovacuum to be auto-canceled by a directly blocked
      process (Tom Lane)
     </para>
-->
<para>
   仅仅允许autovacuum通过直接的封锁进程被自动取消(Tom Lane)
</para>

     <!--
<para>
      The original coding could allow inconsistent behavior in some cases;
      in particular, an autovacuum could get canceled after less than
      <literal>deadlock_timeout</> grace period.
     </para>
-->
<para>
    原代码可能允许某些情况下的不一致操作；
    特别是，在少于<literal>deadlock_timeout</>宽限期后可以取消autovacuum。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve logging of autovacuum cancels (Robert Haas)
     </para>
-->
<para>
    改善autovacuum取消记录(Robert Haas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix log collector so that <literal>log_truncate_on_rotation</> works
      during the very first log rotation after server start (Tom Lane)
     </para>
-->
<para>
   修复日志收集器以致于在服务器启动后
   第一个日志循环期间运行<literal>log_truncate_on_rotation</> (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <literal>WITH</> attached to a nested set operation
      (<literal>UNION</>/<literal>INTERSECT</>/<literal>EXCEPT</>)
      (Tom Lane)
     </para>
-->
<para>
    修复<literal>WITH</>附属于嵌套设置操作
   (<literal>UNION</>/<literal>INTERSECT</>/<literal>EXCEPT</>)(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that a whole-row reference to a subquery doesn't include any
      extra <literal>GROUP BY</> or <literal>ORDER BY</> columns (Tom Lane)
     </para>
-->
<para>
    确保参照子查询的整行不包含任何额外的
  <literal>GROUP BY</>或者<literal>ORDER BY</>列(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Disallow copying whole-row references in <literal>CHECK</>
      constraints and index definitions during <command>CREATE TABLE</>
      (Tom Lane)
     </para>
-->
<para>
     在<command>CREATE TABLE</>期间<literal>CHECK</>约束和索引定义中不
   允许拷贝整行引用(Tom Lane)
</para>

     <!--
<para>
      This situation can arise in <command>CREATE TABLE</> with
      <literal>LIKE</> or <literal>INHERITS</>.  The copied whole-row
      variable was incorrectly labeled with the row type of the original
      table not the new one.  Rejecting the case seems reasonable for
      <literal>LIKE</>, since the row types might well diverge later.  For
      <literal>INHERITS</> we should ideally allow it, with an implicit
      coercion to the parent table's row type; but that will require more
      work than seems safe to back-patch.
     </para>
-->
<para>
     这种情况可以产生带有
      <literal>LIKE</>或者<literal>INHERITS</>的<command>CREATE TABLE</>。
  复制整列变量被错误地标记带有不是一个新的原来表的行类型。  
为<literal>LIKE</>拒绝理由似乎是合理的，
因为行类型可能后面会分散。
为<literal>INHERITS</>我们理论上应该接受它，
伴随对父表的行类型的隐含
胁迫；但比起后端补丁似乎是安全的需要更多的工作。 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leak in <literal>ARRAY(SELECT ...)</> subqueries (Heikki
      Linnakangas, Tom Lane)
     </para>
-->
<para>
     修复<literal>ARRAY(SELECT ...)</>子查询中的内存泄露
(Heikki Linnakangas, Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix extraction of common prefixes from regular expressions (Tom Lane)
     </para>
-->
<para>
    从正则表达式修复常见前缀提取(Tom Lane)
</para>

     <!--
<para>
      The code could get confused by quantified parenthesized
      subexpressions, such as <literal>^(foo)?bar</>.  This would lead to
      incorrect index optimization of searches for such patterns.
     </para>
-->
<para>
    该代码被量化的括号子表达式搞糊涂了，比如<literal>^(foo)?bar</>。
这将导致这种模式不正确的搜索索引优化。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bugs with parsing signed
      <replaceable>hh</><literal>:</><replaceable>mm</> and
      <replaceable>hh</><literal>:</><replaceable>mm</><literal>:</><replaceable>ss</>
      fields in <type>interval</> constants (Amit Kapila, Tom Lane)
     </para>
-->
<para>
   修复<type>interval</>常量中带有解析符号
   <replaceable>hh</><literal>:</><replaceable>mm</>和
   <replaceable>hh</><literal>:</><replaceable>mm</><literal>:</><replaceable>ss</>字段错误(Amit Kapila, Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Report errors properly in <filename>contrib/xml2</>'s
      <function>xslt_process()</> (Tom Lane)
     </para>
-->
<para>
     正确报告<filename>contrib/xml2</>的<function>xslt_process()</>中错误(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2012e
      for DST law changes in Morocco and Tokelau
     </para>
-->
<para>
    为了Morocco和Tokelau中DST变化规律更新时区数据文件到<application>tzdata</>发布2012e
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-12">
 <!--
  <title>Release 8.4.12</title>
-->
   <title>版本8.4.12</title>
  <note>
  <!--
  <title>Release Date</title>
  -->
   <title>发布日期</title>
  <simpara>2012-06-04</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.11.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含8.4.11中各种修复。
关于8.4主要发布的新功能的信息，
参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.12</title>
-->
   <title>迁移到版本8.4.12</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
    运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, if you are upgrading from a version earlier than 8.4.10,
    see <xref linkend="release-8-4-10">.
   </para>
-->
<para>
   然而，如果你从8.4.10更早版本更新，
   参阅<xref linkend="release-8-4-10">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
   <title>修改列表</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Fix incorrect password transformation in
      <filename>contrib/pgcrypto</>'s DES <function>crypt()</> function
      (Solar Designer)
     </para>
-->
<para>
   修复<filename>contrib/pgcrypto</>的DES<function>crypt()</>函数中
   不正确的密码转换(Solar Designer)
</para>

     <!--
<para>
      If a password string contained the byte value <literal>0x80</>, the
      remainder of the password was ignored, causing the password to be much
      weaker than it appeared.  With this fix, the rest of the string is
      properly included in the DES hash.  Any stored password values that are
      affected by this bug will thus no longer match, so the stored values may
      need to be updated.  (CVE-2012-2143)
     </para>
-->
<para>
    如果密码字符串包含字节值<literal>0x80</>，那么忽略剩余的密码，
导致密码比它出现的更加弱。
使用这个修复，剩余字符串被恰当地包含在DES哈希中。
受这个错误影响的任何存储密码值将不再匹配，因此
存储值可能需要被更新。(CVE-2012-2143)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ignore <literal>SECURITY DEFINER</> and <literal>SET</> attributes for
      a procedural language's call handler (Tom Lane)
     </para>
-->
<para>
   为程序语言的调用处理器忽略<literal>SECURITY DEFINER</>和<literal>SET</>属性(Tom Lane)
</para>

     <!--
<para>
      Applying such attributes to a call handler could crash the server.
      (CVE-2012-2655)
     </para>
-->
<para>
     应用这些属性到调用处理器可以使服务器崩溃(CVE-2012-2655)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow numeric timezone offsets in <type>timestamp</> input to be up to
      16 hours away from UTC (Tom Lane)
     </para>
-->
<para>
    允许<type>timestamp</>输入
中数值时区偏移量远离UTC达到16小时(Tom Lane)
</para>

     <!--
<para>
      Some historical time zones have offsets larger than 15 hours, the
      previous limit.  This could result in dumped data values being rejected
      during reload.
     </para>
-->
<para>
    一些历史时区有大于15小时的偏移量，先前限制。
这可能导致备份数据值在重载期间被拒绝。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix timestamp conversion to cope when the given time is exactly the
      last DST transition time for the current timezone (Tom Lane)
     </para>
-->
<para>
    当给定时间恰恰是当前时区的最后DST转变时间时，
修复时间戳转换处理(Tom Lane)
</para>

     <!--
<para>
      This oversight has been there a long time, but was not noticed
      previously because most DST-using zones are presumed to have an
      indefinite sequence of future DST transitions.
     </para>
-->
<para>
    这次疏忽已有很长时间，但是以前没有被注意到，
 因为假设大多数DST时区有未来DST转换的不明确的序列。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <type>text</> to <type>name</> and <type>char</> to <type>name</>
      casts to perform string truncation correctly in multibyte encodings
      (Karl Schnaitter)
     </para>
-->
<para>
    修复<type>text</>到<type>name</>并且<type>char</>到<type>name</>投射以便在
多字节编码中正确执行字符串截断(Karl Schnaitter)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory copying bug in <function>to_tsquery()</> (Heikki Linnakangas)
     </para>
-->
<para>
    修复<function>to_tsquery()</>中内存复制错误(Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix planner's handling of outer PlaceHolderVars within subqueries (Tom
      Lane)
     </para>
-->
<para>
    修复子查询内PlaceHolderVars外的规划器处理
(Tom Lane)
</para>

     <!--
<para>
      This bug concerns sub-SELECTs that reference variables coming from the
      nullable side of an outer join of the surrounding query.
      In 9.1, queries affected by this bug would fail with <quote>ERROR:
      Upper-level PlaceHolderVar found where not expected</>.  But in 9.0 and
      8.4, you'd silently get possibly-wrong answers, since the value
      transmitted into the subquery wouldn't go to null when it should.
     </para>
-->
<para>
    这个错误涉及到子SELECT，它引用来自周围查询的外部连接的空侧的变量。
   在9.1中，这个错误影响的查询可能
   伴随有<quote>错误：在不被预期的地方发现上层PlaceHolderVar</>而失败。
   但是在9.0和8.4中，你可能默默地获得可能的错误结果，因为当需要时，
   传递到子查询中的值不能定位到空。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix slow session startup when <structname>pg_attribute</> is very large
      (Tom Lane)
     </para>
-->
<para>
    当<structname>pg_attribute</>很大的时候，修复缓慢会话启动(Tom Lane)
</para>

     <!--
<para>
      If <structname>pg_attribute</> exceeds one-fourth of
      <varname>shared_buffers</>, cache rebuilding code that is sometimes
      needed during session start would trigger the synchronized-scan logic,
      causing it to take many times longer than normal.  The problem was
      particularly acute if many new sessions were starting at once.
     </para>
-->
<para>
    如果<structname>pg_attribute</>超过了
      <varname>shared_buffers</>的四分之一，
  在会话开始时有时需要缓存重建代码可以触发同步扫描逻辑，
  导致它采取比正常更长的时间。
  如果许多新会话马上开始，那么问题是相当严重的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure sequential scans check for query cancel reasonably often (Merlin
      Moncure)
     </para>
-->
<para>
    确保顺序扫描合理地检查查询取消(Merlin Moncure) 
</para>

     <!--
<para>
      A scan encountering many consecutive pages that contain no live tuples
      would not respond to interrupts meanwhile.
     </para>
-->
<para>
    遇到许多包含非活跃元组连续页的扫描不会同时响应中断。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure the Windows implementation of <function>PGSemaphoreLock()</>
      clears <varname>ImmediateInterruptOK</> before returning (Tom Lane)
     </para>
-->
<para>
    确保返回之前<function>PGSemaphoreLock()</>
    清除<varname>ImmediateInterruptOK</>的Windows实现(Tom Lane)
</para>

     <!--
<para>
      This oversight meant that a query-cancel interrupt received later
      in the same query could be accepted at an unsafe time, with
      unpredictable but not good consequences.
     </para>
-->
<para>
    这种疏忽意味着在同一个查询中后来收到的查询取消中断可能在不安全时间
   被接受，伴随着不可预知的但不好的结果。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Show whole-row variables safely when printing views or rules
      (Abbas Butt, Tom Lane)
     </para>
-->
<para>
     当输出视图或者规则时，安全显示整行变量(Abbas Butt, Tom Lane)
</para>

     <!--
<para>
      Corner cases involving ambiguous names (that is, the name could be
      either a table or column name of the query) were printed in an
      ambiguous way, risking that the view or rule would be interpreted
      differently after dump and reload.  Avoid the ambiguous case by
      attaching a no-op cast.
     </para>
-->
<para>
    涉及歧义名字(也就是说，该名字可以是一个表或者查询的列名)的情况被以模糊方式输出，
   冒险转储和重载之后不同地解释视图或者规则。
   通过附加无操作计算避免模凌两可的情况。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <command>COPY FROM</> to properly handle null marker strings that
      correspond to invalid encoding (Tom Lane)
     </para>
-->
<para>
    修复<command>COPY FROM</>以正确处理与无效编码一致的空标记字符串(Tom Lane)
</para>

     <!--
<para>
      A null marker string such as <literal>E'\\0'</> should work, and did
      work in the past, but the case got broken in 8.4.
     </para>
-->
<para>
   一个空标记字符串比如<literal>E'\\0'</>应该工作，
   并且工作于过去，但是这种情况在8.4中被打破。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure autovacuum worker processes perform stack depth checking
      properly (Heikki Linnakangas)
     </para>
-->
<para>
    确保autovacuum工作进程恰当执行堆栈深度检查(Heikki Linnakangas)
</para>

     <!--
<para>
      Previously, infinite recursion in a function invoked by
      auto-<command>ANALYZE</> could crash worker processes.
     </para>
-->
<para>
   先前，通过自动<command>ANALYZE</>调用的无限递归函数可以
   使工作进程崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix logging collector to not lose log coherency under high load (Andrew
      Dunstan)
     </para>
-->
<para>
   修复日志收集器在高负载下没有丢失日志一致性(Andrew Dunstan)
</para>

     <!--
<para>
      The collector previously could fail to reassemble large messages if it
      got too busy.
     </para>
-->
<para>
    如果它太忙，那么收集器先前可能重新收集大的信息失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix logging collector to ensure it will restart file rotation
      after receiving <systemitem>SIGHUP</> (Tom Lane)
     </para>
-->
<para>
    修复日志收集器以确保它在接收<systemitem>SIGHUP</>之后
重启文件旋转(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix WAL replay logic for GIN indexes to not fail if the index was
      subsequently dropped (Tom Lane)
     </para>
-->
<para>
    如果索引随后被删除，那么修复GIN索引WAL回放逻辑而不失败(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leak in PL/pgSQL's <command>RETURN NEXT</> command (Joe
      Conway)
     </para>
-->
<para>
    修复PL/pgSQL的<command>RETURN NEXT</>命令中内存泄露(Joe Conway)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PL/pgSQL's <command>GET DIAGNOSTICS</> command when the target
      is the function's first variable (Tom Lane)
     </para>
-->
<para>
    当该目标是函数的第一个变量时，修复PL/pgSQL的<command>GET DIAGNOSTICS</>
命令(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix potential access off the end of memory in <application>psql</>'s
      expanded display (<command>\x</>) mode (Peter Eisentraut)
     </para>
-->
<para>
     修复<application>psql</>的扩展显示(<command>\x</>)模式中潜在的
 访问内存结尾(Peter Eisentraut)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix several performance problems in <application>pg_dump</> when
      the database contains many objects (Jeff Janes, Tom Lane)
     </para>
-->
<para>
   当数据库包含许多对象时，修复<application>pg_dump</>中
   若干性能问题(Jeff Janes, Tom Lane)
</para>

     <!--
<para>
      <application>pg_dump</> could get very slow if the database contained
      many schemas, or if many objects are in dependency loops, or if there
      are many owned sequences.
     </para>
-->
<para>
   如果数据库包含许多视图，或者如果许多对象在依赖循环中，
或者如果有许多拥有的序列，
那么<application>pg_dump</>可能会很慢。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <filename>contrib/dblink</>'s <function>dblink_exec()</> to not leak
      temporary database connections upon error (Tom Lane)
     </para>
-->
<para>
    修复<filename>contrib/dblink</>的<function>dblink_exec()</>
   不泄露临时数据库连接错误(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <filename>contrib/dblink</> to report the correct connection name in
      error messages (Kyotaro Horiguchi)
     </para>
-->
<para>
   修复<filename>contrib/dblink</>以
   报告错误消息中正确连接名(Kyotaro Horiguchi)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2012c
      for DST law changes in Antarctica, Armenia, Chile, Cuba, Falkland
      Islands, Gaza, Haiti, Hebron, Morocco, Syria, and Tokelau Islands;
      also historical corrections for Canada.
     </para>
-->
<para>
   为了在Antarctica, Armenia, Chile, Cuba, Falkland
   Islands, Gaza, Haiti, Hebron, Morocco, Syria和
   Tokelau Islands中DST变化规律
   更新时区数据文件到<application>tzdata</>发布2012c；
   同时为Canada历史修正。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-11">
 <!--
  <title>Release 8.4.11</title>
-->
  <title>版本8.4.11</title>
  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2012-02-27</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.10.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含8.4.10各种修复。关于8.4主要发布的新功能的信息，
参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.11</title>
-->
   <title>迁移到版本8.4.11</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
   运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, if you are upgrading from a version earlier than 8.4.10,
    see <xref linkend="release-8-4-10">.
   </para>
-->
<para>
     然而，如果你从8.4.10更早版本更新，参阅<xref linkend="release-8-4-10">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
   <title>修改列表</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Require execute permission on the trigger function for
      <command>CREATE TRIGGER</> (Robert Haas)
     </para>
-->
<para>
    需要为<command>CREATE TRIGGER</>触发器函数上的执行权限(Robert Haas)
</para>

     <!--
<para>
      This missing check could allow another user to execute a trigger
      function with forged input data, by installing it on a table he owns.
      This is only of significance for trigger functions marked
      <literal>SECURITY DEFINER</>, since otherwise trigger functions run
      as the table owner anyway.  (CVE-2012-0866)
     </para>
-->
<para>
    这个丢失检查可能允许其他用户执行带有伪造输入数据的触发器函数，
通过安装它到它拥有的表上。
对于触发器函数标记<literal>SECURITY DEFINER</>是唯一重要的，
因为否则触发器函数运行为表所有者。(CVE-2012-0866)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Remove arbitrary limitation on length of common name in SSL
      certificates (Heikki Linnakangas)
     </para>
-->
<para>
     删除SSL证书中常见名称长度的任意限制(Heikki Linnakangas)
</para>

     <!--
<para>
      Both <application>libpq</> and the server truncated the common name
      extracted from an SSL certificate at 32 bytes.  Normally this would
      cause nothing worse than an unexpected verification failure, but there
      are some rather-implausible scenarios in which it might allow one
      certificate holder to impersonate another.  The victim would have to
      have a common name exactly 32 bytes long, and the attacker would have
      to persuade a trusted CA to issue a certificate in which the common
      name has that string as a prefix.  Impersonating a server would also
      require some additional exploit to redirect client connections.
      (CVE-2012-0867)
     </para>
-->
<para>
    <application>libpq</>和服务器截断从32字节SSL证书中提取的通用名。
   这通常会导致没有什么比一个意想不到的验证失败更糟糕的，但是有一些
   令人难以置信的情况，它可能允许一个证书持有者模仿另外一个。
   该受害者必须有32字节长的通用名。并且攻击者必须说服可信任CA发布证书，
   其中通用名有字符串作为前缀。
   伪装服务器也需要一些额外的开发重定向客户端连接。(CVE-2012-0867) 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Convert newlines to spaces in names written in <application>pg_dump</>
      comments (Robert Haas)
     </para>
-->
<para>
   在名字写入<application>pg_dump</>说明中转换新行到空白(Robert Haas)
</para>

     <!--
<para>
      <application>pg_dump</> was incautious about sanitizing object names
      that are emitted within SQL comments in its output script.  A name
      containing a newline would at least render the script syntactically
      incorrect.  Maliciously crafted object names could present a SQL
      injection risk when the script is reloaded.  (CVE-2012-0868)
     </para>
-->
<para>
    <application>pg_dump</>关于审查输出脚本中SQL注释发出的对象名是不谨慎的。
   包含换行符的名字至少使得脚本语法上不正确。
   当脚本被重新加载时，恶意制作对象名可能出现SQL注射风险。(CVE-2012-0868)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix btree index corruption from insertions concurrent with vacuuming
      (Tom Lane)
     </para>
-->
<para>
     修复来自并行清理插入的btree索引崩溃(Tom Lane)
</para>

     <!--
<para>
      An index page split caused by an insertion could sometimes cause a
      concurrently-running <command>VACUUM</> to miss removing index entries
      that it should remove.  After the corresponding table rows are removed,
      the dangling index entries would cause errors (such as <quote>could not
      read block N in file ...</>) or worse, silently wrong query results
      after unrelated rows are re-inserted at the now-free table locations.
      This bug has been present since release 8.2, but occurs so infrequently
      that it was not diagnosed until now.  If you have reason to suspect
      that it has happened in your database, reindexing the affected index
      will fix things.
     </para>
-->
<para>
   通过插入引起的索引页分裂有时可以导致同时运行<command>VACUUM</>
   而错过删除本应该删除的索引项。相应表行被删除后，
   该悬挂索引项可能导致错误（比如<quote>不能读取文件中块N...</>）或者更糟，
   无关行后默默的错误查询结果被重新插入到当前自由表位置。
    这个错误自从发布8.2就出现了，
但是发生如此罕见以致它没有被诊断直到现在。
如果你有理由怀疑它已经在你的数据库中发生，
那么重新索引受影响索引将修复这问题。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update per-column permissions, not only per-table permissions, when
      changing table owner (Tom Lane)
     </para>
-->
<para>
     当改变表所有者时，更新每列权限，不仅仅每个表权限(Tom Lane)
</para>

     <!--
<para>
      Failure to do this meant that any previously granted column permissions
      were still shown as having been granted by the old owner.  This meant
      that neither the new owner nor a superuser could revoke the
      now-untraceable-to-table-owner permissions.
     </para>
-->
<para>
      不这样做就意味着任何先前已授权列权限
仍然显示为已被旧的所有者授权。
这意味着既不是新所有者也不是
超级用户可以撤销目前难以寻找的到表所有者权限。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow non-existent values for some settings in <command>ALTER
      USER/DATABASE SET</> (Heikki Linnakangas)
     </para>
-->
<para>
     允许<command>ALTER USER/DATABASE SET</>中
一些设置的不存在值(Heikki Linnakangas)
</para>

     <!--
<para>
      Allow <varname>default_text_search_config</>,
      <varname>default_tablespace</>, and <varname>temp_tablespaces</> to be
      set to names that are not known.  This is because they might be known
      in another database where the setting is intended to be used, or for the
      tablespace cases because the tablespace might not be created yet.  The
      same issue was previously recognized for <varname>search_path</>, and
      these settings now act like that one.
     </para>
-->
<para>
     允许<varname>default_text_search_config</>，
   <varname>default_tablespace</>和<varname>temp_tablespaces</>
    被设置为不知道的名字。
这是因为它们可能在另一个数据库中已知，
该设置打算使用的地方，
或者为了表空间情况因为表空间可能不会被创建。
同样问题是先前已确认为<varname>search_path</>，
并且这些设置像那一个。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid crashing when we have problems deleting table files post-commit
      (Tom Lane)
     </para>
-->
<para>
    当我们删除后提交表文件有问题时，避免崩溃(Tom Lane)
</para>

     <!--
<para>
      Dropping a table should lead to deleting the underlying disk files only
      after the transaction commits.  In event of failure then (for instance,
      because of wrong file permissions) the code is supposed to just emit a
      warning message and go on, since it's too late to abort the
      transaction.  This logic got broken as of release 8.4, causing such
      situations to result in a PANIC and an unrestartable database.
     </para>
-->
<para>
    删除表导致事务提交之后删除底层磁盘文件。
   在失败的情况中（比如，由于错误文件权限）
   那么该代码应该发出警告消息并且继续，
   因为它太晚了而终止了事务。
   这个逻辑已作为版本8.4被打破，
   导致这种情况引起PANIC和不可重新启动的数据库。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Track the OID counter correctly during WAL replay, even when it wraps
      around (Tom Lane)
     </para>
-->
<para>
    在WAL回放期间正确跟踪OID计数器，即使当它包围周围(Tom Lane)
</para>

     <!--
<para>
      Previously the OID counter would remain stuck at a high value until the
      system exited replay mode.  The practical consequences of that are
      usually nil, but there are scenarios wherein a standby server that's
      been promoted to master might take a long time to advance the OID
      counter to a reasonable value once values are needed.
     </para>
-->
<para>
    先前OID计数器可以保持在较高的值上直到系统退出回放模式。
   实际结果通常为零，但是存在这样一种情况，
   备用服务器提升到主服务器可能需要很长时间
   增加OID计数器到一个合理值，一旦该值是必须的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix regular expression back-references with <literal>*</> attached
      (Tom Lane)
     </para>
-->
<para>
     修复带有<literal>*</>附属的正则表达式逆向引用(Tom Lane)
</para>

     <!--
<para>
      Rather than enforcing an exact string match, the code would effectively
      accept any string that satisfies the pattern sub-expression referenced
      by the back-reference symbol.
     </para>
-->
<para>
    而不是执行一个确切的字符串匹配，
该代码有效地接受任何满足模式子表达式引用逆向引用符号的字符串。
</para>

     <!--
<para>
      A similar problem still afflicts back-references that are embedded in a
      larger quantified expression, rather than being the immediate subject
      of the quantifier.  This will be addressed in a future
      <productname>PostgreSQL</> release.
     </para>
-->
<para>
    类似问题仍然困扰着被嵌入到大的量化表达式中的逆向引用，而不是量词的直接主题。
这将在未来<productname>PostgreSQL</>发布中得以解决。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix recently-introduced memory leak in processing of
      <type>inet</>/<type>cidr</> values (Heikki Linnakangas)
     </para>
-->
<para>
    修复<type>inet</>/<type>cidr</>值处理中最新引进的内存泄露(Heikki Linnakangas)
</para>

     <!--
<para>
      A patch in the December 2011 releases of <productname>PostgreSQL</>
      caused memory leakage in these operations, which could be significant
      in scenarios such as building a btree index on such a column.
     </para>
-->
<para>
    <productname>PostgreSQL</>的2011年12月份发布的补丁
导致了这些操作中内存泄露，这可能是重要情况比如在这样的列上
编译btree索引。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix dangling pointer after <command>CREATE TABLE AS</>/<command>SELECT
      INTO</> in a SQL-language function (Tom Lane)
     </para>
-->
<para>
    修复SQL语言函数中
<command>CREATE TABLE AS</>/<command>SELECT INTO</>之后的悬挂指针(Tom Lane)
</para>

     <!--
<para>
      In most cases this only led to an assertion failure in assert-enabled
      builds, but worse consequences seem possible.
     </para>
-->
<para>
    在大多数情况中这导致断言启用编译中断言失败，
但是更糟结果是可能的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid double close of file handle in syslogger on Windows (MauMau)
     </para>
-->
<para>
    避免Windows上syslogger中文件句柄的双关闭(MauMau)
</para>

     <!--
<para>
      Ordinarily this error was invisible, but it would cause an exception
      when running on a debug version of Windows.
     </para>
-->
<para>
    通常这个错误是无形的，但是当在Windows的调试版本上运行时，它可能导致异常。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix I/O-conversion-related memory leaks in plpgsql
      (Andres Freund, Jan Urbanski, Tom Lane)
     </para>
-->
<para>
   修复plpgsql中I/O转换关系内存泄露(Andres Freund, Jan Urbanski, Tom Lane)
</para>

     <!--
<para>
      Certain operations would leak memory until the end of the current
      function.
     </para>
-->
<para>
   某些操作可能泄露内存直到当前函数结束。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve <application>pg_dump</>'s handling of inherited table columns
      (Tom Lane)
     </para>
-->
<para>
   提升继承表列的<application>pg_dump</>的处理(Tom Lane)
</para>

     <!--
<para>
      <application>pg_dump</> mishandled situations where a child column has
      a different default expression than its parent column.  If the default
      is textually identical to the parent's default, but not actually the
      same (for instance, because of schema search path differences) it would
      not be recognized as different, so that after dump and restore the
      child would be allowed to inherit the parent's default.  Child columns
      that are <literal>NOT NULL</> where their parent is not could also be
      restored subtly incorrectly.
     </para>
-->
<para>
    <application>pg_dump</>处理不当的情况下，一个子列
比它的父列有不同的缺省表达式。
如果缺省文本上与父类的缺省是相同的，但不是真的
相同（例如，由于模式搜索路径的差异）不会被认为是不同的，
所以在转储和恢复后
子类可以被允许继承父的缺省。在它们的父类不能微妙地错误地被恢复的地方
子列<literal>非空</>。 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_restore</>'s direct-to-database mode for
      INSERT-style table data (Tom Lane)
     </para>
-->
<para>
   为了INSERT形式表数据修复<application>pg_restore</>的
   直接到数据库模式(Tom Lane)
</para>

     <!--
<para>
      Direct-to-database restores from archive files made with
      <option>&#045;-inserts</> or <option>&#045;-column-inserts</> options fail when
      using <application>pg_restore</> from a release dated September or
      December 2011, as a result of an oversight in a fix for another
      problem.  The archive file itself is not at fault, and text-mode
      output is okay.
     </para>
-->
<para>
   当使用发布日期2011年九月或者十二月的<application>pg_restore</>的时候，
从归档文件中恢复直接到数据库伴随
<option>--inserts</>或者<option>--column-inserts</>选项而失败，
作为另外一个问题修复的疏忽结果。
归档文件本身没有错，而且文本模式输出是好的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow <literal>AT</> option in <application>ecpg</>
      <literal>DEALLOCATE</> statements (Michael Meskes)
     </para>
-->
<para>
    在<application>ecpg</><literal>DEALLOCATE</>语句
   中允许<literal>AT</>选项(Michael Meskes)
</para>

     <!--
<para>
      The infrastructure to support this has been there for awhile, but
      through an oversight there was still an error check rejecting the case.
     </para>
-->
<para>
   支持这个的基础设施已有一段时间了，
但由于疏忽仍然有拒绝这种情况的错误检查。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix error in <filename>contrib/intarray</>'s <literal>int[] &amp;
      int[]</> operator (Guillaume Lelarge)
     </para>
-->
<para>
      修复<filename>contrib/intarray</>的<literal>int[] &amp;int[]</>操作符
   中的错误(Guillaume Lelarge)
</para>

     <!--
<para>
      If the smallest integer the two input arrays have in common is 1,
      and there are smaller values in either array, then 1 would be
      incorrectly omitted from the result.
     </para>
-->
<para>
    如果最小整数的两个输入数组中常见的是1，
并且在其中之一数组中有较小的值，然后将1
从结果中错误地省略。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix error detection in <filename>contrib/pgcrypto</>'s
      <function>encrypt_iv()</> and <function>decrypt_iv()</>
      (Marko Kreen) 
     </para>
-->
<para> 
    修复<filename>contrib/pgcrypto</>的
      <function>encrypt_iv()</>和<function>decrypt_iv()</>中的错误检查(Marko Kreen)
</para>

     <!--
<para>
      These functions failed to report certain types of invalid-input errors,
      and would instead return random garbage values for incorrect input.
     </para>
-->
<para>
    这些函数没有成功报告无效输入错误的某些类型，
并且反而为不正确输入返回随机垃圾值。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix one-byte buffer overrun in <filename>contrib/test_parser</>
      (Paul Guyot)
     </para>
-->
<para>
    修复<filename>contrib/test_parser</>中一字节缓冲区超出范围(Paul Guyot)
</para>

     <!--
<para>
      The code would try to read one more byte than it should, which would
      crash in corner cases.
      Since <filename>contrib/test_parser</> is only example code, this is
      not a security issue in itself, but bad example code is still bad.
     </para>
-->
<para>
     该代码将尝试读取比它应该的又一个字节，这将在困境情况下崩溃。
因为<filename>contrib/test_parser</>只是示例代码，
这本身不是一个安全问题，但不好的例子代码仍然是差的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Use <function>__sync_lock_test_and_set()</> for spinlocks on ARM, if
      available (Martin Pitt)
     </para>
-->
<para>
     如果可用，那么
   在ARM上为spinlocks使用<function>__sync_lock_test_and_set()</> (Martin Pitt)
</para>

     <!--
<para>
      This function replaces our previous use of the <literal>SWPB</>
      instruction, which is deprecated and not available on ARMv6 and later.
      Reports suggest that the old code doesn't fail in an obvious way on
      recent ARM boards, but simply doesn't interlock concurrent accesses,
      leading to bizarre failures in multiprocess operation.
     </para>
-->
<para>
  这个函数替换<literal>SWPB</>指令先前用法，它已经废弃并且在ARMv6和之后的不可用。
   报告建议该旧代码在最新ARM上以显著方式使用，
   但是不能简单地连锁并发访问，导致多进程操作中的离奇失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Use <option>-fexcess-precision=standard</> option when building with
      gcc versions that accept it (Andrew Dunstan)
     </para>
-->
<para>
    当编译接受它的gcc版本时，
使用<option>-fexcess-precision=standard</>选项(Andrew Dunstan)
</para>

     <!--
<para>
      This prevents assorted scenarios wherein recent versions of gcc will
      produce creative results.
     </para>
-->
<para>
     这阻止各种各样的情节，其中gcc最新版本将产生创造性结果。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow use of threaded Python on FreeBSD (Chris Rees)
     </para>
-->
<para>
     允许FreeBSD上线程Python的使用(Chris Rees)
</para>

     <!--
<para>
      Our configure script previously believed that this combination wouldn't
      work; but FreeBSD fixed the problem, so remove that error check.
     </para>
-->
<para>
     我们配置脚本先前认为这种组合不会允许；但是FreeBSD修复该问题，
   因此删除错误检查。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-10">
 <!--
  <title>Release 8.4.10</title>
-->
   <title>版本8.4.10</title>
  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2011-12-05</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.9.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含8.4.9的各种修复，
关于8.4主要发布的新功能的信息，
参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.10</title>
-->
   <title>迁移到版本8.4.10</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
      运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, a longstanding error was discovered in the definition of the
    <literal>information_schema.referential_constraints</> view.  If you
    rely on correct results from that view, you should replace its
    definition as explained in the first changelog item below.
   </para>
-->
<para>
    然而，在<literal>information_schema.referential_constraints</>视图的定义中
   发现了一个长期错误。如果你依赖该视图的正确结果，那么
   你应该像下面第一个更新记录项解释的替换它的定义。
</para>

   <!--
<para>
    Also, if you are upgrading from a version earlier than 8.4.8,
    see <xref linkend="release-8-4-8">.
   </para>
-->
<para>
   同时，如果你从8.4.8更早版本更新，参阅<xref linkend="release-8-4-8">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
    <title>变化</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Fix bugs in <literal>information_schema.referential_constraints</> view
      (Tom Lane)
     </para>
-->
<para>
    修复<literal>information_schema.referential_constraints</>视图中错误(Tom Lane)
</para>

     <!--
<para>
      This view was being insufficiently careful about matching the
      foreign-key constraint to the depended-on primary or unique key
      constraint.  That could result in failure to show a foreign key
      constraint at all, or showing it multiple times, or claiming that it
      depends on a different constraint than the one it really does.
     </para>
-->
<para>
    该视图对于匹配依赖主键的外键约束或者唯一性约束不够仔细。
   这可能导致显示所有外键约束的错误，或者显示多次，或者
   声明它取决于比确实存在的不同约束。
</para>

     <!--
<para>
      Since the view definition is installed by <application>initdb</>,
      merely upgrading will not fix the problem.  If you need to fix this
      in an existing installation, you can (as a superuser) drop the
      <literal>information_schema</> schema then re-create it by sourcing
      <filename><replaceable>SHAREDIR</>/information_schema.sql</filename>.
      (Run <literal>pg_config &#045;-sharedir</> if you're uncertain where
      <replaceable>SHAREDIR</> is.)  This must be repeated in each database
      to be fixed.
     </para>
-->
<para>
    因为该视图定义是通过<application>initdb</>安装的，
只是升级不会修复该问题。如果你需要在现有的安装中修复这个问题
，你可以（作为一个超级用户）删除
<literal>information_schema</>模式，然后通过
<filename><replaceable>SHAREDIR</>/information_schema.sql</filename>
重新创建它。
（如果你不确定<replaceable>SHAREDIR</>在哪里，运行<literal>pg_config --sharedir</>）必须在被修复的每个数据库中重复。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect replay of WAL records for GIN index updates
      (Tom Lane)
     </para>
-->
<para>
   修复GIN索引更新WAL记录的错误回放(Tom Lane)
</para>

     <!--
<para>
      This could result in transiently failing to find index entries after
      a crash, or on a hot-standby server.  The problem would be repaired
      by the next <command>VACUUM</> of the index, however.
     </para>
-->
<para>
    这可能导致在崩溃后或者热备服务器上暂时无法找到索引项，
   然而，该问题可以通过索引的下一个<command>VACUUM</>被修复。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix TOAST-related data corruption during <literal>CREATE TABLE dest AS
      SELECT * FROM src</> or <literal>INSERT INTO dest SELECT * FROM src</>
      (Tom Lane)
     </para>
-->
<para>
    修复
<literal>CREATE TABLE dest AS SELECT * FROM src</> 或者<literal>INSERT INTO dest SELECT * FROM src</>期间TOAST相关数据损坏(Tom Lane)
</para>

     <!--
<para>
      If a table has been modified by <command>ALTER TABLE ADD COLUMN</>,
      attempts to copy its data verbatim to another table could produce
      corrupt results in certain corner cases.
      The problem can only manifest in this precise form in 8.4 and later,
      but we patched earlier versions as well in case there are other code
      paths that could trigger the same bug.
     </para>
-->
<para>
     如果表通过<command>ALTER TABLE ADD COLUMN</>被修改，
   那么尝试逐字拷贝它的数据到另一个表在某些困境情况下可以产生崩溃结果。
   该问题表现在8.4以及之后版本的精确形式中，
   但是我们补丁早期版本以及有其他编码路径下可以触发相同错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix race condition during toast table access from stale syscache entries
      (Tom Lane)
     </para>
-->
<para>
   修复toast表访问陈旧syscache项中的竞争条件(Tom Lane)
</para>

     <!--
<para>
      The typical symptom was transient errors like <quote>missing chunk
      number 0 for toast value NNNNN in pg_toast_2619</>, where the cited
      toast table would always belong to a system catalog.
     </para>
-->
<para>
   典型症状是短暂错误像<quote>为pg_toast_2619中toast值NNNNN丢失块号0</>，
其中引用的toast表总是从属于一个系统目录。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Track dependencies of functions on items used in parameter default
      expressions (Tom Lane)
     </para>
-->
<para>
    跟踪用于参数缺省表达式函数依赖(Tom Lane)
</para>

     <!--
<para>
      Previously, a referenced object could be dropped without having dropped
      or modified the function, leading to misbehavior when the function was
      used.  Note that merely installing this update will not fix the missing
      dependency entries; to do that, you'd need to <command>CREATE OR
      REPLACE</> each such function afterwards.  If you have functions whose
      defaults depend on non-built-in objects, doing so is recommended.
     </para>
-->
<para>
    以前，被引用的对象没有删除或者修改函数而被删除，  
当使用该函数时，导致错误操作。
请注意，仅仅安装此更新将不能修复丢失依赖项；
这样，你之后需要<command>CREATE OR REPLACE</>每个函数。
如果你有缺省依赖非内置对象的函数，这样做是值得推荐的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow inlining of set-returning SQL functions with multiple OUT
      parameters (Tom Lane)
     </para>
-->
<para>
   允许有多个OUT参数的设置返回SQL函数的内联(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <function>DatumGetInetP()</> unpack inet datums that have a 1-byte
      header, and add a new macro, <function>DatumGetInetPP()</>, that does
      not (Heikki Linnakangas)
     </para>
-->
<para>
    使得<function>DatumGetInetP()</>解压有1字节头的inet数据，
   并且添加一个新宏，
   <function>DatumGetInetPP()</>确实没有(Heikki Linnakangas)
</para>

     <!--
<para>
      This change affects no core code, but might prevent crashes in add-on
      code that expects <function>DatumGetInetP()</> to produce an unpacked
      datum as per usual convention.
     </para>
-->
<para>
   这个变化不影响核心代码，但是
可能阻止希望<function>DatumGetInetP()</>
按惯例产生解压数据的附加代码中崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve locale support in <type>money</> type's input and output
      (Tom Lane)
     </para>
-->
<para>
   提高<type>money</>类型的输入和输出的区域支持(Tom Lane)
</para>

     <!--
<para>
      Aside from not supporting all standard
      <link linkend="guc-lc-monetary"><varname>lc_monetary</></link>
      formatting options, the input and output functions were inconsistent,
      meaning there were locales in which dumped <type>money</> values could
      not be re-read.
     </para>
-->
<para>
    除了不支持所有标准的<link linkend="guc-lc-monetary"><varname>lc_monetary</></link>
格式选项，输入和输出函数是一致的，
意味着有区域备份<type>money</>值不能被重读。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Don't let <link
      linkend="guc-transform-null-equals"><varname>transform_null_equals</></link>
      affect <literal>CASE foo WHEN NULL ...</> constructs
      (Heikki Linnakangas)
     </para>
-->
<para>
不要让
<link linkend="guc-transform-null-equals"><varname>transform_null_equals</></link>
影响<literal>CASE foo WHEN NULL ...</>结构
(Heikki Linnakangas)
</para>

     <!--
<para>
      <varname>transform_null_equals</> is only supposed to affect
      <literal>foo = NULL</> expressions written directly by the user, not
      equality checks generated internally by this form of <literal>CASE</>.
     </para>
-->
<para>
   <varname>transform_null_equals</>只会
   影响直接由用户编写的<literal>foo = NULL</>表达式，
   通过<literal>CASE</>这种形式内部产生的不平等检查。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Change foreign-key trigger creation order to better support
      self-referential foreign keys (Tom Lane)
     </para>
-->
<para>
    改变外键触发器创建顺序更好地支持自我参照外键(Tom Lane)
</para>

     <!--
<para>
      For a cascading foreign key that references its own table, a row update
      will fire both the <literal>ON UPDATE</> trigger and the
      <literal>CHECK</> trigger as one event.  The <literal>ON UPDATE</>
      trigger must execute first, else the <literal>CHECK</> will check a
      non-final state of the row and possibly throw an inappropriate error.
      However, the firing order of these triggers is determined by their
      names, which generally sort in creation order since the triggers have
      auto-generated names following the convention
      <quote>RI_ConstraintTrigger_NNNN</>.  A proper fix would require
      modifying that convention, which we will do in 9.2, but it seems risky
      to change it in existing releases.  So this patch just changes the
      creation order of the triggers.  Users encountering this type of error
      should drop and re-create the foreign key constraint to get its
      triggers into the right order.
     </para>
-->
<para>
    一个级联外键引用它自己的表，行更新
将触发<literal>ON UPDATE</>触发器和
作为一个事件的<literal>CHECK</>。
<literal>ON UPDATE</>
触发器必须首先执行，否则<literal>CHECK</>将检查
该行的非最终状态并且可能抛出一个不合适错误。
然而，这些触发器的触发顺序是由自己名字决定的，
其中通常按照创建顺序排序，因为
触发器按照惯例<quote>RI_ConstraintTrigger_NNNN</>
有自动生成的名字。
一个适当的修复将需要修改该惯例，
我们会在9.2中执行，但在现有的版本中改变它似乎有风险。
所以这个补丁只改变
触发器的创建顺序。用户遇到此类型的错误
要删除并重新创建外键约束使得它的
触发器进入正确的顺序。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid floating-point underflow while tracking buffer allocation rate
      (Greg Matthews)
     </para>
-->
<para>
    当跟踪缓冲区分配率时，避免浮点下溢(Greg Matthews)
</para>

     <!--
<para>
      While harmless in itself, on certain platforms this would result in
      annoying kernel log messages.
     </para>
-->
<para>
   当对自身无害时，在某些平台上这可能导致讨厌的内核日志信息。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Preserve configuration file name and line number values when starting
      child processes under Windows (Tom Lane)
     </para>
-->
<para>
    当在Windows下启动子进程时，
保留配置文件名字和行号值(Tom Lane)
</para>

     <!--
<para>
      Formerly, these would not be displayed correctly in the
      <structname>pg_settings</> view.
     </para>
-->
<para>
    以前，这些在<structname>pg_settings</>视图中不能被正确显示。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Preserve blank lines within commands in <application>psql</>'s command
      history (Robert Haas)
     </para>
-->
<para>
    保留<application>psql</>的命令历史中该命令中的空白行(Robert Haas)
</para>

     <!--
<para>
      The former behavior could cause problems if an empty line was removed
      from within a string literal, for example.
     </para>
-->
<para>
    如果从字符串中删除空行，前者操作可能产生问题，比如。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_dump</> to dump user-defined casts between
      auto-generated types, such as table rowtypes (Tom Lane)
     </para>
-->
<para>
    修复<application>pg_dump</>以备份自动生成类型之间用户定义的映射，
比如表rowtype(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Use the preferred version of <application>xsubpp</> to build PL/Perl,
      not necessarily the operating system's main copy
      (David Wheeler and Alex Hunsaker)
     </para>
-->
<para>
    使用<application>xsubpp</>首选版本以编译PL/Perl，
   不一定操作系统的主拷贝(David Wheeler和 Alex Hunsaker)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect coding in <filename>contrib/dict_int</> and
      <filename>contrib/dict_xsyn</> (Tom Lane)
     </para>
-->
<para>
    修复<filename>contrib/dict_int</>和
      <filename>contrib/dict_xsyn</>中错误编码(Tom Lane)
</para>

     <!--
<para>
      Some functions incorrectly assumed that memory returned by
      <function>palloc()</> is guaranteed zeroed.
     </para>
-->
<para>
    一些函数错误地假设通过<function>palloc()</>
返回的内存保证为零
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Honor query cancel interrupts promptly in <function>pgstatindex()</>
      (Robert Haas)
     </para>
-->
<para>
    接受<function>pgstatindex()</>中的
及时查询取消中断(Robert Haas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure VPATH builds properly install all server header files
      (Peter Eisentraut)
     </para>
-->
<para>
    确保VPATH编译正确安装所有服务器头文件(Peter Eisentraut)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Shorten file names reported in verbose error messages (Peter Eisentraut)
     </para>
-->
<para>
    缩短详细错误消息中报告的文件名(Peter Eisentraut)
</para>

     <!--
<para>
      Regular builds have always reported just the name of the C file
      containing the error message call, but VPATH builds formerly
      reported an absolute path name.
     </para>
-->
<para>
    规则编译一直被包含错误消息调用的C文件名报告，
   但是VPATH编译之前报告绝对路径名。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix interpretation of Windows timezone names for Central America
      (Tom Lane)
     </para>
-->
<para>
    修复中美洲Windows时区名解释(Tom Lane)
</para>

     <!--
<para>
      Map <quote>Central America Standard Time</> to <literal>CST6</>, not
      <literal>CST6CDT</>, because DST is generally not observed anywhere in
      Central America.
     </para>
-->
<para>
    映射<quote>中美洲标准时间</>为<literal>CST6</>，
而不是<literal>CST6CDT</>，
   因为在中美洲任何地方通常观察不到DST。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2011n
      for DST law changes in Brazil, Cuba, Fiji, Palestine, Russia, and Samoa;
      also historical corrections for Alaska and British East Africa.
     </para>
-->
<para>
     为了Brazil, Cuba, Fiji, Palestine, Russia和Samoa中DST变化规律
   更新时区数据文件到<application>tzdata</>发布2011n；
   以及历史修正Alaska和British East Africa。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-9">
 <!--
  <title>Release 8.4.9</title>
-->
  <title>版本8.4.9</title>
  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2011-09-26</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.8.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含来自8.4.8的各种修复。关于8.4主要发布的新功能的信息，
参阅<xref linkend="release-8-4">。

</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.9</title>
   -->
   <title>迁移到版本8.4.9</title>

   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
    为运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, if you are upgrading from a version earlier than 8.4.8,
    see <xref linkend="release-8-4-8">.
   </para>
-->
<para>
   然而，如果你从8.4.8更早版本更新，参阅<xref linkend="release-8-4-8">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
   <title>变化</title>
   <itemizedlist> 

    <listitem>
     <!--
<para>
      Fix bugs in indexing of in-doubt HOT-updated tuples (Tom Lane)
     </para>
-->
<para>
    修复存在问题的热更新元组的索引错误(Tom Lane)
</para>

     <!--
<para>
      These bugs could result in index corruption after reindexing a system
      catalog.  They are not believed to affect user indexes.
     </para>
-->
<para>
    这些错误可以导致重新索引系统目录后索引崩溃。
他们不认为会影响用户索引。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix multiple bugs in GiST index page split processing (Heikki
      Linnakangas)
     </para>
-->
<para>
   修复GiST索引页分裂处理的多个错误(Heikki Linnakangas)
</para>

     <!--
<para>
      The probability of occurrence was low, but these could lead to index
      corruption.
     </para>
-->
<para>
    发生的概率是很低的，但是可以导致索引失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible buffer overrun in <function>tsvector_concat()</>
      (Tom Lane)
     </para>
-->
<para>
    修复<function>tsvector_concat()</>中可能的缓冲区溢出(Tom Lane)
</para>

     <!--
<para>
      The function could underestimate the amount of memory needed for its
      result, leading to server crashes.
     </para>
-->
<para>
     该函数低估它的结果所需要的内存量，导致服务器崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix crash in <function>xml_recv</> when processing a
      <quote>standalone</> parameter (Tom Lane)
     </para>
-->
<para>
     当处理<quote>standalone</>参数时，修复<function>xml_recv</>
 中崩溃(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <function>pg_options_to_table</> return NULL for an option with no
      value (Tom Lane)
     </para>
-->
<para>
    使得<function>pg_options_to_table</>为没有值的选项返回NULL(Tom Lane)
</para>

     <!--
<para>
      Previously such cases would result in a server crash.
     </para>
-->
<para>
    以前这种情况可以导致服务器崩溃。 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid possibly accessing off the end of memory in <command>ANALYZE</>
      and in SJIS-2004 encoding conversion (Noah Misch)
     </para>
-->
<para>
   避免在<command>ANALYZE</>和SJIS-2004编码转换中可能访问内存结尾(Noah Misch)
</para>

     <!--
<para>
      This fixes some very-low-probability server crash scenarios.
     </para>
-->
<para>
     这修复了一些概率很低的服务器崩溃情况。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent intermittent hang in interactions of startup process with
      bgwriter process (Simon Riggs)
     </para>
-->
<para>
    防止间歇性挂在启动进程和bgwriter进程的相互作用中(Simon Riggs)
</para>

     <!--
<para>
      This affected recovery in non-hot-standby cases.
     </para>
-->
<para>
     这影响了在非热备份情况中的恢复。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix race condition in relcache init file invalidation (Tom Lane)
     </para>
-->
<para>
   修复relcache初始文件失效的竞态条件(Tom Lane)
</para>

     <!--
<para>
      There was a window wherein a new backend process could read a stale init
      file but miss the inval messages that would tell it the data is stale.
      The result would be bizarre failures in catalog accesses, typically
      <quote>could not read block 0 in file ...</> later during startup.
     </para>
-->
<para>
    有一个Window，其中新的后台进程可以读一个陈旧的初始化文件，
但是忽略了告知它的数据是陈旧的无效消息。
    其结果在目录访问中是奇怪的错误，通常在启动之后
<quote>无法读取文件中块0...</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leak at end of a GiST index scan (Tom Lane)
     </para>
-->
<para>
    修复在GiST索引扫描结尾的内存泄露(Tom Lane)
</para>

     <!--
<para>
      Commands that perform many separate GiST index scans, such as
      verification of a new GiST-based exclusion constraint on a table
      already containing many rows, could transiently require large amounts of
      memory due to this leak.
     </para>
-->
<para>
    执行许多单独GiST索引扫描的命令，
   比如包含很多行的表上新的基于排斥约束的GiST验证，
   由于这种泄露可能短暂地需要大量内存。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect memory accounting (leading to possible memory bloat) in
      tuplestores supporting holdable cursors and plpgsql's <literal>RETURN
      NEXT</> command (Tom Lane)
     </para>
-->
<para>
    修复元组存储可支持游标以及
plpgsql的<literal>RETURN NEXT</>命令中不正确的内存计算（可能导致内存膨胀）(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix performance problem when constructing a large, lossy bitmap
      (Tom Lane)
     </para>
-->
<para>
     当建立一个大的，有损耗的位图时，修复性能问题(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix join selectivity estimation for unique columns (Tom Lane)
     </para>
-->
<para>
     修复唯一列的连接选择性估计(Tom Lane)
</para>

     <!--
<para>
      This fixes an erroneous planner heuristic that could lead to poor
      estimates of the result size of a join.
     </para>
-->
<para>
    这修复了可以导致连接结果大小的较差估计的错误的规划器探试。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix nested PlaceHolderVar expressions that appear only in sub-select
      target lists (Tom Lane)
     </para>
-->
<para>
     修复只出现在子select目标列中的嵌套PlaceHolderVar表达式(Tom Lane)
</para>

     <!--
<para>
      This mistake could result in outputs of an outer join incorrectly
      appearing as NULL.
     </para>
-->
<para>
    这个错误可以导致错误的出现空的外部连接的输出。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow nested <literal>EXISTS</> queries to be optimized properly (Tom
      Lane)
     </para>
-->
<para>
    运行正确优化的嵌套的<literal>EXISTS</>查询(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix array- and path-creating functions to ensure padding bytes are
      zeroes (Tom Lane)
     </para>
-->
<para>
    修复数组和路径创建函数确保填充字节为零(Tom Lane)
</para>

     <!--
<para>
      This avoids some situations where the planner will think that
      semantically-equal constants are not equal, resulting in poor
      optimization.
     </para>
-->
<para>
这避免了规划器认为语义上相同的常数是不相等的一种情况，导致低劣的优化。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <command>EXPLAIN</> to handle gating Result nodes within
      inner-indexscan subplans (Tom Lane)
     </para>
-->
<para>
  修复<command>EXPLAIN</>以处理内部索引扫描子规划中控制结果节点(Tom Lane)
</para>

     <!--
<para>
      The usual symptom of this oversight was <quote>bogus varno</> errors.
     </para>
-->
<para>
     这种忽视的通常状况是<quote>bogus varno</>错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Work around gcc 4.6.0 bug that breaks WAL replay (Tom Lane)
     </para>
-->
<para>
     解决了打破WAL回放的gcc 4.6.0错误(Tom Lane)
</para>

     <!--
<para>
      This could lead to loss of committed transactions after a server crash.
     </para>
-->
<para>
     这可能会导致服务器崩溃后已提交事务损失。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix dump bug for <literal>VALUES</> in a view (Tom Lane)
     </para>
-->
<para>
    修复视图中<literal>VALUES</>备份错误(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Disallow <literal>SELECT FOR UPDATE/SHARE</> on sequences (Tom Lane)
     </para>
-->
<para>
    不允许序列上<literal>SELECT FOR UPDATE/SHARE</>(Tom Lane)
</para>

     <!--
<para>
      This operation doesn't work as expected and can lead to failures.
     </para>
-->
<para>
     该操作不按预期运行并且导致错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <command>VACUUM</> so that it always updates
      <literal>pg_class</>.<literal>reltuples</>/<literal>relpages</> (Tom
      Lane)
     </para>
-->
<para>
    修复<command>VACUUM</>所以它总是更新<literal>pg_class</>.<literal>reltuples</>/<literal>relpages</> (Tom Lane)
</para>

     <!--
<para>
      This fixes some scenarios where autovacuum could make increasingly poor
      decisions about when to vacuum tables.
     </para>
-->
<para>
    这将修复对于当vacuum表的时候autovacuum可能会越来越差的一些情况。 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Defend against integer overflow when computing size of a hash table (Tom
      Lane)
     </para>
-->
<para>
    当计算哈希表大小时，防止整数溢出(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix cases where <command>CLUSTER</> might attempt to access
      already-removed TOAST data (Tom Lane)
     </para>
-->
<para>
    修复<command>CLUSTER</>可能尝试访问已删除TOAST数据(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix portability bugs in use of credentials control messages for
      <quote>peer</> authentication (Tom Lane)
     </para>
-->
<para> 
     修复为<quote>peer</>认证使用凭证控制消息的可能错误(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix SSPI login when multiple roundtrips are required (Ahmed Shinwari,
      Magnus Hagander)
     </para>
-->
<para>
     当需要多次往返时，修复SSPI登录(Ahmed Shinwari,Magnus Hagander)
</para>

     <!--
<para>
      The typical symptom of this problem was <quote>The function requested is
      not supported</> errors during SSPI login.
     </para>
-->
<para>
    这个问题典型症状是在SSPI登录期间<quote>不支持该函数请求</>错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Throw an error if <filename>pg_hba.conf</> contains <literal>hostssl</>
      but SSL is disabled (Tom Lane)
     </para>
-->
<para>
    如果<filename>pg_hba.conf</>包含<literal>hostssl</>，但是
SSL被禁用，抛出错误(Tom Lane)
</para>

     <!--
<para>
      This was concluded to be more user-friendly than the previous behavior
      of silently ignoring such lines.
     </para>
-->
<para>
    这一结论比默默忽略这些行的先前操作更加人性化。 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix typo in <function>pg_srand48</> seed initialization (Andres Freund)
     </para>
-->
<para>
     修复<function>pg_srand48</>起源初始化中的typo (Andres Freund)
</para>

     <!--
<para>
      This led to failure to use all bits of the provided seed.  This function
      is not used on most platforms (only those without <function>srandom</>),
      and the potential security exposure from a less-random-than-expected
      seed seems minimal in any case.
     </para>
-->
<para>
    这导致错误使用已提供的种子的所有位。
    在大多数平台上不使用这个功能（只有那些没有<function>srandom</>的），
以及来自任何情况下比预期更少随机种子似乎最小的潜在安全隐患。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid integer overflow when the sum of <literal>LIMIT</> and
      <literal>OFFSET</> values exceeds 2^63 (Heikki Linnakangas)
     </para>
-->
<para>
     当<literal>LIMIT</>和<literal>OFFSET</>总数值超过2^63的时候，
 避免整数溢出(Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add overflow checks to <type>int4</> and <type>int8</> versions of
      <function>generate_series()</> (Robert Haas)
     </para>
-->
<para>
    添加溢出检查到<function>generate_series()</>
的<type>int4</>和<type>int8</>版本(Robert Haas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix trailing-zero removal in <function>to_char()</> (Marti Raudsepp)
     </para>
-->
<para>
    修复<function>to_char()</>中尾随零删除(Marti Raudsepp)
</para>

     <!--
<para>
      In a format with <literal>FM</> and no digit positions
      after the decimal point, zeroes to the left of the decimal point could
      be removed incorrectly.
     </para>
-->
<para>
    带有<literal>FM</>的格式，并且小数点后没有数字位置中，
    小数点左边的零可能被错误地删除。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <function>pg_size_pretty()</> to avoid overflow for inputs close to
      2^63 (Tom Lane)
     </para>
-->
<para>
    修复<function>pg_size_pretty()</>以避免接近2^63的输入溢出(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Weaken plpgsql's check for typmod matching in record values (Tom Lane)
     </para>
-->
<para>
     削弱记录值中typmod匹配的plpgsql检查(Tom Lane)
</para>

     <!--
<para>
      An overly enthusiastic check could lead to discarding length modifiers
      that should have been kept.
     </para>
-->
<para>
    一个过分热情检查可能导致丢弃一直保持的长度修饰符。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Correctly handle quotes in locale names during <application>initdb</>
      (Heikki Linnakangas)
     </para>
-->
<para>
  正确处理<application>initdb</>期间的区域名的引用(Heikki Linnakangas)
</para>

     <!--
<para>
      The case can arise with some Windows locales, such as <quote>People's
      Republic of China</>.
     </para>
-->
<para>
    这种情况可以产生一些Windows区域，比如<quote>中华人民共和国</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_upgrade</> to preserve toast tables' relfrozenxids
      during an upgrade from 8.3 (Bruce Momjian)
     </para>
-->
<para>
     从8.3更新期间修复<application>pg_upgrade</>保存toast表的relfrozenxid 
 (Bruce Momjian)
</para>

     <!--
<para>
      Failure to do this could lead to <filename>pg_clog</> files being
      removed too soon after the upgrade.
     </para>
-->
<para>
     如果不这样做可能导致<filename>pg_clog</>文件升级后很快被删除。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      In <application>pg_ctl</>, support silent mode for service registrations
      on Windows (MauMau)
     </para>
-->
<para>
    在<application>pg_ctl</>中，
支持Windows上服务注册静止模式(MauMau)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>psql</>'s counting of script file line numbers during
      <literal>COPY</> from a different file (Tom Lane)
     </para>
-->
<para>
   修复从不同文件<literal>COPY</>时脚本文件行数的<application>psql</>计数(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_restore</>'s direct-to-database mode for
      <varname>standard_conforming_strings</> (Tom Lane)
     </para>
-->
<para>
    为<varname>standard_conforming_strings</>修复
<application>pg_restore</>的直接到数据库模式(Tom Lane)
</para>

     <!--
<para>
      <application>pg_restore</> could emit incorrect commands when restoring
      directly to a database server from an archive file that had been made
      with <varname>standard_conforming_strings</> set to <literal>on</>.
     </para>
-->
<para>
   当从<varname>standard_conforming_strings</>设置为<literal>on</>的归档文件中直接恢复
   到数据库服务器时，<application>pg_restore</>可以发出错误命令。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Be more user-friendly about unsupported cases for parallel
      <application>pg_restore</> (Tom Lane)
     </para>
-->
<para>
   关于平行的<application>pg_restore</>不支持情况用户界面友好(Tom Lane)
</para>

     <!--
<para>
      This change ensures that such cases are detected and reported before
      any restore actions have been taken.
     </para>
-->
<para>
     该变化确保了在采取的任何恢复操作之前这种情况被检测和报告。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix write-past-buffer-end and memory leak in <application>libpq</>'s
      LDAP service lookup code (Albe Laurenz)
     </para>
-->
<para>
     修复写入超越缓冲区末尾以及在<application>libpq</>的LDAP服务查找代码中的内存泄漏(Albe Laurenz)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      In <application>libpq</>, avoid failures when using nonblocking I/O
      and an SSL connection (Martin Pihlak, Tom Lane)
     </para>
-->
<para>
    在<application>libpq</>中，当使用非阻塞I/O和SSL连接时避免错误(Martin Pihlak, Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve libpq's handling of failures during connection startup
      (Tom Lane)
     </para>
-->
<para>
     连接启动时提高libpq的错误处理(Tom Lane)
</para>

     <!--
<para>
      In particular, the response to a server report of <function>fork()</>
      failure during SSL connection startup is now saner.
     </para>
-->
<para>
    特别是，在SSL连接启动时<function>fork()</>错误的服务器报告
的反应是明智的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve <application>libpq</>'s error reporting for SSL failures (Tom
      Lane)
     </para>
-->
<para>
    提高SSL故障<application>libpq</>的错误报告(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <function>PQsetvalue()</> to avoid possible crash when adding a new
      tuple to a <structname>PGresult</> originally obtained from a server
      query (Andrew Chernow)
     </para>
-->
<para>
     当添加新元组到最初从服务器查询获得的<structname>PGresult</>时，
 修复<function>PQsetvalue()</>避免可能崩溃(Andrew Chernow)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <application>ecpglib</> write <type>double</> values with 15 digits
      precision (Akira Kurosawa)
     </para>
-->
<para>
    使得<application>ecpglib</>写入带有15位数字精度的<type>double</>值(Akira Kurosawa)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      In <application>ecpglib</>, be sure <literal>LC_NUMERIC</> setting is
      restored after an error (Michael Meskes)
     </para>
-->
<para>
    在<application>ecpglib</>中，确保错误之后恢复<literal>LC_NUMERIC</>设置(Michael Meskes)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Apply upstream fix for blowfish signed-character bug (CVE-2011-2483)
      (Tom Lane)
     </para>
-->
<para>
    提供上游修复加密的符号字符错误(CVE-2011-2483)(Tom Lane)
</para>

     <!--
<para>
      <filename>contrib/pg_crypto</>'s blowfish encryption code could give
      wrong results on platforms where char is signed (which is most),
      leading to encrypted passwords being weaker than they should be.
     </para>
-->
<para>
    <filename>contrib/pg_crypto</>的加密代码可以在
字符是有符号的（这是大多数）平台上提供错误结果，导致加密密码比它们所应该的更弱。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leak in <filename>contrib/seg</> (Heikki Linnakangas)
     </para>
-->
<para>
   修复<filename>contrib/seg</>中的内存泄露(Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <function>pgstatindex()</> to give consistent results for empty
      indexes (Tom Lane)
     </para>
-->
<para>
    修复<function>pgstatindex()</>为空索引提供一致结果(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow building with perl 5.14 (Alex Hunsaker)
     </para>
-->
<para>
    允许编译 perl 5.14 (Alex Hunsaker)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update configure script's method for probing existence of system
      functions (Tom Lane)
     </para>
-->
<para>
   为探测系统函数的存在更新配置脚本方法(Tom Lane)
</para>

     <!--
<para>
      The version of autoconf we used in 8.3 and 8.2 could be fooled by
      compilers that perform link-time optimization.
     </para>
-->
<para>
     在8.3和8.2中使用的autoconf的版本可能被执行链接时优化的编译器愚弄。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix assorted issues with build and install file paths containing spaces
      (Tom Lane)
     </para>
-->
<para>
     修复包含空格的编译安装文件路径的相关问题(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2011i
      for DST law changes in Canada, Egypt, Russia, Samoa, and South Sudan.
     </para>
-->
<para>
    更新时区数据文件到为Canada, Egypt, Russia, Samoa和South Sudan中的DST变化规律的<application>tzdata</>发布2011i。
</para>
    </listitem>

   </itemizedlist> 

  </sect2>
 </sect1>

 <sect1 id="release-8-4-8">
 <!--
  <title>Release 8.4.8</title>
-->
  <title>版本8.4.8</title>
  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2011-04-18</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.7.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含来自8.4.7的各种修复，
关于8.4主要发布的新功能信息，
参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.8</title>
-->
   <title>迁移到版本8.4.8</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
      运行8.4.X不需要备份/恢复。
</para>

   <!--
<para>
    However, if your installation was upgraded from a previous major
    release by running <application>pg_upgrade</>, you should take
    action to prevent possible data loss due to a now-fixed bug in
    <application>pg_upgrade</>.  The recommended solution is to run
    <command>VACUUM FREEZE</> on all TOAST tables.
    More information is available at <ulink
    url="http://wiki.postgresql.org/wiki/20110408pg_upgrade_fix">
    http://wiki.postgresql.org/wiki/20110408pg_upgrade_fix</ulink>.
   </para>
-->
<para>
    然而，如果你的安装是通过运行<application>pg_upgrade</>从
原先主要发布中更新，你应该采取措施避免
由于<application>pg_upgrade</>中现在修复错误
可能的数据丢失。建议方法是在所有TOAST表上运行<command>VACUUM FREEZE</>。
<ulink url="http://wiki.postgresql.org/wiki/20110408pg_upgrade_fix">http://wiki.postgresql.org/wiki/20110408pg_upgrade_fix</ulink>中更多信息可用。

</para>

   <!--
<para>
    Also, if you are upgrading from a version earlier than 8.4.2,
    see <xref linkend="release-8-4-2">.
   </para>
-->
<para>
     另外，如果你从8.4.2更早版本更新，参阅<xref linkend="release-8-4-2">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
   <title>变化</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Fix <application>pg_upgrade</>'s handling of TOAST tables
      (Bruce Momjian)
     </para>
-->
<para>
    修复<application>pg_upgrade</>的TOAST表处理(Bruce Momjian)
</para>

     <!--
<para>
      The <structname>pg_class</>.<structfield>relfrozenxid</> value for
      TOAST tables was not correctly copied into the new installation
      during <application>pg_upgrade</>.  This could later result in
      <literal>pg_clog</> files being discarded while they were still
      needed to validate tuples in the TOAST tables, leading to
      <quote>could not access status of transaction</> failures.
     </para>
-->
<para>
     TOAST表的<structname>pg_class</>.<structfield>relfrozenxid</>值
 不能被正确拷贝到<application>pg_upgrade</>中的新安装中。
 当它们仍然需要验证TOAST表中的元组时，这可能会导致丢弃<literal>pg_clog</>，
 导致<quote>无法访问事务状态</>错误。
</para>

     <!--
<para>
      This error poses a significant risk of data loss for installations
      that have been upgraded with <application>pg_upgrade</>.  This patch
      corrects the problem for future uses of <application>pg_upgrade</>,
      but does not in itself cure the issue in installations that have been
      processed with a buggy version of <application>pg_upgrade</>.
     </para>
-->
<para>
      这个错误引起使用<application>pg_upgrade</>更新的安装中数据丢失的显著风险。
  该补丁校对<application>pg_upgrade</>未来使用中的错误，
  但是自身并不能解决已被<application>pg_upgrade</>旧版本处理的安装中的问题。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Suppress incorrect <quote>PD_ALL_VISIBLE flag was incorrectly set</>
      warning (Heikki Linnakangas)
     </para>
-->
<para>
    抑制不正确的<quote>PD_ALL_VISIBLE标记被不正确地设置</>警告(Heikki Linnakangas)
</para>

     <!--
<para>
      <command>VACUUM</> would sometimes issue this warning in cases that
      are actually valid.
     </para>
-->
<para>
    <command>VACUUM</>有时在实际有效的情况下发出警告。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Disallow including a composite type in itself (Tom Lane)
     </para>
-->
<para>
    不允许完全包含复合类型(Tom Lane)
</para>

     <!--
<para>
      This prevents scenarios wherein the server could recurse infinitely
      while processing the composite type.  While there are some possible
      uses for such a structure, they don't seem compelling enough to
      justify the effort required to make sure it always works safely.
     </para>
-->
<para>
   当处理复合类型的时候，这可以避免服务器无限地重现的情况。虽然有些可能
   用这种结构，它们似乎不足以证明可以确保安全工作。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid potential deadlock during catalog cache initialization
      (Nikhil Sontakke)
     </para>
-->
<para>
    避免目录缓存初始化期间潜在死锁(Nikhil Sontakke)
</para>

     <!--
<para>
      In some cases the cache loading code would acquire share lock on a
      system index before locking the index's catalog.  This could deadlock
      against processes trying to acquire exclusive locks in the other,
      more standard order.
     </para>
-->
<para>
      在某些情况下，缓存加载代码会在锁定索引的目录之前的系统索引上获取共享锁。 
      这可能停顿过程以试图获取排他锁，采用更多的标准顺序。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix dangling-pointer problem in <literal>BEFORE ROW UPDATE</> trigger
      handling when there was a concurrent update to the target tuple
      (Tom Lane)
     </para>
-->
<para>
   当有一个并发更新到目标元组时，修复<literal>BEFORE ROW UPDATE</>触发器处理中的
   悬挂指针问题(Tom Lane)
</para>

     <!--
<para>
      This bug has been observed to result in intermittent <quote>cannot
      extract system attribute from virtual tuple</> failures while trying to
      do <literal>UPDATE RETURNING ctid</>.  There is a very small probability
      of more serious errors, such as generating incorrect index entries for
      the updated tuple.
     </para>
-->
<para>
      当尝试执行<literal>UPDATE RETURNING ctid</>的时候，
  已被观察到的这个错误导致间歇性<quote>无法从虚拟元组提取系统属性</>错误。
  对于更严重的错误有一个非常小的概率，如为更新的元组产生不正确的索引项。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Disallow <command>DROP TABLE</> when there are pending deferred trigger
      events for the table (Tom Lane)
     </para>
-->
<para>
   当有表的等待延迟触发器事件时，不允许<command>DROP TABLE</>(Tom Lane)
</para>

     <!--
<para>
      Formerly the <command>DROP</> would go through, leading to
      <quote>could not open relation with OID nnn</> errors when the
      triggers were eventually fired.
     </para>
-->
<para>
    以前<command>DROP</>可以通过，当触发器最终被唤起时，
导致<quote>无法打开OID nnn关系</>的错误。

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent crash triggered by constant-false WHERE conditions during
      GEQO optimization (Tom Lane)
     </para>
-->
<para>
  在GEQO优化期间，避免通过常量错误WHERE条件触发崩溃(Tom Lane)
</para>

    </listitem>

    <listitem>
     <!--
<para>
      Improve planner's handling of semi-join and anti-join cases
      (Tom Lane)
     </para>
-->
<para>
    提高半连接和反连接情况中规划器的处理(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix selectivity estimation for text search to account for NULLs
      (Jesper Krogh)
     </para>
-->
<para>
    修复解释空的原因的文本搜索的选择性估计(Jesper Krogh)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve PL/pgSQL's ability to handle row types with dropped columns
      (Pavel Stehule)
     </para>
-->
<para>
    提高处理已删除列行类型的PL/pgSQL的能力(Pavel Stehule)
</para>

     <!--
<para>
      This is a back-patch of fixes previously made in 9.0.
     </para>
-->
<para>
    这是在9.0之前修复后补丁。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PL/Python memory leak involving array slices (Daniel Popowich)
     </para>
-->
<para>
    修复涉及到数组片段的PL/Python内存泄露(Daniel Popowich) 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_restore</> to cope with long lines (over 1KB) in
      TOC files (Tom Lane)
     </para>
-->
<para>
    修复<application>pg_restore</>处理TOC文件中长线(超过1KB) (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Put in more safeguards against crashing due to division-by-zero
      with overly enthusiastic compiler optimization (Aurelien Jarno)
     </para>
-->
<para>
      采取更多防御措施阻止崩溃，由于使用过度热情的编译器优化除以零(Aurelien Jarno)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Support use of dlopen() in FreeBSD and OpenBSD on MIPS (Tom Lane)
     </para>
-->
<para>
    支持MIPS上FreeBSD和OpenBSD中dlopen()的使用(Tom Lane)
</para>

     <!--
<para>
      There was a hard-wired assumption that this system function was not
      available on MIPS hardware on these systems.  Use a compile-time test
      instead, since more recent versions have it.
     </para>
-->
<para>
    有一个硬连线假设，即该系统函数
在这些系统上的MIPS硬件上不可用。代替使用编译测试，
因为最新版本中存在。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix compilation failures on HP-UX (Heikki Linnakangas)
     </para>
-->
<para>
    修复HP-UX上编译失败(Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix version-incompatibility problem with <application>libintl</> on
      Windows (Hiroshi Inoue)
     </para>
-->
<para>
    解决Windows上与<application>libintl</>版本不兼容问题(Hiroshi Inoue)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix usage of <application>xcopy</> in Windows build scripts to
      work correctly under Windows 7 (Andrew Dunstan)
     </para>
-->
<para>
    修复Windows编译脚本中<application>xcopy</>的使用
以便在Windows 7中正常工作(Andrew Dunstan)
</para>

     <!--
<para>
      This affects the build scripts only, not installation or usage.
     </para>
-->
<para>
   这只影响到编译脚本，没有安装或者使用。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix path separator used by <application>pg_regress</> on Cygwin
      (Andrew Dunstan)
     </para>
-->
<para>
     修复Cygwin上的<application>pg_regress</>使用的路径分隔符(Andrew Dunstan)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2011f
      for DST law changes in Chile, Cuba, Falkland Islands, Morocco, Samoa,
      and Turkey; also historical corrections for South Australia, Alaska,
      and Hawaii.
     </para>
-->
<para>
    为了Chile, Cuba, Falkland Islands, Morocco, Samoa,
    和Turkey中DST变化规律更新时区数据文件到<application>tzdata</>发布2011f；
同时为South Australia, Alaska和Hawaii进行历史修正。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-7">
  <!--
  <title>Release 8.4.7</title>
  -->
  <title>版本8.4.7</title>
  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2011-01-31</simpara>
  </note>
  
  
  <!--
<para>
   This release contains a variety of fixes from 8.4.6.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含8.4.6各种修复。关于8.4主要发布的新功能的各种信息，
参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.7</title>
-->
   <title>迁移到版本8.4.7</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
    However, if you are upgrading from a version earlier than 8.4.2,
    see <xref linkend="release-8-4-2">.
   </para>
-->
<para>
     运行8.4.X不需要备份/恢复。然而，如果你从8.4.2更早版本更新，
 参阅<xref linkend="release-8-4-2">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
   <title>变化</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Avoid failures when <command>EXPLAIN</> tries to display a simple-form
      <literal>CASE</> expression (Tom Lane)
     </para>
-->
<para>
    当<command>EXPLAIN</>尝试显示简单形式<literal>CASE</>表达式时，
避免错误(Tom Lane)

</para>

     <!--
<para>
      If the <literal>CASE</>'s test expression was a constant, the planner
      could simplify the <literal>CASE</> into a form that confused the
      expression-display code, resulting in <quote>unexpected CASE WHEN
      clause</> errors.
     </para>
-->
<para>
    如果<literal>CASE</>的测试表达式是常量，规划器可以简化
<literal>CASE</>到困惑表达式显示代码形式，
导致<quote>不希望的CASE WHEN子句</>错误。 

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix assignment to an array slice that is before the existing range
      of subscripts (Tom Lane)
     </para>
-->
<para>
     修复分配给下标的现有范围的数组片段(Tom Lane) 
</para>

     <!--
<para>
      If there was a gap between the newly added subscripts and the first
      pre-existing subscript, the code miscalculated how many entries needed
      to be copied from the old array's null bitmap, potentially leading to
      data corruption or crash.
     </para>
-->
<para>
    如果在新添加的下标和最早预先存在的下标之间存在差距，
该代码误算了许多需要从旧的数组无效的位图拷贝的项，
可能导致数据损坏或崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid unexpected conversion overflow in planner for very distant date
      values (Tom Lane)
     </para>
-->
<para>
    在规划非常远的日期值时避免意外转换溢出(Tom Lane)
</para>

     <!--
<para>
      The <type>date</> type supports a wider range of dates than can be
      represented by the <type>timestamp</> types, but the planner assumed it
      could always convert a date to timestamp with impunity.
     </para>
-->
<para>
     <type>date</>类型支持比通过<type>timestamp</>类型表示的更广泛日期，
     但是规划器假设它完全可以将日期转换为timestamp。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_restore</>'s text output for large objects (BLOBs)
      when <varname>standard_conforming_strings</> is on (Tom Lane)
     </para>
-->
<para>
    当<varname>standard_conforming_strings</>是on时，
为大对象(BLOBs)修复<application>pg_restore</>的
文本输出(Tom Lane)
</para>

     <!--
<para>
      Although restoring directly to a database worked correctly, string
      escaping was incorrect if <application>pg_restore</> was asked for
      SQL text output and <varname>standard_conforming_strings</> had been
      enabled in the source database.
     </para>
-->
<para>
    虽然直接存储到数据库正常工作，如果
<application>pg_restore</>要求SQL文本输出并且<varname>standard_conforming_strings</>
在源数据库中启用，字符串转义是不正确的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix erroneous parsing of <type>tsquery</> values containing
      <literal>... &amp; !(subexpression) | ...</literal> (Tom Lane)
     </para>
-->
<para>
    修复包含<literal>... &amp; !(subexpression) | ...</literal>的
<type>tsquery</>值的错误解析(Tom Lane)
</para>

     <!--
<para>
      Queries containing this combination of operators were not executed
      correctly.  The same error existed in <filename>contrib/intarray</>'s
      <type>query_int</> type and <filename>contrib/ltree</>'s
      <type>ltxtquery</> type.
     </para>
-->
<para>
    包含操作符这种组合的查询不能正确被执行。同样的错误
存在于<filename>contrib/intarray</>的<type>query_int</>类型和<filename>contrib/ltree</>的
    <type>ltxtquery</>类型中。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix buffer overrun in <filename>contrib/intarray</>'s input function
      for the <type>query_int</> type (Apple)
     </para>
-->
<para>
   修复<type>query_int</>类型的<filename>contrib/intarray</>的输入函数中
   的缓冲区溢出(Apple)
</para>

     <!--
<para>
      This bug is a security risk since the function's return address could
      be overwritten.  Thanks to Apple Inc's security team for reporting this
      issue and supplying the fix.  (CVE-2010-4015)
     </para>
-->
<para>
    这个错误是一个安全风险，因为该函数的返回地址可以被覆盖。
感谢 Apple Inc的安全团队报告这个问题并且提供修复(CVE-2010-4015)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bug in <filename>contrib/seg</>'s GiST picksplit algorithm
      (Alexander Korotkov)
     </para>
-->
<para>
    修复<filename>contrib/seg</>的GiST picksplit算法中的错误(Alexander Korotkov)
</para>

     <!--
<para>
      This could result in considerable inefficiency, though not actually
      incorrect answers, in a GiST index on a <type>seg</> column.
      If you have such an index, consider <command>REINDEX</>ing it after
      installing this update.  (This is identical to the bug that was fixed in
      <filename>contrib/cube</> in the previous update.)
     </para>
-->
<para>
     这可能导致相当大的无效率，虽然在<type>seg</>列上的GiST索引中不是真的错误答案。
 如果你有这样一个索引，可以在安装这个更新之后考虑下<command>REINDEX</>它。
 （这与以前更新中<filename>contrib/cube</>中被修复的错误是相同的）。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-6">
 <!--
  <title>Release 8.4.6</title>
-->
   <title>版本8.4.6</title>
  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2010-12-16</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.5.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
     该发布包含8.4.5的各种修复。
 关于8.4主要发布的新功能的信息，
 参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.6</title>
-->
   <title>迁移到版本8.4.6</title>
   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
    However, if you are upgrading from a version earlier than 8.4.2,
    see <xref linkend="release-8-4-2">.
   </para>
-->
<para>
    运行8.4.X不需要备份/恢复。
然而，如果你从8.4.2更早版本更新，
参阅<xref linkend="release-8-4-2">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
   <title>变化</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Force the default
      <link linkend="guc-wal-sync-method"><varname>wal_sync_method</></link>
      to be <literal>fdatasync</> on Linux (Tom Lane, Marti Raudsepp)
     </para>
-->
<para>
    强迫缺省  
<link linkend="guc-wal-sync-method"><varname>wal_sync_method</></link>
为Linux上<literal>fdatasync</> (Tom Lane, Marti Raudsepp)
</para>

     <!--
<para>
      The default on Linux has actually been <literal>fdatasync</> for many
      years, but recent kernel changes caused <productname>PostgreSQL</> to
      choose <literal>open_datasync</> instead.  This choice did not result
      in any performance improvement, and caused outright failures on
      certain filesystems, notably <literal>ext4</> with the
      <literal>data=journal</> mount option.
     </para>
-->
<para>
    Linux上缺省实际上是多年的<literal>fdatasync</>，但是最近内核变化导致
<productname>PostgreSQL</>选择<literal>open_datasync</>。
这种选择在任何性能改进中不产生结果，并且导致某些文件系统的彻底失败，
尤其是带有<literal>data=journal</>挂载选项的<literal>ext4</>。


</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix assorted bugs in WAL replay logic for GIN indexes (Tom Lane)
     </para>
-->
<para>
      修复GIN索引WAL回放逻辑相关错误(Tom Lane)
</para>

     <!--
<para>
      This could result in <quote>bad buffer id: 0</> failures or
      corruption of index contents during replication.
     </para>
-->
<para>
     这可能导致<quote>坏缓冲区id: 0</>失败
 或者复制过程中索引内容的损坏。
 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix recovery from base backup when the starting checkpoint WAL record
      is not in the same WAL segment as its redo point (Jeff Davis)
     </para>
-->
<para>
    当开启检查点WAL记录不在同一WAL段作为重做点时，
修复基础备份恢复(Jeff Davis) 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix persistent slowdown of autovacuum workers when multiple workers
      remain active for a long time (Tom Lane)
     </para>
-->
<para>
      当多个执行者保持活跃很长时间的时候，修复autovacuum的持续放缓(Tom Lane)
</para>

     <!--
<para>
      The effective <varname>vacuum_cost_limit</> for an autovacuum worker
      could drop to nearly zero if it processed enough tables, causing it
      to run extremely slowly.
     </para>
-->
<para>
     为autovacuum工作者有效的<varname>vacuum_cost_limit</>可能下降到几乎为零，
 如果它处理足够多的表，使其运行极其缓慢。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add support for detecting register-stack overrun on <literal>IA64</>
      (Tom Lane)
     </para>
-->
<para>
     添加支持<literal>IA64</>上的检测寄存器栈溢出(Tom Lane)
</para>

     <!--
<para>
      The <literal>IA64</> architecture has two hardware stacks.  Full
      prevention of stack-overrun failures requires checking both.
     </para>
-->
<para>
    <literal>IA64</>结构有两个硬件堆栈。堆栈溢出错误的充分预防需要检查这两个。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add a check for stack overflow in <function>copyObject()</> (Tom Lane)
     </para>
-->
<para>
    添加<function>copyObject()</>中栈溢出检查(Tom Lane)
</para>

     <!--
<para>
      Certain code paths could crash due to stack overflow given a
      sufficiently complex query.
     </para>
-->
<para>
    某些代码路径可能导致崩溃，由于堆栈溢出产生了一个足够复杂的查询。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix detection of page splits in temporary GiST indexes (Heikki
      Linnakangas)
     </para>
-->
<para>
     修复临时GiST索引中页分离的检测(Heikki Linnakangas)
</para>

     <!--
<para>
      It is possible to have a <quote>concurrent</> page split in a
      temporary index, if for example there is an open cursor scanning the
      index when an insertion is done.  GiST failed to detect this case and
      hence could deliver wrong results when execution of the cursor
      continued.
     </para>
-->
<para>
    当执行插入时，如果比如有一个打开游标扫描索引的时候，在临时索引中可能
有<quote>并发</>的页面分离。当继续执行游标时，
GiST未能检测到这种情况，因此可以提供错误结果。

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix error checking during early connection processing (Tom Lane)
     </para>
-->
<para>
    在早期连接处理过程中修复错误检查(Tom Lane)
</para>

     <!--
<para>
      The check for too many child processes was skipped in some cases,
      possibly leading to postmaster crash when attempting to add the new
      child process to fixed-size arrays.
     </para>
-->
<para>
   在一些情况下忽略太多子进程检查，当尝试添加新的子进程到固定大小数组中时，
   可能导致postmaster崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve efficiency of window functions (Tom Lane)
     </para>
-->
<para>
     提升window函数的效率(Tom Lane)
</para>

     <!--
<para>
      Certain cases where a large number of tuples needed to be read in
      advance, but <varname>work_mem</> was large enough to allow them all
      to be held in memory, were unexpectedly slow.
      <function>percent_rank()</>, <function>cume_dist()</> and
      <function>ntile()</> in particular were subject to this problem.
     </para>
-->
<para>
     某些情况中大量元组需要提前被读取，但是<varname>work_mem</>大到足以允许它们
 全部保存在内存中，竟意外地慢。<function>percent_rank()</>, <function>cume_dist()</>和
      <function>ntile()</>尤其受到这个问题的影响。
 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid memory leakage while <command>ANALYZE</>'ing complex index
      expressions (Tom Lane)
     </para>
-->
<para>
    当<command>ANALYZE</>复杂索引表达式的时候，避免内存泄露(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure an index that uses a whole-row Var still depends on its table
      (Tom Lane)
     </para>
-->
<para>
    确保使用整行Var的索引依赖于它的表(Tom Lane)
</para>

     <!--
<para>
      An index declared like <literal>create index i on t (foo(t.*))</>
      would not automatically get dropped when its table was dropped.
     </para>
-->
<para>
     当删除表的时候，像<literal>create index i on t (foo(t.*))</>声明的索引
 可能不会自动被删除。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Do not <quote>inline</> a SQL function with multiple <literal>OUT</>
      parameters (Tom Lane)
     </para>
-->
<para>
    不要<quote>内联</>SQL函数与多个<literal>OUT</>参数(Tom Lane) 
</para>

     <!--
<para>
      This avoids a possible crash due to loss of information about the
      expected result rowtype.
     </para>
-->
<para>
    由于关于预期结果rowtype信息丢失，这避免了可能的崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Behave correctly if <literal>ORDER BY</>, <literal>LIMIT</>,
      <literal>FOR UPDATE</>, or <literal>WITH</> is attached to the
      <literal>VALUES</> part of <literal>INSERT ... VALUES</> (Tom Lane)
     </para>
-->
<para>
    如果<literal>ORDER BY</>, <literal>LIMIT</>,
      <literal>FOR UPDATE</>, or <literal>WITH</>附属于
      <literal>INSERT ... VALUES</>的<literal>VALUES</>部分，那么操作正确(Tom Lane)  
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix constant-folding of <literal>COALESCE()</> expressions (Tom Lane)
     </para>
-->
<para>
    修复<literal>COALESCE()</>表达式的常数合并(Tom Lane)
</para>

     <!--
<para>
      The planner would sometimes attempt to evaluate sub-expressions that
      in fact could never be reached, possibly leading to unexpected errors.
     </para>
-->
<para>
    规划器有时会试图评估事实上不可能达到的可能会导致意外错误的子表达式。  
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix postmaster crash when connection acceptance
      (<function>accept()</> or one of the calls made immediately after it)
      fails, and the postmaster was compiled with GSSAPI support (Alexander
      Chernikov)
     </para>
-->
<para>
    当连接接受失败时（<function>accept()</>或者在它之后立即调用），并且postmaster和GSSAPI支持一起编译，
修复postmaster崩溃。(Alexander Chernikov)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix missed unlink of temporary files when <varname>log_temp_files</>
      is active (Tom Lane)
     </para>
-->
<para>
     当<varname>log_temp_files</>是活跃的，则修复临时文件忽略的取消操作(Tom Lane)
</para>

     <!--
<para>
      If an error occurred while attempting to emit the log message, the
      unlink was not done, resulting in accumulation of temp files.
     </para>
-->
<para>
     当试图发出日志信息时，如果发生错误，那么取消不执行，
 导致临时文件积累。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add print functionality for <structname>InhRelation</> nodes (Tom Lane)
     </para>
-->
<para>
    为<structname>InhRelation</>节点添加输出功能(Tom Lane)
</para>

     <!--
<para>
      This avoids a failure when <varname>debug_print_parse</> is enabled
      and certain types of query are executed.
     </para>
-->
<para>
     当启用<varname>debug_print_parse</>并且执行某些类型查询时，
 这避免失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect calculation of distance from a point to a horizontal
      line segment (Tom Lane)
     </para>
-->
<para>
      修复从一个点到水平线段距离的错误计算(Tom Lane)
</para>

     <!--
<para>
      This bug affected several different geometric distance-measurement
      operators.
     </para>
-->
<para>
    这个漏洞影响了若干个不同的几何距离测量操作符。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect calculation of transaction status in
      <application>ecpg</> (Itagaki Takahiro)
     </para>
-->
<para>
    修复<application>ecpg</>中事务状态的错误计算(Itagaki Takahiro) 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>PL/pgSQL</>'s handling of <quote>simple</>
      expressions to not fail in recursion or error-recovery cases (Tom Lane)
     </para>
-->
<para>
     在递归或者错误恢复的情况中修复<quote>simple</>表达式的<application>PL/pgSQL</>处理而不失败(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>PL/Python</>'s handling of set-returning functions
      (Jan Urbanski)
     </para>
-->
<para>
    修复设置返回函数的<application>PL/Python</>的处理(Jan Urbanski)
</para>

     <!--
<para>
      Attempts to call SPI functions within the iterator generating a set
      result would fail.
     </para>
-->
<para>
     在迭代器生成一组结果中尝试调用SPI函数可能失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bug in <filename>contrib/cube</>'s GiST picksplit algorithm
      (Alexander Korotkov)
     </para>
-->
<para>
   修复<filename>contrib/cube</>的GiST picksplit算法中的错误(Alexander Korotkov)
</para>

     <!--
<para>
      This could result in considerable inefficiency, though not actually
      incorrect answers, in a GiST index on a <type>cube</> column.
      If you have such an index, consider <command>REINDEX</>ing it after
      installing this update.
     </para>
-->
<para>
  这可能会导致相当大的无效率，但在<type>cube</>列上的GiST索引中，并不是真的错误结论，
  如果你有这样一个索引，考虑在安装这个更新之后<command>REINDEX</>它。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Don't emit <quote>identifier will be truncated</> notices in
      <filename>contrib/dblink</> except when creating new connections
      (Itagaki Takahiro)
     </para>
-->
<para>
     不要发出<filename>contrib/dblink</>中<quote>标识符将被截断</>的信息除了
 创建新的连接(Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix potential coredump on missing public key in
      <filename>contrib/pgcrypto</> (Marti Raudsepp)
     </para>
-->
<para>
     修复<filename>contrib/pgcrypto</>中对失踪公钥的潜在信息转储(Marti Raudsepp)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leak in <filename>contrib/xml2</>'s XPath query functions
      (Tom Lane)
     </para>
-->
<para>
     修复<filename>contrib/xml2</>的XPath查询函数中的内存泄露(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2010o
      for DST law changes in Fiji and Samoa;
      also historical corrections for Hong Kong.
     </para>
-->
<para>
     为Fiji和Samoa中的DST变化规律更新时区数据文件到<application>tzdata</>发布2010o；
 也为了香港历史修正。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-5">
 <!--
  <title>Release 8.4.5</title>
  -->
   <title>版本8.4.5</title>

  <note>
  <!--
  <title>Release Date</title>
  <simpara>2010-10-04</simpara>
  -->
  
  <title>发布日期</title>
  <simpara>2010-10-04</simpara>
  
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.4.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含来自8.4.4中的各种修复。
关于8.4主要版本的新功能的各种信息，参阅<xref linkend="release-8-4">。

</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.5</title>
   -->
   <title>迁移到版本8.4.5</title>

   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
    However, if you are upgrading from a version earlier than 8.4.2,
    see <xref linkend="release-8-4-2">.
   </para>
-->
<para>
      运行8.4.X不需要备份/恢复。然而，如果你从8.4.2的早期版本升级，
  参阅<xref linkend="release-8-4-2">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
   -->
    <title>变化</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Use a separate interpreter for each calling SQL userid in PL/Perl and
      PL/Tcl (Tom Lane)
     </para>
-->
<para>
     为每个调用PL/Perl和PL/Tcl中SQL userid使用独立解释器(Tom Lane)
</para>

     <!--
<para>
      This change prevents security problems that can be caused by subverting
      Perl or Tcl code that will be executed later in the same session under
      another SQL user identity (for example, within a <literal>SECURITY
      DEFINER</> function).  Most scripting languages offer numerous ways that
      that might be done, such as redefining standard functions or operators
      called by the target function.  Without this change, any SQL user with
      Perl or Tcl language usage rights can do essentially anything with the
      SQL privileges of the target function's owner.
     </para>
-->
<para>

    这种变化可以防止通过颠覆随后在同一会话中另一个SQL用户身份下执行的Perl或Tcl代码造成的安全问题
（例如，在<literal>SECURITY DEFINER</>函数中）。
大多数的脚本语言提供了可以执行的众多方法，
如重新定义标准函数或目标函数运算符。没有这种变化的话，任何拥有Perl或Tcl语言使用权的SQL用户
可以执行拥有目标函数所有者的SQL权限应该做的事情。 
  
</para>

     <!--
<para>
      The cost of this change is that intentional communication among Perl
      and Tcl functions becomes more difficult.  To provide an escape hatch,
      PL/PerlU and PL/TclU functions continue to use only one interpreter
      per session.  This is not considered a security issue since all such
      functions execute at the trust level of a database superuser already.
     </para>
-->
<para>
     这种变化的成本是在Perl和Tcl函数之间沟通意图变得更加困难。
 为了提供一个逃生出口，PL/PerlU和PL/TclU函数继续每个会话中仅仅使用一个解释器。
     这没有考虑安全问题，因为在数据库超级用户的信任级别上执行所有这些函数。
</para>

     <!--
<para>
      It is likely that third-party procedural languages that claim to offer
      trusted execution have similar security issues.  We advise contacting
      the authors of any PL you are depending on for security-critical
      purposes.
     </para>
-->
<para>
     可能声称提供可信执行程序的第三方程序语言有类似的安全问题。
     我们建议你依赖安全关键用途联系任何PL的作者。      
</para>

     <!--
<para>
      Our thanks to Tim Bunce for pointing out this issue (CVE-2010-3433).
     </para>
-->
<para>
     我们应该感谢Tim Bunce提出这个问题(CVE-2010-3433)。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent possible crashes in <function>pg_get_expr()</> by disallowing
      it from being called with an argument that is not one of the system
      catalog columns it's intended to be used with
      (Heikki Linnakangas, Tom Lane)
     </para>
-->
<para>
     防止<function>pg_get_expr()</>中可能的事故，
 通过禁止适合与不是一个系统目录列之一的参数一起使用。(Heikki Linnakangas, Tom Lane) 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Treat exit code 128 (<literal>ERROR_WAIT_NO_CHILDREN</>) as non-fatal on
      Windows (Magnus Hagander)
     </para>
-->
<para>
    处理退出代码128(<literal>ERROR_WAIT_NO_CHILDREN</>)作为Windows上非致命的(Magnus Hagander)
</para>

     <!--
<para>
      Under high load, Windows processes will sometimes fail at startup with
      this error code.  Formerly the postmaster treated this as a panic
      condition and restarted the whole database, but that seems to be
      an overreaction.
     </para>
-->
<para>
     在高负荷的情况下，Windows进程在使用错误码启动过程失败。
之前postmaster把这个看作恐慌条件并且重新启动整个数据库，但这似乎是反应过度。

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect placement of placeholder evaluation (Tom Lane)
     </para>
-->
<para>
    修复占位符赋值不正确位置(Tom Lane)
</para>

     <!--
<para>
      This bug could result in query outputs being non-null when they
      should be null, in cases where the inner side of an outer join
      is a sub-select with non-strict expressions in its output list.
     </para>
-->
<para>
    当它们本应是空的时候，这个错误可能导致查询输出非空。
在该情况下，输出列表非严格的表达式下外部连接的内部是一个子选择。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible duplicate scans of <literal>UNION ALL</> member relations
      (Tom Lane)
     </para>
-->
<para>
     修复<literal>UNION ALL</>成员关系可能的重复扫描(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <quote>cannot handle unplanned sub-select</quote> error (Tom Lane)
     </para>
-->
<para>
      修复<quote>不能处理非计划子查询</quote>错误(Tom Lane)
</para>

     <!--
<para>
      This occurred when a sub-select contains a join alias reference that
      expands into an expression containing another sub-select.
     </para>
-->
<para>
     当包含连接别名参考的子查询扩展到含有另一个子选择的表达式中时，发生这种情况。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix mishandling of whole-row Vars that reference a view or sub-select
      and appear within a nested sub-select (Tom Lane)
     </para>
-->
<para>
    修复引用视图或出现在嵌套子查询中的子选择的整列变量的不当处理(Tom Lane)      
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix mishandling of cross-type <literal>IN</> comparisons (Tom Lane)
     </para>
-->
<para>
     修复交叉类型<literal>IN</>比较的处理不当(Tom Lane)
</para>

     <!--
<para>
      This could result in failures if the planner tried to implement an
      <literal>IN</> join with a sort-then-unique-then-plain-join plan.
     </para>
-->
<para>
    如果规划器试图实现使用分类然后唯一的完全连接计划的<literal>IN</>连接。 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix computation of <command>ANALYZE</> statistics for <type>tsvector</>
      columns (Jan Urbanski)
     </para>
-->
<para>
  修复统计<type>tsvector</>列的<command>ANALYZE</>的计算(Jan Urbanski)
</para>

     <!--
<para>
      The original coding could produce incorrect statistics, leading to
      poor plan choices later.
     </para>
-->
<para>
     最初代码可以产生不正确统计，导致之后错误规划选择。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve planner's estimate of memory used by <function>array_agg()</>,
      <function>string_agg()</>, and similar aggregate functions
      (Hitoshi Harada)
     </para>
-->
<para>
    优化通过<function>array_agg()</>，
<function>string_agg()</>和类似聚合函数使用的内存的规划器估计(Hitoshi Harada)
</para>

     <!--
<para>
      The previous drastic underestimate could lead to out-of-memory failures
      due to inappropriate choice of a hash-aggregation plan.
     </para>
-->
<para>
    以往过低估计可以导致内存不足错误，由于哈希聚合规划不恰当的选择。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix failure to mark cached plans as transient (Tom Lane)
     </para>
-->
<para> 
      修复标记缓存计划是短暂的错误(Tom Lane)
</para>

     <!--
<para>
      If a plan is prepared while <command>CREATE INDEX CONCURRENTLY</> is
      in progress for one of the referenced tables, it is supposed to be
      re-planned once the index is ready for use.  This was not happening
      reliably.
     </para>
-->
<para>
    当<command>CREATE INDEX CONCURRENTLY</>在进展中作为一个参考表，如果已准备好一个规划，
一旦索引是现成的，它应该重新被规划。这是不会发生的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Reduce PANIC to ERROR in some occasionally-reported btree failure cases,
      and provide additional detail in the resulting error messages
      (Tom Lane) 
     </para>
-->
<para>
在一些偶然报道btree失败的案例中减少PANIC到ERROR，
并提供产生错误消息中的额外的细节。
</para>

     <!--
<para>
      This should improve the system's robustness with corrupted indexes.
     </para>
-->
<para>
    这可以优化使用错误索引的系统的鲁棒性。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect search logic for partial-match queries with GIN indexes
      (Tom Lane)
     </para>
-->
<para>
     修复GIN索引部分匹配查询的错误搜索逻辑(Tom Lane)
</para>

     <!--
<para>
      Cases involving AND/OR combination of several GIN index conditions
      didn't always give the right answer, and were sometimes much slower
      than necessary. 
     </para>
-->
<para>
    涉及一些GIN索引条件的AND/OR组合情况不总是给出正确答案，
有时候比必要情况慢的多。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent show_session_authorization() from crashing within autovacuum
      processes (Tom Lane)
     </para>
-->
<para>
     防止autovacuum进程中show_session_authorization()的崩溃(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Defend against functions returning setof record where not all the
      returned rows are actually of the same rowtype (Tom Lane)
     </para>
-->
<para>
    并不是所有返回行都是同一rowtype的地方防范函数返回集合记录(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible corruption of pending trigger event lists during
      subtransaction rollback (Tom Lane)
     </para>
-->
<para>
     修复在子事务回滚期间待定触发器事件列表的可能损坏(Tom Lane)
</para>

     <!--
<para>
      This could lead to a crash or incorrect firing of triggers.
     </para>
-->
<para>
    这可能导致崩溃或者错误触发触发器。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible failure when hashing a pass-by-reference function result
      (Tao Ma, Tom Lane)
     </para>
-->
<para>
     当散列按引用传递函数结果时，修复可能错误(Tao Ma, Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve merge join's handling of NULLs in the join columns (Tom Lane)
     </para>
-->
<para>
      优化join列中NULL的合并连接处理(Tom Lane)
</para>

     <!--
<para>
      A merge join can now stop entirely upon reaching the first NULL,
      if the sort order is such that NULLs sort high.
     </para>
-->
<para>
     如果排序顺序是NULL排序高，那么合并连接可以完全停止到达第一个NULL。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Take care to fsync the contents of lockfiles (both
      <filename>postmaster.pid</> and the socket lockfile) while writing them
      (Tom Lane)
     </para>
-->
<para>
    当写入它们时，注意fsync锁文件内容（<filename>postmaster.pid</>和socket锁文件）(Tom Lane)
</para>

     <!--
<para>
      This omission could result in corrupted lockfile contents if the
      machine crashes shortly after postmaster start.  That could in turn
      prevent subsequent attempts to start the postmaster from succeeding,
      until the lockfile is manually removed.
     </para>
-->
<para>
      如果在postmaster启动之后不久该机器崩溃，那么该忽略可能导致损坏的锁文件内容。
  反过来又可以防止后续尝试启动postmaster，直到手动删除锁定文件。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid recursion while assigning XIDs to heavily-nested
      subtransactions (Andres Freund, Robert Haas)
     </para>
-->
<para>
    当分配XID给严重嵌套子事务时，避免递归(Andres Freund, Robert Haas)
</para>

     <!--
<para>
      The original coding could result in a crash if there was limited
      stack space.
     </para>
-->
<para>
    如果有有限的堆栈空间，初始编码可能导致崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid holding open old WAL segments in the walwriter process
      (Magnus Hagander, Heikki Linnakangas)
     </para>
-->
<para>
     避免在walwriter过程中保持开放旧的WAL段(Magnus Hagander, Heikki Linnakangas)
</para>

     <!--
<para>
      The previous coding would prevent removal of no-longer-needed segments.
     </para>
-->
<para>
    先前编码可以防止删除不再需要部分。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <varname>log_line_prefix</>'s <literal>%i</> escape,
      which could produce junk early in backend startup (Tom Lane)
     </para>
-->
<para>
      修复<varname>log_line_prefix</>'s <literal>%i</>转义，这在
  后台启动早期时会产生垃圾(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent misinterpretation of partially-specified relation options
      for TOAST tables (Itagaki Takahiro)
     </para>
-->
<para>
      避免为TOAST表部分指定的关系选项的曲解(Itagaki Takahiro)
</para>

     <!--
<para>
      In particular, <literal>fillfactor</> would be read as zero if any
      other reloption had been set for the table, leading to serious bloat.
     </para>
-->
<para>
     特别是，<literal>fillfactor</>会被读为零，
 如果任何其他reloption已经为该表设置，导致严重的膨胀。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix inheritance count tracking in <command>ALTER TABLE ... ADD
      CONSTRAINT</> (Robert Haas)
     </para>
-->
<para>
     修复<command>ALTER TABLE ... ADD CONSTRAINT</>中继承计数跟踪(Robert Haas)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible data corruption in <command>ALTER TABLE ... SET
      TABLESPACE</> when archiving is enabled (Jeff Davis)
     </para>
-->
<para>
    当启用归档时，修复<command>ALTER TABLE ... SET TABLESPACE</>中可能的数据损坏(Jeff Davis)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow <command>CREATE DATABASE</> and <command>ALTER DATABASE ... SET
      TABLESPACE</> to be interrupted by query-cancel (Guillaume Lelarge)
     </para>
-->
<para>
    允许<command>CREATE DATABASE</>和<command>ALTER DATABASE ... SET TABLESPACE</>
被查询取消中断(Guillaume Lelarge)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve <command>CREATE INDEX</>'s checking of whether proposed index
      expressions are immutable (Tom Lane)
     </para>
-->
<para>
    改善<command>CREATE INDEX</>对被推荐索引表达式是否可以改变的检测(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <command>REASSIGN OWNED</> to handle operator classes and families
      (Asko Tiidumaa)
     </para>
-->
<para>
     修复<command>REASSIGN OWNED</>以处理算子类和族(Asko Tiidumaa)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible core dump when comparing two empty <type>tsquery</> values
      (Tom Lane)
     </para>
-->
<para>
     当比较两个空的<type>tsquery</>值的时候，修复可能的核心转储(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <literal>LIKE</>'s handling of patterns containing <literal>%</>
      followed by <literal>_</> (Tom Lane)
     </para>
-->
<para>
     修复模式中包含<literal>%</>伴随<literal>_</>的<literal>LIKE</>的处理(Tom Lane)
</para>

     <!--
<para>
      We've fixed this before, but there were still some incorrectly-handled
      cases.
     </para>
-->
<para>
    我们之前已经修复，但是仍存在一些不正确处理的情况。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Re-allow input of Julian dates prior to 0001-01-01 AD (Tom Lane)
     </para>
-->
<para>
    重新允许Julian日期输入追溯到0001-01-01 AD (Tom Lane)
</para>

     <!--
<para>
      Input such as <literal>'J100000'::date</> worked before 8.4,
      but was unintentionally broken by added error-checking.
     </para>
-->
<para>
    在8.4之前输入比如<literal>'J100000'::date</>，但是通过添加的错误检查无意打破。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PL/pgSQL to throw an error, not crash, if a cursor is closed within
      a <literal>FOR</> loop that is iterating over that cursor
      (Heikki Linnakangas)
     </para>
-->
<para>
    如果在遍历游标的<literal>FOR</>循环中关闭游标，修复PL/pgSQL抛出一个错误，不会崩溃。    
</para>
    </listitem>

    <listitem>
     <!--
<para>
      In PL/Python, defend against null pointer results from
      <function>PyCObject_AsVoidPtr</> and <function>PyCObject_FromVoidPtr</>
      (Peter Eisentraut)
     </para>
-->
<para>
     在PL/Python中，抵御来自<function>PyCObject_AsVoidPtr</>和<function>PyCObject_FromVoidPtr</>
 的空指针结果(Peter Eisentraut)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      In <application>libpq</>, fix full SSL certificate verification for the
      case where both <literal>host</> and <literal>hostaddr</> are specified
      (Tom Lane)
     </para>
-->
<para>
    在<application>libpq</>中，当指定<literal>host</>和<literal>hostaddr</>的时候，修复
完整SSL证书验证。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make psql recognize <command>DISCARD ALL</> as a command that should
      not be encased in a transaction block in autocommit-off mode
      (Itagaki Takahiro)
     </para>
-->
<para>
     使得psql将<command>DISCARD ALL</>看做在自动提交关闭模式中不应该封装在事务块中的命令(Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix some issues in <application>pg_dump</>'s handling of SQL/MED objects
      (Tom Lane)
     </para>
-->
<para>
    修复SQL/MED对象<application>pg_dump</>的处理中的一些问题(Tom Lane)
</para>

     <!--
<para>
      Notably, <application>pg_dump</> would always fail if run by a
      non-superuser, which was not intended.
     </para>
-->
<para>
    值得注意的是，如果通过非超级用户执行，<application>pg_dump</>总是失败，
它并不打算这样。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve <application>pg_dump</> and <application>pg_restore</>'s
      handling of non-seekable archive files (Tom Lane, Robert Haas)
     </para>
-->
<para>
    优化非可查找归档文件的<application>pg_dump</>和<application>pg_restore</>的处理(Tom Lane, Robert Haas)
</para>

     <!--
<para>
      This is important for proper functioning of parallel restore.
     </para>
-->
<para>
    对于并行转储的正常运作很重要。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve parallel pg_restore's ability to cope with selective restore
      (<literal>-L</> option) (Tom Lane)
     </para>
-->
<para>
     提高并行pg_restore处理选择性转储(<literal>-L</> option)的能力(Tom Lane)
</para>

     <!--
<para>
      The original code tended to fail if the <literal>-L</> file commanded
      a non-default restore ordering.
     </para>
-->
<para>
   如果<literal>-L</>文件命令非缺省转储顺序，那么原代码可能失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>ecpg</> to process data from <literal>RETURNING</>
      clauses correctly (Michael Meskes)
     </para>
-->
<para>
    修复<application>ecpg</>正确处理来自<literal>RETURNING</>子句的数据(Michael Meskes)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix some memory leaks in <application>ecpg</> (Zoltan Boszormenyi)
     </para>
-->
<para>
     修复<application>ecpg</>中的一些内存泄露(Zoltan Boszormenyi)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve <filename>contrib/dblink</>'s handling of tables containing
      dropped columns (Tom Lane)
     </para>
-->
<para>
      优化包含已删除列的表的<filename>contrib/dblink</>的处理(Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix connection leak after <quote>duplicate connection name</quote>
      errors in <filename>contrib/dblink</> (Itagaki Takahiro)
     </para>
-->
<para>
     修复<filename>contrib/dblink</>中<quote>重复连接名</quote>错误之后的连接泄露(Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <filename>contrib/dblink</> to handle connection names longer than
      62 bytes correctly (Itagaki Takahiro)
     </para>
-->
<para>
     修复<filename>contrib/dblink</>以正确处理超过62字节的连接名(Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add <function>hstore(text, text)</>
      function to <filename>contrib/hstore</> (Robert Haas)
     </para>
-->
<para>
    添加<function>hstore(text, text)</>函数到<filename>contrib/hstore</> (Robert Haas)
</para>

     <!--
<para>
      This function is the recommended substitute for the now-deprecated
      <literal>=&gt;</> operator.  It was back-patched so that future-proofed
      code can be used with older server versions.  Note that the patch will
      be effective only after <filename>contrib/hstore</> is installed or
      reinstalled in a particular database.  Users might prefer to execute
      the <command>CREATE FUNCTION</> command by hand, instead.
     </para>
-->
<para>
     
     该函数是为了现在不使用的<literal>=&gt;</>操作符的推荐替代者。 
它后面打补丁，以便适应未来代码可用于旧的服务器版本。 
请注意，该补丁仅仅在安装<filename>contrib/hstore</>或
重新安装在一个特定的数据库中有效。
用户可能更愿意手动执行<command>CREATE FUNCTION</>命令来代替。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update build infrastructure and documentation to reflect the source code
      repository's move from CVS to Git (Magnus Hagander and others)
     </para>
-->
<para>
     更新基础设施建设和文档以反映来自CVS到Git的源代码存储库的移动(Magnus Hagander and others)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2010l
      for DST law changes in Egypt and Palestine; also historical corrections
      for Finland.
     </para>
-->
<para>
    为了Egypt和Palestine中DST变化规律更新时区数据文件到<application>tzdata</>发布2010l；
也是出于Finland的历史修正。
</para>

     <!--
<para>
      This change also adds new names for two Micronesian timezones:
      Pacific/Chuuk is now preferred over Pacific/Truk (and the preferred
      abbreviation is CHUT not TRUT) and Pacific/Pohnpei is preferred over
      Pacific/Ponape.
     </para>
-->
<para>
    这种变化还为两个Micronesian时区添加了新的名字：Pacific/Chuuk目前优于Pacific/Truk（并且首选缩写是CHUT而不是TRUT）
并且Pacific/Pohnpei优于Pacific/Ponape。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make Windows' <quote>N. Central Asia Standard Time</> timezone map to
      Asia/Novosibirsk, not Asia/Almaty (Magnus Hagander)
     </para>
-->
<para>
    使得Windows的<quote>N. Central Asia Standard Time</>时区映射到Asia/Novosibirsk，而不是Asia/Almaty (Magnus Hagander)
</para>

     <!--
<para>
      Microsoft changed the DST behavior of this zone in the timezone update
      from KB976098. Asia/Novosibirsk is a better match to its new behavior.
     </para>
-->
<para>
     Microsoft改变来自KB976098的时区更新中的该区域的DST操作。
 Asia/Novosibirsk是对于新操作的更好匹配。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-4">
 <!--
  <title>Release 8.4.4</title>
  -->
   <title>版本8.4.4</title>

  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2010-05-17</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.3.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含来自8.4.3的各种修复。关于8.4主要版本中的新特性的信息，
请参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.4</title>
   -->
   <title>迁移到版本8.4.4</title>

   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
    However, if you are upgrading from a version earlier than 8.4.2,
    see <xref linkend="release-8-4-2">.
   </para>
-->
<para>
    运行8.4.X不需要备份/恢复。然而，如果你从8.4.2更早版本更新，
    参阅<xref linkend="release-8-4-2">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
   -->
   <title>变化</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Enforce restrictions in <literal>plperl</> using an opmask applied to
      the whole interpreter, instead of using <filename>Safe.pm</>
      (Tim Bunce, Andrew Dunstan)
     </para>
-->
<para>
     强制<literal>plperl</>中使用opmask限制应用于整个解释器，
 而不是使用<filename>Safe.pm</>(Tim Bunce, Andrew Dunstan)
</para>

     <!--
<para>
      Recent developments have convinced us that <filename>Safe.pm</> is too
      insecure to rely on for making <literal>plperl</> trustable.  This
      change removes use of <filename>Safe.pm</> altogether, in favor of using
      a separate interpreter with an opcode mask that is always applied.
      Pleasant side effects of the change include that it is now possible to
      use Perl's <literal>strict</> pragma in a natural way in
      <literal>plperl</>, and that Perl's <literal>$a</> and <literal>$b</>
      variables work as expected in sort routines, and that function
      compilation is significantly faster.  (CVE-2010-1169) 
     </para>
-->
<para>
      最近发展使我们确信<filename>Safe.pm</>太不安全而不能依靠<literal>plperl</>可信赖。
此变化删除了<filename>Safe.pm</>的使用，
有利于使用应用于操作码掩码的一个单独的解析器。
该变化副作用包括以<literal>plperl</>中一种自然的方式使用Perl的<literal>strict</>编译是可能的，   
并且Perl的<literal>$a</>和<literal>$b</>变量按预期以排序程序执行，而且该函数编译显著更快。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent PL/Tcl from executing untrustworthy code from
      <structname>pltcl_modules</> (Tom)
     </para>
-->
<para>
    阻止PL/Tcl执行来自<structname>pltcl_modules</>的不信任代码(Tom) 
</para>

     <!--
<para>
      PL/Tcl's feature for autoloading Tcl code from a database table
      could be exploited for trojan-horse attacks, because there was no
      restriction on who could create or insert into that table.  This change
      disables the feature unless <structname>pltcl_modules</> is owned by a
      superuser.  (However, the permissions on the table are not checked, so
      installations that really need a less-than-secure modules table can
      still grant suitable privileges to trusted non-superusers.)  Also,
      prevent loading code into the unrestricted <quote>normal</> Tcl
      interpreter unless we are really going to execute a <literal>pltclu</>
      function.  (CVE-2010-1170)
     </para>
-->
<para>
      从一个数据库表中自动加载的Tcl代码的PL/Tcl的功能可以为了特洛伊木马攻击被开发，
因为对谁可以创建或插入该表是没有限制的。这种变化禁用该功能，
除非<structname>pltcl_modules</>是由超级用户拥有。 
（然而，不检查该表上的权限，所以真正需要低于安全模块表中的安装仍然可以授予适当的权限给值得信赖的非超级用户）。
另外，防止加载代码到非限制<quote>normal</> Tcl解释器，除非我们真的要执行<literal>pltclu</>函数。
 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix data corruption during WAL replay of
      <literal>ALTER ... SET TABLESPACE</> (Tom)
     </para>
-->
<para>
     修复<literal>ALTER ... SET TABLESPACE</>的WAL回放期间的数据损坏(Tom)
</para>

     <!--
<para>
      When <varname>archive_mode</> is on, <literal>ALTER ... SET TABLESPACE</>
      generates a WAL record whose replay logic was incorrect.  It could write
      the data to the wrong place, leading to possibly-unrecoverable data
      corruption.  Data corruption would be observed on standby slaves, and
      could occur on the master as well if a database crash and recovery
      occurred after committing the <literal>ALTER</> and before the next
      checkpoint.
     </para>
-->
<para>
    当<varname>archive_mode</>是on时，<literal>ALTER ... SET TABLESPACE</>生成WAL记录，其中
回放逻辑是不正确的。它可以将数据写入错误的地方，从而导致可能的不可恢复的数据损坏。
如果在提交<literal>ALTER</>之后和下一个检查点之前发生数据库崩溃和恢复，
数据损坏在备库上随时被观察，并且可能在主库上发生。

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash if a cache reset message is received during
      rebuild of a relcache entry (Heikki)
     </para>
-->
<para>
    如果在relcache项重建期间收到缓存复位信息，那么修复可能崩溃(Heikki)
</para>

     <!--
<para>
      This error was introduced in 8.4.3 while fixing a related failure.
     </para>
-->
<para>
     当修复相关错误的时候，在8.4.3中介绍这些错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Apply per-function GUC settings while running the language validator
      for the function (Itagaki Takahiro)
     </para>
-->
<para>
     当为了该函数运行语言验证器的时候，应用每个函数GUC设置(Itagaki Takahiro)
</para>

     <!--
<para>
      This avoids failures if the function's code is invalid without the
      setting; an example is that SQL functions may not parse if the
      <varname>search_path</> is not correct.
     </para>
-->
<para>
   这避免了失败，如果该函数的代码没有该设置是无效的;
   一个例子是，如果<varname>search_path</>不正确，SQL函数可能不被解析。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Do constraint exclusion for inherited <command>UPDATE</> and
      <command>DELETE</> target tables when
      <varname>constraint_exclusion</> = <literal>partition</> (Tom)
     </para>
-->
<para>
      当<varname>constraint_exclusion</> = <literal>partition</>的时候，
  为继承<command>UPDATE</>和<command>DELETE</>目标表执行约束排除(Tom)
  
</para>

     <!--
<para>
      Due to an oversight, this setting previously only caused constraint
      exclusion to be checked in <command>SELECT</> commands.
     </para>
-->
<para>
    由于疏忽，该设置以前造成约束排除在<command>SELECT</>命令中被检查。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Do not allow an unprivileged user to reset superuser-only parameter
      settings (Alvaro)
     </para>
-->
<para>
    不允许未经授权的用户重置超级用户唯一的参数设置(Alvaro)
</para>

     <!--
<para>
      Previously, if an unprivileged user ran <literal>ALTER USER ... RESET
      ALL</> for himself, or <literal>ALTER DATABASE ... RESET ALL</> for
      a database he owns, this would remove all special parameter settings
      for the user or database, even ones that are only supposed to be
      changeable by a superuser.  Now, the <command>ALTER</> will only
      remove the parameters that the user has permission to change.
     </para>
-->
<para>
      以前，如果一个非特权用户为自身运行<literal>ALTER USER ... RESET ALL</>，
  或为所拥有的数据库运行<literal>ALTER DATABASE ... RESET ALL</>，
  这将删除用户或数据库的所有特殊参数设置， 
????? 甚至是那些只应该由超级用户改变的设置。现在，<command>ALTER</>将只删除该用户有权限改变的参数。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid possible crash during backend shutdown if shutdown occurs
      when a <literal>CONTEXT</> addition would be made to log entries (Tom)
     </para>
-->
<para>
    
当<literal>CONTEXT</>附加物为日志项时，如果发生宕机，避免后台关机时可能的崩溃(Tom)
</para>

     <!--
<para>
      In some cases the context-printing function would fail because the
      current transaction had already been rolled back when it came time
      to print a log message.
     </para>
-->
<para>
    在某些情况中上下文输出函数可能失败，因为当它打印日志信息的时候，当前事务已经回滚。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix erroneous handling of <literal>%r</> parameter in
      <varname>recovery_end_command</> (Heikki)
     </para>
-->
<para>
    修复<varname>recovery_end_command</>中<literal>%r</>参数的错误处理(Heikki)
</para>

     <!--
<para>
      The value always came out zero.
     </para>
-->
<para>
     该值总是零。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure the archiver process responds to changes in
      <varname>archive_command</> as soon as possible (Tom)
     </para>
-->
<para>
     确保归档进程尽可能快地响应<varname>archive_command</>中变化(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix pl/pgsql's <literal>CASE</> statement to not fail when the
      case expression is a query that returns no rows (Tom)
     </para>
-->
<para>
     当case表达式是一个没有返回行的查询时，修复pl/pgsql的<literal>CASE</>
 语句而不失败(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update pl/perl's <filename>ppport.h</> for modern Perl versions
      (Andrew)
     </para>
-->
<para>
     更新pl/perl的<filename>ppport.h</>为现代Perl版本(Andrew)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix assorted memory leaks in pl/python (Andreas Freund, Tom)
     </para>
-->
<para>
    修复pl/python中各种内存泄露(Andreas Freund, Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Handle empty-string connect parameters properly in ecpg (Michael)
     </para>
-->
<para>
     正确处理ecpg中空字符串连接参数(Michael)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent infinite recursion in <application>psql</> when expanding
      a variable that refers to itself (Tom)
     </para>
-->
<para>
    当扩展引用自身的一个变量时，避免在<application>psql</>中的无限递归(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>psql</>'s <literal>\copy</> to not add spaces around
      a dot within <literal>\copy (select ...)</> (Tom)
     </para>
-->
<para>
    修复<application>psql</>的<literal>\copy</>而在<literal>\copy (select ...)</>中点周围
不添加空格(Tom)
</para>

     <!--
<para>
      Addition of spaces around the decimal point in a numeric literal would
      result in a syntax error.
     </para>
-->
<para>
     在数值文字中小数点周围的空格可能导致语法错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid formatting failure in <application>psql</> when running in a
      locale context that doesn't match the <varname>client_encoding</>
      (Tom)
     </para>
-->
<para>
      当在上下文环境中运行不匹配<varname>client_encoding</>的时候，
  避免<application>psql</>中格式错误(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix unnecessary <quote>GIN indexes do not support whole-index scans</>
      errors for unsatisfiable queries using <filename>contrib/intarray</>
      operators (Tom)
     </para>
-->
<para>
      为了使用<filename>contrib/intarray</>操作符的不满足条件的查询，
  修复不必要的<quote>GIN索引不支持全局索引扫描</>错误(Tom) 
  
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that <filename>contrib/pgstattuple</> functions respond to cancel
      interrupts promptly (Tatsuhito Kasahara)
     </para>
-->
<para>
     确保<filename>contrib/pgstattuple</>函数反应及时取消中断(Tatsuhito Kasahara)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make server startup deal properly with the case that
      <function>shmget()</> returns <literal>EINVAL</> for an existing
      shared memory segment (Tom)
     </para>
-->
<para>
    确保服务器启动正确处理<function>shmget()</>为已存在的共享内存段
返回<literal>EINVAL</>(Tom)
</para>

     <!--
<para>
      This behavior has been observed on BSD-derived kernels including OS X.
      It resulted in an entirely-misleading startup failure complaining that
      the shared memory request size was too large.
     </para>
-->
<para>
     在包括OS X中的BSD衍生的内核上观察这种操作，
 这导致了抱怨共享内存请求大小过大的完全误导启动错误。  
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid possible crashes in syslogger process on Windows (Heikki)
     </para>
-->
<para>
    避免Windows上syslogger处理过程中可能的崩溃(Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Deal more robustly with incomplete time zone information in the
      Windows registry (Magnus)
     </para>
-->
<para>
    更有力地处理Windows注册表中不完整的时区信息(Magnus)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update the set of known Windows time zone names (Magnus)
     </para>
-->
<para>
    更新已知的Windows时区名字的设置(Magnus)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2010j
      for DST law changes in Argentina, Australian Antarctic, Bangladesh,
      Mexico, Morocco, Pakistan, Palestine, Russia, Syria, Tunisia;
      also historical corrections for Taiwan.
     </para>
-->
<para>
   为了Argentina, Australian Antarctic, Bangladesh,
      Mexico, Morocco, Pakistan, Palestine, Russia, Syria, Tunisia中DST变化规律更新
 时区数据文件到<application>tzdata</>发布2010j。
 同时为Taiwan历史修正。
</para>

     <!--
<para>
      Also, add <literal>PKST</> (Pakistan Summer Time) to the default set of
      timezone abbreviations.
     </para>
-->
<para>
   另外，添加<literal>PKST</> (Pakistan Summer Time)到时区缩写的缺省设置中。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-3">
 <!--
  <title>Release 8.4.3</title>
 -->
  <title>版本8.4.3</title>

  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2010-03-15</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.2.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
     该发布包含了来自8.4.2的各种修复。关于8.4主要版本的新功能信息，参阅
 <xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.3</title>
  -->
   <title>迁移到版本8.4.3</title>

   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
    However, if you are upgrading from a version earlier than 8.4.2,
    see <xref linkend="release-8-4-2">.
   </para>
-->
<para>
    运行8.4.X不需要备份/恢复。然而，如果你从8.4.2更早版本更新，
    参阅<xref linkend="release-8-4-2">。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
  -->
    <title>变化</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Add new configuration parameter <varname>ssl_renegotiation_limit</> to
      control how often we do session key renegotiation for an SSL connection
      (Magnus)
     </para>
-->
<para>
    添加新的配置参数<varname>ssl_renegotiation_limit</>用来控制
我们多久一次执行会话秘钥重新协商SSL连接(Magnus)
</para>

     <!--
<para>
      This can be set to zero to disable renegotiation completely, which may
      be required if a broken SSL library is used.  In particular, some
      vendors are shipping stopgap patches for CVE-2009-3555 that cause
      renegotiation attempts to fail.
     </para>
-->
<para>
     这可以被设置为零以完全禁用重新协商，如果使用一个已破碎的SSL库。这可能被要求。
 特别是，一些供应商为导致重新协商尝试失败的CVE-2009-3555打补丁。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible deadlock during backend startup (Tom)
     </para>
-->
<para>
    修复后台启动过程中可能的死锁(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crashes due to not handling errors during relcache reload
      cleanly (Tom)
     </para>
-->
<para>
    由于在relcache明确重载中没有处理错误，修复可能的崩溃(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash due to use of dangling pointer to a cached plan
      (Tatsuo)
     </para>
-->
<para>
    由于使用悬空指针到缓存计划，修复可能崩溃(Tatsuo)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash due to overenthusiastic invalidation of cached
      plan for <command>ROLLBACK</> (Tom)
     </para>
-->
<para>
    由于缓存计划<command>ROLLBACK</>的严重失效，修复可能崩溃(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crashes when trying to recover from a failure in
      subtransaction start (Tom)
     </para>
-->
<para>
     当试图从子事务启动故障恢复时，修复可能的崩溃(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix server memory leak associated with use of savepoints and a client
      encoding different from server's encoding (Tom)
     </para>
-->
<para>
    修复与使用保存点和来自服务器编码不同的客户端编码有关的服务器内存泄漏(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect WAL data emitted during end-of-recovery cleanup of a GIST
      index page split (Yoichi Hirai)
     </para>
-->
<para>
     修正GIST索引页拆分中结束恢复清理期间发出的不正确WAL数据(Yoichi Hirai)
</para>

     <!--
<para>
      This would result in index corruption, or even more likely an error
      during WAL replay, if we were unlucky enough to crash during
      end-of-recovery cleanup after having completed an incomplete GIST
      insertion.
     </para>
-->
<para>
    如果在结束恢复清理中已经完成了一个不完整的GIST插入后我们运气不好而发生崩溃。
这将导致索引损坏，甚至在WAL回放期间更有可能发生错误。

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bug in WAL redo cleanup method for GIN indexes (Heikki)
     </para>
-->
<para>
     为GIN索引修复WAL重做清理方法中的错误(Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect comparison of scan key in GIN index search (Teodor)
     </para>
-->
<para>
    修复GIN索引搜索中扫描键的不正确比较(Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <function>substring()</> for <type>bit</> types treat any negative
      length as meaning <quote>all the rest of the string</> (Tom)
     </para>
-->
<para>
    使得为<type>bit</>类型的<function>substring()</>将任何负的长度看作
<quote>所有剩余字符串</>(Tom)
</para>

     <!--
<para>
      The previous coding treated only -1 that way, and would produce an
      invalid result value for other negative values, possibly leading to
      a crash (CVE-2010-0442).
     </para>
-->
<para>
    先前代码只处理-1，并且可能为其他负值产生无效结果值，可能导致崩溃(CVE-2010-0442)。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix integer-to-bit-string conversions to handle the first fractional
      byte correctly when the output bit width is wider than the given
      integer by something other than a multiple of 8 bits (Tom)
     </para>
-->
<para>
    
    当输出比特宽度大于不同于8位倍数的给定整数的时候，修复整数到比特串转换用来正确地处理第一个分数字节(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix some cases of pathologically slow regular expression matching (Tom)
     </para>
-->
<para>
    修复病理上阻碍正则表达式匹配的一些情况(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bug occurring when trying to inline a SQL function that returns
      a set of a composite type that contains dropped columns (Tom)
     </para>
-->
<para>
       当尝试内联返回一组包含已删除列的复合类型的SQL函数的时候，修复产生的错误(Tom) 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bug with trying to update a field of an element of a
      composite-type array column (Tom)
     </para>
-->
<para>
     修复试图更新复合类型数组列元素字段中的错误(Tom) 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid failure when <command>EXPLAIN</> has to print a FieldStore or
      assignment ArrayRef expression (Tom)
     </para>
-->
<para>
    当<command>EXPLAIN</>必须打印FieldStore或者分配ArrayRef表达式的时候，
避免错误(Tom)
</para>

     <!--
<para>
      These cases can arise now that <command>EXPLAIN VERBOSE</> tries to
      print plan node target lists.
     </para>
-->
<para>
   这种情况已经出现<command>EXPLAIN VERBOSE</>试图输出计划节点目标列。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid an unnecessary coercion failure in some cases where an undecorated
      literal string appears in a subquery within
      <command>UNION</>/<command>INTERSECT</>/<command>EXCEPT</> (Tom)
     </para>
-->
<para>
     在未修饰字符串出现在<command>UNION</>/<command>INTERSECT</>/<command>EXCEPT</>子查询中的情况中，
 避免不必要强制错误(Tom)   
 
</para>

     <!--
<para>
      This fixes a regression for some cases that worked before 8.4.
     </para>
-->
<para>
    修复8.4之前执行情况中的回归分析。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid undesirable rowtype compatibility check failures in some cases
      where a whole-row Var has a rowtype that contains dropped columns (Tom)
     </para>
-->
<para>
    在整行Var中有包含已删除列的rowtype的地方，避免不符合要求的rowtype兼容检查错误(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix the <literal>STOP WAL LOCATION</> entry in backup history files to
      report the next WAL segment's name when the end location is exactly at a
      segment boundary (Itagaki Takahiro)
     </para>
-->
<para>
    当最后位置正好在一段边界时，修复备份历史文件中的<literal>STOP WAL LOCATION</>项以
报告下一个WAL段的名称(Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Always pass the catalog ID to an option validator function specified in
      <command>CREATE FOREIGN DATA WRAPPER</> (Martin Pihlak)
     </para>
-->
<para>
    总是将系统目录ID传递给<command>CREATE FOREIGN DATA WRAPPER</>中指定的选项
验证函数(Martin Pihlak)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix some more cases of temporary-file leakage (Heikki)
     </para>
-->
<para>
    修复临时文件泄露的一些情况(Heikki)
</para>

     <!--
<para>
      This corrects a problem introduced in the previous minor release.
      One case that failed is when a plpgsql function returning set is
      called within another function's exception handler.
     </para>
-->
<para>
    这纠正了以前次要版本引入的问题。
一种失败情况是：当在另一个函数的异常处理程序中调用plpgsql函数返回集。

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add support for doing <literal>FULL JOIN ON FALSE</> (Tom)
     </para>
-->
<para>
   添加支持执行<literal>FULL JOIN ON FALSE</> (Tom)
</para>

     <!--
<para>
      This prevents a regression from pre-8.4 releases for some queries that
      can now be simplified to a constant-false join condition.
     </para>
-->
<para>
     这可以防止来自8.4之前发布的一些查询的回归，该查询现在可以简化为一个恒定的错误连接条件。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve constraint exclusion processing of boolean-variable cases,
      in particular make it possible to exclude a partition that has a
      <quote>bool_column = false</> constraint (Tom)
     </para>
-->
<para>

优化布尔变量情况下约束排除处理，
特别是有可能排除一个有<quote>bool_column = false</>约束的分区(Tom)

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent treating an <literal>INOUT</> cast as representing binary
      compatibility (Heikki)
     </para>
-->
<para>
   防止将<literal>INOUT</>映射看作表示二进制兼容(Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Include column name in the message when warning about inability to
      grant or revoke column-level privileges (Stephen Frost)
     </para>
-->
<para>
   当警告不能授权或者撤销列级别权限的时候，包含该消息的字段名(Stephen Frost)
</para>

     <!--
<para>
      This is more useful than before and helps to prevent confusion when
      a <command>REVOKE</> generates multiple messages, which formerly
      appeared to be duplicates.
     </para>
-->
<para>
    当<command>REVOKE</>产生多条消息时，这个原先似乎是复制品，这比起以前来是非常有用的，
并且避免混淆。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      When reading <filename>pg_hba.conf</> and related files, do not treat
      <literal>@something</> as a file inclusion request if the <literal>@</>
      appears inside quote marks; also, never treat <literal>@</> by itself
      as a file inclusion request (Tom)
     </para>
-->
<para>
    当读取<filename>pg_hba.conf</>和相关文件的时候，如果<literal>@</>似乎出现在引号内，
不要将<literal>@something</>看作文件包含请求，另外，也不要将<literal>@</>自身看作文件包含请求(Tom)
</para>

     <!--
<para>
      This prevents erratic behavior if a role or database name starts with
      <literal>@</>.  If you need to include a file whose path name
      contains spaces, you can still do so, but you must write
      <literal>@"/path to/file"</> rather than putting the quotes around
      the whole construct.
     </para>
-->
<para>
如果角色或数据库的名字以<literal>@</>开头，这可以防止不稳定操作。
如果你需要包含路径名含有空格的文件，那么你仍然可以这样做，但是你必须写
<literal>@"/path to/file"</>而不是把引号放入整个构造中。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent infinite loop on some platforms if a directory is named as
      an inclusion target in <filename>pg_hba.conf</> and related files
      (Tom)
     </para>
-->
<para>
     如果目录被命名为<filename>pg_hba.conf</>中和相关文件的包含目标，则
 防止在一些平台上的无限循环(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible infinite loop if <function>SSL_read</> or
      <function>SSL_write</> fails without setting <varname>errno</> (Tom)
     </para>
-->
<para>
   如果没有设置<varname>errno</>时<function>SSL_read</>或者<function>SSL_write</>失败，
   修复可能无限循环(Tom)
</para>

     <!--
<para>
      This is reportedly possible with some Windows versions of
      <application>openssl</>.
     </para>
-->
<para>
    据说这个可能使用<application>openssl</>的一些Windows版本。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Disallow <acronym>GSSAPI</> authentication on local connections,
      since it requires a hostname to function correctly (Magnus)
     </para>
-->
<para>
     不允许本地连接中<acronym>GSSAPI</>认证，因为它需要hostname以正常工作(Magnus)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Protect <application>ecpg</> against applications freeing strings
      unexpectedly (Michael)
     </para>
-->
<para>
     保护<application>ecpg</>应用意外地释放字符串(Michael)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <application>ecpg</> report the proper SQLSTATE if the connection
      disappears (Michael)
     </para>
-->
<para>
    如果连接断开，使得<application>ecpg</>报告合适SQLSTATE(Michael)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix translation of cell contents in <application>psql</> <literal>\d</>
      output (Heikki)
     </para>
-->
<para>
    修复<application>psql</> <literal>\d</>输出中单元格内容的翻译(Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>psql</>'s <literal>numericlocale</> option to not
      format strings it shouldn't in latex and troff output formats (Heikki)
     </para>
-->
<para>
    修复<application>psql</>的<literal>numericlocale</>选项而不能格式化字符串，
它不属于latex和troff输出格式(Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix a small per-query memory leak in <application>psql</> (Tom)
     </para>
-->
<para>
   修复<application>psql</>中小的每个查询内存泄露(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <application>psql</> return the correct exit status (3) when
      <literal>ON_ERROR_STOP</> and <literal>&#045;-single-transaction</> are
      both specified and an error occurs during the implied <command>COMMIT</>
      (Bruce)
     </para>
-->
<para>
    当指定<literal>ON_ERROR_STOP</>和<literal>--single-transaction</>的时候，并且
在隐含<command>COMMIT</>期间发生错误时，使得<application>psql</>返回正确退出状态(3)(Bruce)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_dump</>'s output of permissions for foreign servers
      (Heikki)
     </para>
-->
<para>
    修复外部服务器权限的<application>pg_dump</>的输出(Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash in parallel <application>pg_restore</> due to
      out-of-range dependency IDs (Tom)
     </para>
-->
<para>
     由于溢出依赖性ID，在平行<application>pg_restore</>中修复可能崩溃(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix plpgsql failure in one case where a composite column is set to NULL
      (Tom)
     </para>
-->
<para>
     在复合列设置为空的情况下，修复plpgsql错误(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible failure when calling PL/Perl functions from PL/PerlU
      or vice versa (Tim Bunce)
     </para>
-->
<para>
     当从PL/PerlU中调用PL/Perl函数的时候，修复可能失败，反之亦然(Tim Bunce)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add <literal>volatile</> markings in PL/Python to avoid possible
      compiler-specific misbehavior (Zdenek Kotala)
     </para>
-->
<para>
     在PL/Python中添加<literal>volatile</>标记以避免可能具体编译器操作不当(Zdenek Kotala)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure PL/Tcl initializes the Tcl interpreter fully (Tom)
     </para>
-->
<para>
      确保PL/Tcl完全初始化Tcl解释器(Tom)
</para>

     <!--
<para>
      The only known symptom of this oversight is that the Tcl
      <literal>clock</> command misbehaves if using Tcl 8.5 or later.
     </para>
-->
<para>
     这种监督的唯一已知现象是如果使用Tcl 8.5或者更高版本，则Tcl <literal>clock</>命令行为不当。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent <function>ExecutorEnd</> from being run on portals created
      within a failed transaction or subtransaction (Tom)
     </para>
-->
<para>
    避免在失败事务或者子事务中创建入口运行<function>ExecutorEnd</>(Tom)
</para>

     <!--
<para>
      This is known to cause issues when using
      <filename>contrib/auto_explain</>.
     </para>
-->
<para>
    当使用<filename>contrib/auto_explain</>的时候，这是已知错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent crash in <filename>contrib/dblink</> when too many key
      columns are specified to a <function>dblink_build_sql_*</> function
      (Rushabh Lathia, Joe Conway)
     </para>
-->
<para>
     当许多关键列被指定为<function>dblink_build_sql_*</>函数时，阻止<filename>contrib/dblink</>崩溃(Rushabh Lathia, Joe Conway)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow zero-dimensional arrays in <filename>contrib/ltree</> operations
      (Tom)
     </para>
-->
<para>
     允许<filename>contrib/ltree</>操作中零维数组(Tom)
</para>

     <!--
<para>
      This case was formerly rejected as an error, but it's more convenient to
      treat it the same as a zero-element array.  In particular this avoids
      unnecessary failures when an <type>ltree</> operation is applied to the
      result of <literal>ARRAY(SELECT ...)</> and the sub-select returns no
      rows.
     </para>
-->
<para>
这种情况曾经被认为一个错误，但它更方便
将它看作零元素数组。当<type>ltree</>操作应用于<literal>ARRAY(SELECT ...)</>结果和没有返回
行的子查询的时候，特别是这可以避免不必要的故障。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix assorted crashes in <filename>contrib/xml2</> caused by sloppy
      memory management (Tom)
     </para>
-->
<para>
    修复通过内存管理造成的<filename>contrib/xml2</>中各种崩溃(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make building of <filename>contrib/xml2</> more robust on Windows
      (Andrew)
     </para>
-->
<para>
    使得<filename>contrib/xml2</>编译在Windows上更加具有鲁棒性(Andrew)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix race condition in Windows signal handling (Radu Ilie)
     </para>
-->
<para>
     修复Windows上信号处理竞争条件(Radu Ilie)
</para>

     <!--
<para>
      One known symptom of this bug is that rows in <structname>pg_listener</>
      could be dropped under heavy load.
     </para>
-->
<para>
    这个错误已知现象是在<structname>pg_listener</>中的行可以在重负载下被删除。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make the configure script report failure if the C compiler does
      not provide a working 64-bit integer datatype (Tom)
     </para>
-->
<para>
   如果C编译器不提供64位整数数据类型，使得配置脚本报告错误(Tom)
</para>

     <!--
<para>
      This case has been broken for some time, and no longer seems worth
      supporting, so just reject it at configure time instead.
     </para>
-->
<para>
     这种情况一段时间已经被打断，不再值得支持，因此在配置时间拒绝它。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2010e
      for DST law changes in Bangladesh, Chile, Fiji, Mexico, Paraguay, Samoa.
     </para>
-->
<para>
       为了Bangladesh，Chile，Fiji， Mexico，Paraguay，Samoa中DST变化规律更新
   时区数据文件到<application>tzdata</>发布2010e。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-2">
 <!--
  <title>Release 8.4.2</title>
 -->
   <title>版本8.4.2</title>

  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2009-12-14</simpara> 
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.1.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
     该发布包含来自8.4.1的各种修复。关于8.4主要发布中的新特性信息，
 参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.2</title>
   -->
   <title>迁移到版本8.4.2</title>

   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
    However, if you have any hash indexes,
    you should <command>REINDEX</> them after updating to 8.4.2,
    to repair possible damage.
   </para>
-->
<para>
    运行8.4.X不需要备份/恢复。然而，如果有任何散列索引，在更新到8.4.2之后你应该
<command>REINDEX</>它们，以修复可能受损。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
-->
   <title>变化</title>
   <itemizedlist>

    <listitem>
     <!--
<para>
      Protect against indirect security threats caused by index functions
      changing session-local state (Gurjeet Singh, Tom)
     </para>
-->
<para>
   防止通过索引函数改变会话局部状态引起的间接安全威胁(Gurjeet Singh, Tom)
</para>

     <!--
<para>
      This change prevents allegedly-immutable index functions from possibly
      subverting a superuser's session (CVE-2009-4136).
     </para>
-->
<para>
    这一变化防止不变的索引函数打断超级用户会话(CVE-2009-4136)。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Reject SSL certificates containing an embedded null byte in the common
      name (CN) field (Magnus)
     </para>
-->
<para>
    拒绝在普通名字（CN）字段中包含嵌入的空字节的SSL证书(Magnus)
</para>

     <!--
<para>
      This prevents unintended matching of a certificate to a server or client
      name during SSL validation (CVE-2009-4034).
     </para>
-->
<para>
    这避免在SSL认证期间来自服务器或者客户端名字的证书的意外匹配(CVE-2009-4034)。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix hash index corruption (Tom)
     </para>
-->
<para>
    修复散列索引损坏(Tom)
</para>

     <!--
<para>
      The 8.4 change that made hash indexes keep entries sorted by hash value
      failed to update the bucket splitting and compaction routines to
      preserve the ordering.  So application of either of those operations
      could lead to permanent corruption of an index, in the sense that
      searches might fail to find entries that are present.  To deal with
      this, it is recommended to <literal>REINDEX</> any hash indexes you may
      have after installing this update.
     </para>
-->
<para>

     该8.4变化使得散列索引保持通过散列值未能更新大量分裂和紧缩程序以保持排序的项。
所以这些操作的任何应用程序可能导致索引的永久性损坏，在这个意义上，
搜索可能无法找到存在的项。为了处理这个，推荐你已安装此更新后<literal>REINDEX</>任何散列索引。

</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash during backend-startup-time cache initialization (Tom)
     </para>
-->
<para>
    修复后台启动时缓存初始化期间可能崩溃(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid crash on empty thesaurus dictionary (Tom)
     </para>
-->
<para>
    避免空的同义词词典崩溃(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent signals from interrupting <literal>VACUUM</> at unsafe times
      (Alvaro)
     </para>
-->
<para>
    避免在不安全时间中断<literal>VACUUM</>信号(Alvaro)
</para>

     <!--
<para>
      This fix prevents a PANIC if a <literal>VACUUM FULL</> is canceled
      after it's already committed its tuple movements, as well as transient
      errors if a plain <literal>VACUUM</> is interrupted after having
      truncated the table.
     </para>
-->
<para>
      如果已经坚定元组动作之后取消了<literal>VACUUM FULL</>，该修复阻止PANIC。
  如果在截断该表之后中断普通的<literal>VACUUM</>，阻止瞬态错误。?
     
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash due to integer overflow in hash table size
      calculation (Tom)
     </para>
-->
<para>
    由于在哈希表大小计算中整数溢出，修复可能崩溃(Tom)
</para>

     <!--
<para>
      This could occur with extremely large planner estimates for the size of
      a hashjoin's result.
     </para>
-->
<para>
    这可能发生大的规划器评估哈希连接结果。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix crash if a <literal>DROP</> is attempted on an internally-dependent
      object (Tom)
     </para>
-->
<para>
    如果在内部依赖对象上尝试<literal>DROP</>，修复崩溃(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix very rare crash in <type>inet</>/<type>cidr</> comparisons (Chris
      Mikkelson)
     </para>
-->
<para>
    修复<type>inet</>/<type>cidr</>比较中稀少崩溃现象(Chris Mikkelson)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that shared tuple-level locks held by prepared transactions are
      not ignored (Heikki)
     </para>
-->
<para>
    确保不忽略通过预备事务持有的共享元组级别锁(Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix premature drop of temporary files used for a cursor that is accessed
      within a subtransaction (Heikki)
     </para>
-->
<para>
     修复用于在子事务中访问的游标临时文件的提早删除(Heikki) 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leak in syslogger process when rotating to a new CSV logfile
      (Tom)
     </para>
-->
<para>
     当旋转到新的CSV日志文件时，修复syslogger处理中内存泄露(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leak in postmaster when re-parsing <filename>pg_hba.conf</>
      (Tom)
     </para>
-->
<para>
      当重新解析<filename>pg_hba.conf</>的时候，修复postmaster中的内存泄露(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix Windows permission-downgrade logic (Jesse Morris)
     </para>
-->
<para>
    修复Windows权限下降逻辑(Jesse Morris)
</para>

     <!--
<para>
      This fixes some cases where the database failed to start on Windows,
      often with misleading error messages such as <quote>could not locate
      matching postgres executable</quote>.
     </para>
-->
<para>
    这修复了数据库在Windows上启动失败的一些情况，
通常带有误导性错误消息比如<quote>不能定位匹配postgres可执行程序</quote>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <literal>FOR UPDATE/SHARE</> in the primary query not propagate
      into <literal>WITH</> queries (Tom)
     </para>
-->
<para>
    使得在主查询中<literal>FOR UPDATE/SHARE</>不扩大到<literal>WITH</>查询中(Tom)
</para>

     
<para>
      <!--
      For example, in
  -->
  比如，在
<programlisting>
WITH w AS (SELECT * FROM foo) SELECT * FROM w, bar ... FOR UPDATE
</programlisting>

     <!--
      the <literal>FOR UPDATE</> will now affect <literal>bar</> but not
      <literal>foo</>.  This is more useful and consistent than the original
      8.4 behavior, which tried to propagate <literal>FOR UPDATE</> into the
      <literal>WITH</> query but always failed due to assorted implementation
      restrictions.  It also follows the design rule that <literal>WITH</>
      queries are executed as if independent of the main query.
  -->
  <literal>FOR UPDATE</>将影响<literal>bar</>而不是<literal>foo</>。
  这比原来8.4操作更有用而且更加一致，  
  尝试扩散<literal>FOR UPDATE</>到<literal>WITH</>查询中，
  但是却总是失败，因为匹配实现限制。它也遵循设计规则，如果主查询独立，执行<literal>WITH</>查询。

     </para>

    </listitem>

    <listitem>
     <!--
<para>
      Fix bug with a <literal>WITH RECURSIVE</> query immediately inside
      another one (Tom)
     </para>
-->
<para>
     修复在另外一个中使用<literal>WITH RECURSIVE</>查询的错误(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix concurrency bug in hash indexes (Tom)
     </para>
-->
<para>
    修复散列索引的并发错误(Tom)
</para>

     <!--
<para>
      Concurrent insertions could cause index scans to transiently report
      wrong results.
     </para>
-->
<para>
    并发插入可能导致索引扫描瞬时报告错误结果。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect logic for GiST index page splits, when the split depends
      on a non-first column of the index (Paul Ramsey)
     </para>
-->
<para>
     当分割取决于索引的非首列时，修复GiST索引页分割错误逻辑(Paul Ramsey)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix wrong search results for a multi-column GIN index with
      <literal>fastupdate</> enabled (Teodor)
     </para>
-->
<para>
     修复为多列GIN索引使用<literal>fastupdate</>激活的错误搜索结果(Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bugs in WAL entry creation for GIN indexes (Tom)
     </para>
-->
<para>
    修复GIN索引WAL项创建中的错误(Tom)
</para>

     <!--
<para>
      These bugs were masked when <varname>full_page_writes</> was on, but
      with it off a WAL replay failure was certain if a crash occurred before
      the next checkpoint.
     </para>
-->
<para>
     当<varname>full_page_writes</>为on的时候，这些错误被隐藏，但是如果在下一个检查点之前发生崩溃，
 那么关闭WAL回放错误是一定的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Don't error out if recycling or removing an old WAL file fails at the
      end of checkpoint (Heikki)
     </para>
-->
<para>
    如果在检查点结尾回收或者删除旧的WAL文件失败，不要出错误(Heikki)
</para>

     <!--
<para>
      It's better to treat the problem as non-fatal and allow the checkpoint
      to complete.  Future checkpoints will retry the removal.  Such problems
      are not expected in normal operation, but have been seen to be
      caused by misdesigned Windows anti-virus and backup software.
     </para>
-->
<para>
     更好地将这个问题作为非致命性的并且允许完成检查点。未来的检查点将重试取消。
 这样的问题没有预期的正常运行，但通过错误设计Windows杀毒和备份软件造成的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure WAL files aren't repeatedly archived on Windows (Heikki)
     </para>
-->
<para>
    确保Windows上WAL文件不再被重复归档(Heikki)
</para>

     <!--
<para>
      This is another symptom that could happen if some other process
      interfered with deletion of a no-longer-needed file.
     </para>
-->
<para>
    如果其他过程干扰不再需要的文件的删除，这可能发生另外一种情况。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PAM password processing to be more robust (Tom)
     </para>
-->
<para>
    修复PAM密码处理更加鲁棒性(Tom)
</para>

     <!--
<para>
      The previous code is known to fail with the combination of the Linux
      <literal>pam_krb5</> PAM module with Microsoft Active Directory as the
      domain controller.  It might have problems elsewhere too, since it was
      making unjustified assumptions about what arguments the PAM stack would
      pass to it.
     </para>
-->
<para>
    上面的代码伴随着Linux <literal>pam_krb5</> PAM模块与作为域控制器的Microsoft动态目录结合而失败。
    它可能还有其他问题，因为它采用关于PAM堆栈传递给它什么参数的不合理假设。  
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Raise the maximum authentication token (Kerberos ticket) size in GSSAPI
      and SSPI authentication methods (Ian Turner)
     </para>
-->
<para>
    提高GSSAPI和SSPI认证方法中最大认证令牌(Kerberos ticket)大小(Ian Turner)
</para>

     <!--
<para>
      While the old 2000-byte limit was more than enough for Unix Kerberos
      implementations, tickets issued by Windows Domain Controllers can be
      much larger.
     </para>
-->
<para>
    当为Unix Kerberos 实现有足够多的旧的2000字节限制时，
通过Windows 域控制器发出标签可以更大。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that domain constraints are enforced in constructs like
      <literal>ARRAY[...]::domain</>, where the domain is over an array type
      (Heikki)
     </para>
-->
<para>
    确保域约束在<literal>ARRAY[...]::domain</>结构中被强制，其中域不在数值类型中(Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix foreign-key logic for some cases involving composite-type columns
      as foreign keys (Tom)
     </para>
-->
<para>
    
修复为涉及复合类型列作为外键的情况中的外键逻辑(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that a cursor's snapshot is not modified after it is created
      (Alvaro)
     </para>
-->
<para>
    确保游标的快照在被创建后不被修改(Alvaro)
</para>

     <!--
<para>
      This could lead to a cursor delivering wrong results if later operations
      in the same transaction modify the data the cursor is supposed to return.
     </para>
-->
<para>
     如果在同一事务中后续操作修改数据，这可能导致游标传递错误结果，应该返回游标。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <literal>CREATE TABLE</> to properly merge default expressions
      coming from different inheritance parent tables (Tom)
     </para>
-->
<para>
    修复<literal>CREATE TABLE</>以正确合并来自不同继承父表的缺省表达式(Tom)
</para>

     <!--
<para>
      This used to work but was broken in 8.4.
     </para>
-->
<para>
   这用于运行，但在8.4中被损坏。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Re-enable collection of access statistics for sequences (Akira Kurosawa)
     </para>
-->
<para>
    重新启用序列访问统计收集(Akira Kurosawa)
</para>

     <!--
<para>
      This used to work but was broken in 8.3.
     </para>
-->
<para>
   这用于运行，但在8.3中被损坏。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix processing of ownership dependencies during <literal>CREATE OR
      REPLACE FUNCTION</> (Tom)
     </para>
-->
<para>
    修复<literal>CREATE OR REPLACE FUNCTION</>中所有依赖的处理(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect handling of <literal>WHERE</>
      <replaceable>x</>=<replaceable>x</> conditions (Tom)
     </para>
-->
<para>
    修复<literal>WHERE</><replaceable>x</>=<replaceable>x</>条件的错误处理(Tom)
</para>

     <!--
<para>
      In some cases these could get ignored as redundant, but they aren't
      &mdash; they're equivalent to <replaceable>x</> <literal>IS NOT NULL</>.
     </para>
-->
<para>
     在某些情况下，可以作为冗余忽略，但是它们不是&mdash;
 它们等价于<replaceable>x</> <literal>IS NOT NULL</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect plan construction when using hash aggregation to implement
      <literal>DISTINCT</> for textually identical volatile expressions (Tom)
     </para>
-->
<para>
    当为文本相同易变表达式使用哈希聚合实现<literal>DISTINCT</>的时候，
     修复不正确规划结构(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix Assert failure for a volatile <literal>SELECT DISTINCT ON</>
      expression (Tom)
     </para>
-->
<para>
     修复易变<literal>SELECT DISTINCT ON</>表达式的断言错误(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <function>ts_stat()</> to not fail on an empty <type>tsvector</>
      value (Tom)
     </para>
-->
<para>
     修复<function>ts_stat()</>而在空的<type>tsvector</>值上不失败(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make text search parser accept underscores in XML attributes (Peter)
     </para>
-->
<para>
   使得文本搜索解析器接受XML属性中下划线(Peter)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix encoding handling in <type>xml</> binary input (Heikki)
     </para>
-->
<para>
    修复<type>xml</>二进制输入中编码处理(Heikki)
</para>

     <!--
<para>
      If the XML header doesn't specify an encoding, we now assume UTF-8 by
      default; the previous handling was inconsistent.
     </para>
-->
<para>
     如果XML头没有指定编码，我们现在假设缺省UTF-8；先前处理是不一致的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bug with calling <literal>plperl</> from <literal>plperlu</> or vice
      versa (Tom)
     </para>
-->
<para>
     修复从<literal>plperlu</>调用<literal>plperl</>的错误，反之亦然(Tom)
</para>

     <!--
<para>
      An error exit from the inner function could result in crashes due to
      failure to re-select the correct Perl interpreter for the outer function.
     </para>
-->
<para>
     从内部函数退出的错误可能导致崩溃，由于该错误为外部函数重新选择正确的Perl解释器。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix session-lifespan memory leak when a PL/Perl function is redefined
      (Tom)
     </para>
-->
<para>
     当重新定义PL/Perl函数的时候，修复会话存在期内存泄露(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that Perl arrays are properly converted to
      <productname>PostgreSQL</> arrays when returned by a set-returning
      PL/Perl function (Andrew Dunstan, Abhijit Menon-Sen)
     </para>
-->
<para>
    当通过集合返回PL/Perl函数返回时，确保Perl数组正确转换为<productname>PostgreSQL</>数组(Andrew Dunstan, Abhijit Menon-Sen)
</para>

     <!--
<para>
      This worked correctly already for non-set-returning functions.
     </para>
-->
<para>
    这些正常运行都为了非集合返回函数。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix rare crash in exception processing in PL/Python (Peter)
     </para>
-->
<para>
    修复PL/Python中异常处理的罕见崩溃(Peter)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>ecpg</> problem with comments in <literal>DECLARE
      CURSOR</> statements (Michael)
     </para>
-->
<para>
    修复<literal>DECLARE CURSOR</>语句中注释的<application>ecpg</>问题(Michael)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>ecpg</> to not treat recently-added keywords as
      reserved words (Tom)
     </para>
-->
<para>
    修复<application>ecpg</>不把最近添加的关键字作为保留字(Tom)
</para>

     <!--
<para>
      This affected the keywords <literal>CALLED</>, <literal>CATALOG</>,
      <literal>DEFINER</>, <literal>ENUM</>, <literal>FOLLOWING</>,
      <literal>INVOKER</>, <literal>OPTIONS</>, <literal>PARTITION</>,
      <literal>PRECEDING</>, <literal>RANGE</>, <literal>SECURITY</>,
      <literal>SERVER</>, <literal>UNBOUNDED</>, and <literal>WRAPPER</>.
     </para>
-->
<para>
     这影响了关键字<literal>CALLED</>, <literal>CATALOG</>,
      <literal>DEFINER</>, <literal>ENUM</>, <literal>FOLLOWING</>,
      <literal>INVOKER</>, <literal>OPTIONS</>, <literal>PARTITION</>,
      <literal>PRECEDING</>, <literal>RANGE</>, <literal>SECURITY</>,
      <literal>SERVER</>, <literal>UNBOUNDED</>和<literal>WRAPPER</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Re-allow regular expression special characters in <application>psql</>'s
      <literal>\df</> function name parameter (Tom)
     </para>
-->
<para>
    重新允许<application>psql</>的<literal>\df</>函数名字参数中的正则表达式特殊字符(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      In <filename>contrib/fuzzystrmatch</>, correct the calculation of
      <function>levenshtein</> distances with non-default costs (Marcin Mank)
     </para>
-->
<para>
     在<filename>contrib/fuzzystrmatch</>中，纠正非缺省成本<function>levenshtein</>距离计算(Marcin Mank)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      In <filename>contrib/pg_standby</>, disable triggering failover with a
      signal on Windows (Fujii Masao)
     </para>
-->
<para>
   在<filename>contrib/pg_standby</>中，禁用Windows上带有信号触发器转移(Fujii Masao)
</para>

     <!--
<para>
      This never did anything useful, because Windows doesn't have Unix-style
      signals, but recent changes made it actually crash.
     </para>
-->
<para>
    这没有什么有用的，因为Windows没有Unix风格讯号，但是最近变化确实崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Put <literal>FREEZE</> and <literal>VERBOSE</> options in the right
      order in the <literal>VACUUM</> command that
      <filename>contrib/vacuumdb</> produces (Heikki)
     </para>
-->
<para>
    将<literal>FREEZE</> and <literal>VERBOSE</>选项以正确顺序放置在<filename>contrib/vacuumdb</>产生的
<literal>VACUUM</>命令中(Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible leak of connections when <filename>contrib/dblink</>
      encounters an error (Tatsuhito Kasahara)
     </para>
-->
<para>
     当<filename>contrib/dblink</>遇到错误的时候，修复链接的可能泄露(Tatsuhito Kasahara)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure <application>psql</>'s flex module is compiled with the correct
      system header definitions (Tom)
     </para>
-->
<para>
     确保<application>psql</>的flex模块与正确系统标题定义一起被编译(Tom)
</para>

     <!--
<para>
      This fixes build failures on platforms where
      <literal>&#045;-enable-largefile</> causes incompatible changes in the
      generated code.
     </para>
-->
<para>
   这将修复平台上的编译错误，其中<literal>--enable-largefile</>在产生代码中导致的
   不兼容变化。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make the postmaster ignore any <literal>application_name</> parameter in
      connection request packets, to improve compatibility with future libpq
      versions (Tom)
     </para>
-->
<para>
      使得postmaster忽略任何连接请求包中的<literal>application_name</>参数，
  以优化与未来libpq版本的兼容(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update the timezone abbreviation files to match current reality (Joachim
      Wieland)
     </para>
-->
<para>
     更新时区缩写文件以匹配当前实际情况(Joachim Wieland)
</para>

     <!--
<para>
      This includes adding <literal>IDT</> to the default
      timezone abbreviation set.
     </para>
-->
<para>
   这包含添加<literal>IDT</>到缺省时区缩写设置。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2009s
      for DST law changes in Antarctica, Argentina, Bangladesh, Fiji,
      Novokuznetsk, Pakistan, Palestine, Samoa, Syria; also historical
      corrections for Hong Kong.
     </para>
-->
<para>
     为了Antarctica, Argentina, Bangladesh, Fiji,
      Novokuznetsk, Pakistan, Palestine, Samoa, Syria中DST变化规律更新时区数据文件到
  <application>tzdata</>发布2009s。也为了Hong Kong历史纠正。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4-1">
 <!--
  <title>Release 8.4.1</title>
  -->
  <title>版本8.4.1</title>

  <note>
  <!--
  <title>Release Date</title>
  -->
  <title>发布日期</title>
  <simpara>2009-09-09</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.4.
   For information about new features in the 8.4 major release, see
   <xref linkend="release-8-4">.
  </para>
-->
<para>
    该发布包含来自8.4中的各种修复。关于8.4主要发布中的新特性信息，
参阅<xref linkend="release-8-4">。
</para>

  <sect2>
  <!--
   <title>Migration to Version 8.4.1</title>
   -->
    <title>迁移到版本8.4.1</title>

   <!--
<para>
    A dump/restore is not required for those running 8.4.X.
   </para>
-->
<para>
     运行8.4.X不需要备份/恢复。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
   -->
   <title>变化</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Fix WAL page header initialization at the end of archive recovery
      (Heikki)
     </para>
-->
<para>
    在归档恢复结尾修复WAL页面头部初始化(Heikki)
</para>

     <!--
<para>
      This could lead to failure to process the WAL in a subsequent
      archive recovery.
     </para>
-->
<para>
     这可能导致在后续归档恢复中处理WAL的错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <quote>cannot make new WAL entries during recovery</> error (Tom)
     </para>
-->
<para>
    修复<quote>归档中不能产生新的WAL项</>错误(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix problem that could make expired rows visible after a crash (Tom)
     </para>
-->
<para>
    修复在崩溃后使得过期行可见的问题(Tom)
</para>

     <!--
<para>
      This bug involved a page status bit potentially not being set
      correctly after a server crash.
     </para>
-->
<para>
     涉及页面状态位的错误可能在服务器崩溃后不能正确设置。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Disallow <command>RESET ROLE</> and <command>RESET SESSION
      AUTHORIZATION</> inside security-definer functions (Tom, Heikki)
     </para>
-->
<para>
     在安全定义函数中不允许<command>RESET ROLE</>和<command>RESET SESSION AUTHORIZATION</>(Tom, Heikki)
</para>

     <!--
<para>
      This covers a case that was missed in the previous patch that
      disallowed <command>SET ROLE</> and <command>SET SESSION
      AUTHORIZATION</> inside security-definer functions.
      (See CVE-2007-6600)
     </para>
-->
<para>
    这包含了在之前补丁中漏掉的一种情况，   
在安全定义函数中不允许<command>SET ROLE</>和<command>SET SESSION AUTHORIZATION</>(参阅CVE-2007-6600)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <command>LOAD</> of an already-loaded loadable module
      into a no-op (Tom)
     </para>
-->
<para>
    使得已经加载模块的<command>LOAD</>成为非操作的(Tom)
</para>

     <!--
<para>
      Formerly, <command>LOAD</> would attempt to unload and re-load the
      module, but this is unsafe and not all that useful.
     </para>
-->
<para>
    以前<command>LOAD</>尝试卸载并且重新加载该模块，但是这不安全而且没有用处。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make window function <literal>PARTITION BY</> and <literal>ORDER BY</>
      items always be interpreted as simple expressions (Tom)
     </para>
-->
<para>
    使得窗口函数<literal>PARTITION BY</>和<literal>ORDER BY</>项总是被解释为
简单表达式(Tom)
</para>

     <!--
<para>
      In 8.4.0 these lists were parsed following the rules used for
      top-level <literal>GROUP BY</> and <literal>ORDER BY</> lists.
      But this was not correct per the SQL standard, and it led to possible
      circularity.
     </para>
-->
<para>
    在8.4.0中这些列表按照用于顶级<literal>GROUP BY</>和<literal>ORDER BY</>列表规则被解析。
但是每个SQL标准是不正确的，并且可能导致循环。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix several errors in planning of semi-joins (Tom)
     </para>
-->
<para>
    修复半连接规划中若干错误(Tom)
</para>

     <!--
<para>
      These led to wrong query results in some cases where <literal>IN</>
      or <literal>EXISTS</> was used together with another join.
     </para>
-->
<para>
    在<literal>IN</>或者<literal>EXISTS</>与另外一个连接一起使用的情况中导致错误查询结果。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix handling of whole-row references to subqueries that are within
      an outer join (Tom)
     </para>
-->
<para>
     修复引用外连接中子查询的整行处理(Tom)
</para>

     <!--
<para>
      An example is
      <literal>SELECT COUNT(ss.*) FROM ... LEFT JOIN (SELECT ...) ss ON ...</>.
      Here, <literal>ss.*</> would be treated as <literal>ROW(NULL,NULL,...)</>
      for null-extended join rows, which is not the same as a simple NULL.
      Now it is treated as a simple NULL.
     </para>
-->
<para>
    例子为<literal>SELECT COUNT(ss.*) FROM ... LEFT JOIN (SELECT ...) ss ON ...</>。
这里，为空扩展连接行<literal>ss.*</>被看作为<literal>ROW(NULL,NULL,...)</>，
与简单空不一样，现在将它看作为简单空。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix Windows shared-memory allocation code (Tsutomu Yamada, Magnus)
     </para>
-->
<para>
     修复Windows共享内存分配代码(Tsutomu Yamada, Magnus)
</para>

     <!--
<para>
      This bug led to the often-reported <quote>could not reattach
      to shared memory</> error message.
     </para>
-->
<para>  
    该错误导致经常报道的<quote>不能附加到共享内存</>错误消息。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix locale handling with plperl (Heikki)
     </para>
-->
<para>
   修复本地处理plperl (Heikki)
</para>

     <!--
<para>
      This bug could cause the server's locale setting to change when a
      plperl function is called, leading to data corruption.
     </para>
-->
<para>
    当调用plperl函数的时候，导致数据损坏，该错误可能导致服务器的本地设置改变。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix handling of reloptions to ensure setting one option doesn't
      force default values for others (Itagaki Takahiro)
     </para>
-->
<para>
    修复reloptions的处理以确保设置一个选项不强制为其它的缺省值(Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that a <quote>fast shutdown</> request will forcibly terminate
      open sessions, even if a <quote>smart shutdown</> was already in progress
      (Fujii Masao)
     </para>
-->
<para>
    确保<quote>fast shutdown</>请求强制终止打开会话，即使<quote>smart shutdown</>已经
在进行中(Fujii Masao)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid memory leak for <function>array_agg()</> in <literal>GROUP BY</>
      queries (Tom)
     </para>
-->
<para>
    避免<literal>GROUP BY</>查询中<function>array_agg()</>的内存泄露(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Treat <function>to_char(..., 'TH')</> as an uppercase ordinal
      suffix with <literal>'HH'</>/<literal>'HH12'</> (Heikki)
     </para>
-->
<para>
   将<function>to_char(..., 'TH')</>看作带有<literal>'HH'</>/<literal>'HH12'</>后缀的大写字母序列(Heikki)
</para>

     <!--
<para>
      It was previously handled as <literal>'th'</> (lowercase).
     </para>
-->
<para>
    它曾作为<literal>'th'</>(小写字母)被处理。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Include the fractional part in the result of
      <function>EXTRACT(second)</> and
      <function>EXTRACT(milliseconds)</> for
      <type>time</> and <type>time with time zone</> inputs (Tom)
     </para>
-->
<para>
   包含<type>time</>和<type>time with time zone</>输出的<function>EXTRACT(second)</>和
   <function>EXTRACT(milliseconds)</>结果中的小数部分(Tom)
</para>

     <!--
<para>
      This has always worked for floating-point datetime configurations,
      but was broken in the integer datetime code.
     </para>
-->
<para>
    一直为浮点datetime配置工作，但在整数datetime代码中被打断。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix overflow for <literal>INTERVAL '<replaceable>x</> ms'</literal>
      when <replaceable>x</> is more than 2 million and integer
      datetimes are in use (Alex Hunsaker)
     </para>
-->
<para>
    当<replaceable>x</>大于2百万并且整数datetime在使用中的时候，
修复<literal>INTERVAL '<replaceable>x</> ms'</literal>溢出(Alex Hunsaker)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve performance when processing toasted values in index scans (Tom)
     </para>
-->
<para>
    当处理索引扫描中toasted值得时候，优化性能(Tom)
</para>

     <!--
<para>
      This is particularly useful for <ulink
      url="http://postgis.refractions.net/">PostGIS</ulink>.
     </para>
-->
<para>
   这对<ulink url="http://postgis.refractions.net/">PostGIS</ulink>是特别有用的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix a typo that disabled <varname>commit_delay</> (Jeff Janes)
     </para>
-->
<para>
    修复禁用<varname>commit_delay</>错误(Jeff Janes)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Output early-startup messages to <filename>postmaster.log</> if the
      server is started in silent mode (Tom)
     </para>
-->
<para>
   如果以silent模式启用服务器，输出早期启用信息到<filename>postmaster.log</>中(Tom)
</para>

     <!--
<para>
      Previously such error messages were discarded, leading to
      difficulty in debugging.
     </para>
-->
<para>
    以前丢弃这样的错误消息，导致调度困难。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Remove translated FAQs (Peter)
     </para>
-->
<para>
    删除翻译常见问题(Peter)
</para>

     <!--
<para>
      They are now on the <ulink
      url="http://wiki.postgresql.org/wiki/FAQ">wiki</ulink>.  The
      main FAQ was moved to the wiki some time ago.
     </para>
-->
<para>
   现在主要是在<ulink url="http://wiki.postgresql.org/wiki/FAQ">wiki</ulink>上面。
   主要的问题前段时间已经移到了wiki上。
</para> 
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_ctl</> to not go into an infinite loop if
      <filename>postgresql.conf</> is empty (Jeff Davis)
     </para>
-->
<para>
    如果<filename>postgresql.conf</>为空，那么修复<application>pg_ctl</>
不陷入无限循环中(Jeff Davis)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix several errors in <application>pg_dump</>'s
      <literal>&#045;-binary-upgrade</> mode (Bruce, Tom)
     </para>
-->
<para>
   修复<application>pg_dump</>的<literal>--binary-upgrade</>模式中的若干错误(Bruce, Tom)
</para>

     <!--
<para>
      <literal>pg_dump &#045;-binary-upgrade</> is used by pg_migrator.
     </para>
-->
<para>
    通过pg_migrator使用<literal>pg_dump --binary-upgrade</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <filename>contrib/xml2</>'s <function>xslt_process()</> to
      properly handle the maximum number of parameters (twenty) (Tom)
     </para>
-->
<para>
    修复<filename>contrib/xml2</>的<function>xslt_process()</>以正确处理
最大数量参数(二十)(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve robustness of <application>libpq</>'s code to recover
      from errors during <command>COPY FROM STDIN</> (Tom)
     </para>
-->
<para>
    提高<application>libpq</>代码的鲁棒性以恢复<command>COPY FROM STDIN</>中错误(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid including conflicting readline and editline header files
      when both libraries are installed (Zdenek Kotala)
     </para>
-->
<para>
   当安装两个库的时候，避免包含readline和editline头文件的冲突(Zdenek Kotala)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Work around gcc bug that causes <quote>floating-point exception</>
      instead of <quote>division by zero</> on some platforms (Tom)
     </para>
-->
<para>
    解决gcc错误，它导致一些平台上<quote>浮点异常</>而不是<quote>以零做除数</>(Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2009l
      for DST law changes in Bangladesh, Egypt, Mauritius.
     </para>
-->
<para>
   为Bangladesh, Egypt, Mauritius中DST变化规律更新时区数据文件到<application>tzdata</>发布2009l。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-4">
 <!--
  <title>Release 8.4</title>
  -->
   <title>版本8.4</title>

  <note>
  <!--
   <title>Release Date</title>
   -->
   <title>发布日期</title>
   <simpara>2009-07-01</simpara>
  </note>

  <sect2>
  <!--
   <title>Overview</title>
   -->
   <title>概要</title>

   <!--
<para>
    After many years of development, <productname>PostgreSQL</> has
    become feature-complete in many areas.   This release shows a
    targeted approach to adding features (e.g., authentication,
    monitoring, space reuse), and adds capabilities defined in the
    later SQL standards.  The major areas of enhancement are:
   </para>
-->
<para>
    经过多年研发后，<productname>PostgreSQL</>已经在许多领域特性比较完整。
该发布显示一个针对性方法来添加特性（比如，认证，监测，空间重利用），
并且添加在以后SQL标准中定义的能力。增强的主要方面是：
</para>

   <itemizedlist>

    <!-- This list duplicates items below, but without authors or details-->

    <listitem>
     <!--
<para>
      Windowing Functions
     </para>
-->
<para>
    窗口函数
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Common Table Expressions and Recursive Queries
     </para>
-->
<para>
   通用表表达式和递归查询
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Default and variadic parameters for functions
     </para>
-->
<para>
    函数缺省和可变参数
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Parallel Restore
     </para>
-->
<para>
    并行恢复
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Column Permissions
     </para>
-->
<para>
    列权限
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Per-database locale settings
     </para>
-->
<para>
   每个数据库本地设置
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improved hash indexes
     </para>
-->
<para>
    改进的哈希索引
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improved join performance for <literal>EXISTS</> and <literal>NOT EXISTS</> queries
     </para>
-->
<para>
    改进<literal>EXISTS</>和<literal>NOT EXISTS</>查询连接性能
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Easier-to-use Warm Standby
     </para>
-->
<para>
    容易使用热备份
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Automatic sizing of the Free Space Map
     </para>
-->
<para>
    空闲空间映射的自动大小
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Visibility Map (greatly reduces vacuum overhead for slowly-changing tables)
     </para>
-->
<para>
   可见映射（大大降低了缓慢变化表的清理开销）
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Version-aware psql (backslash commands work against older servers)
     </para>
-->
<para>
    版本感知psql(旧服务器之前使用反斜杠命令)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Support SSL certificates for user authentication
     </para>
-->
<para>
    支持用户认证的SSL证书
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Per-function runtime statistics
     </para>
-->
<para>
   每个函数运行时统计
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Easy editing of functions in psql
     </para>
-->
<para>
     psql中函数简单编辑
</para>
    </listitem>

    <listitem>
     <!--
<para>
      New contrib modules: pg_stat_statements, auto_explain, citext, btree_gin
     </para>
-->
<para>
    新的contrib模块：pg_stat_statements, auto_explain, citext, btree_gin
</para>
    </listitem>

   </itemizedlist>

   <!--
<para>
    The above items are explained in more detail in the sections below.
   </para>
-->
<para>
     在下面章节中将详细解释以上所列项。
</para>

  </sect2>

  <sect2>
  <!--
   <title>Migration to Version 8.4</title>
   -->
    <title>迁移到版本8.4</title>

   <!--
<para>
    A dump/restore using <application>pg_dump</application> is
    required for those wishing to migrate data from any previous
    release.
   </para>
-->
<para>
    对于那些希望从任何以前发布中迁移数据是需要使用<application>pg_dump</application>备份/恢复。
</para>

   <!--
<para>
    Observe the following incompatibilities:
   </para>
-->
<para>
    观察下面的不兼容：
</para>

   <sect3>
   <!--
    <title>General</title>
-->
<title>普遍的</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Use 64-bit integer datetimes by default (Neil Conway)
      </para>
-->
<para>
    缺省使用64位整数日期时间(Neil Conway)
</para>

      <!--
<para>
       Previously this was selected by <application>configure</>'s
       <option>&#045;-enable-integer-datetimes</> option.  To retain
       the old behavior, build with <option>&#045;-disable-integer-datetimes</>.
      </para>
-->
<para>
    以前通过<application>configure</>的<option>--enable-integer-datetimes</>选项进行选择。为保留旧操作，
与<option>--disable-integer-datetimes</>一起编译。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove <application>ipcclean</> utility command (Bruce)
      </para>
-->
<para>
     删除<application>ipcclean</>实用命令(Bruce)
</para>

      <!--
<para>
       The utility only worked on a few platforms.  Users should use
       their operating system tools instead.
      </para>
-->
<para>
    该功能仅仅工作于几个平台上。用户应该使用他们的操作系统工具。
</para>
     </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
   <!--
    <title>Server Settings</title>
-->
<title>服务器设置</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Change default setting for
       <literal>log_min_messages</> to <literal>warning</> (previously
       it was <literal>notice</>) to reduce log file volume (Tom)
      </para>
-->
<para>
   为<literal>log_min_messages</>更改缺省设置为<literal>warning</>（以前为<literal>notice</>）
   以减少日志文件数量(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Change default setting for <literal>max_prepared_transactions</> to
       zero (previously it was 5) (Tom)
      </para>
-->
<para>
    为<literal>max_prepared_transactions</>改变缺省设置为零（以前为5）(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <literal>debug_print_parse</>, <literal>debug_print_rewritten</>,
       and <literal>debug_print_plan</>
       output appear at <literal>LOG</> message level, not
       <literal>DEBUG1</> as formerly (Tom)
      </para>
-->
<para>
    使得<literal>debug_print_parse</>, <literal>debug_print_rewritten</>,
    和<literal>debug_print_plan</>在<literal>LOG</>消息级别输出，而不是像从前的<literal>DEBUG1</>(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <literal>debug_pretty_print</> default to <literal>on</> (Tom)
      </para>
-->
<para>
    <literal>debug_pretty_print</>缺省为<literal>on</> (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove <varname>explain_pretty_print</> parameter (no longer needed) (Tom)
      </para>
-->
<para>
     删除<varname>explain_pretty_print</>参数（不再需要的）(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <varname>log_temp_files</> settable by superusers only, like other
       logging options (Simon Riggs)
      </para>
-->
<para>
     通过超级用户使得<varname>log_temp_files</>可定位，像其它日志选项(Simon Riggs)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove automatic appending of the epoch timestamp when no <literal>%</>
       escapes are present in <literal>log_filename</> (Robert Haas)
      </para>
-->
<para>
    当没有<literal>%</>转义出现在<literal>log_filename</>中的时候，删除epoch时间戳的自动追加(Robert Haas)

</para>

      <!--
<para>
       This change was made because some users wanted a fixed log filename,
       for use with an external log rotation tool.
      </para>
-->
<para>
    该变化是因为有些用户想要一个已修复的日志文件名，用于外部日志轮换工具。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove <varname>log_restartpoints</> from <filename>recovery.conf</>;
       instead use <varname>log_checkpoints</> (Simon)
      </para>
-->
<para>
     从<filename>recovery.conf</>删除中删除<varname>log_restartpoints</>；
 代替使用<varname>log_checkpoints</> (Simon)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove <varname>krb_realm</> and <varname>krb_server_hostname</>;
       these are now set in <filename>pg_hba.conf</> instead (Magnus)
      </para>
-->
<para>
      删除<varname>krb_realm</>和<varname>krb_server_hostname</>;
  而是在<filename>pg_hba.conf</>中设置(Magnus)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       There are also significant changes in <link
       linkend="release-8-4-pg-hba-conf"><filename>pg_hba.conf</></link>,
       as described below.
      </para>
-->
<para>
    在<link linkend="release-8-4-pg-hba-conf"><filename>pg_hba.conf</></link>中有显著变化，如下所述。
</para>
     </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
   <!--
    <title>Queries</title>
   -->
    <title>查询</title>
   
    <itemizedlist>

     <listitem>
      <!--
<para>
       Change <command>TRUNCATE</> and <command>LOCK</> to
       apply to child tables of the specified table(s) (Peter)
      </para>
-->
<para>
     改变<command>TRUNCATE</>和<command>LOCK</>以适用于指定表的子表(Peter)
</para>

      <!--
<para>
       These commands now accept an <literal>ONLY</> option that prevents
       processing child tables; this option must be used if the old
       behavior is needed.
      </para>
-->
<para>
    这些命令现在接受避免处理子表的<literal>ONLY</>选项；如果需要旧操作，必须使用该选项。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       <command>SELECT DISTINCT</> and
       <literal>UNION</>/<literal>INTERSECT</>/<literal>EXCEPT</>
       no longer always produce sorted output (Tom)
      </para>
-->
<para>
    <command>SELECT DISTINCT</>和<literal>UNION</>/<literal>INTERSECT</>/<literal>EXCEPT</>
不再总是产生有序输出(Tom)
</para>

      <!--
<para>
       Previously, these types of queries always removed duplicate rows
       by means of Sort/Unique processing (i.e., sort then remove adjacent
       duplicates).  Now they can be implemented by hashing, which will not
       produce sorted output.  If an application relied on the output being
       in sorted order, the recommended fix is to add an <literal>ORDER BY</>
       clause.  As a short-term workaround, the previous behavior can be
       restored by disabling <literal>enable_hashagg</>, but that is a very
       performance-expensive fix.  <literal>SELECT DISTINCT ON</> never uses
       hashing, however, so its behavior is unchanged.
      </para>
-->
<para>
      之前，这些类型的查询总是通过排序/唯一的处理方式（即排序然后删除相邻重复）去除重复行。
  现在，他们可以通过哈希来实现，这不会生成有序输出。如果应用程序依赖于按照排序顺序的输出，
??????那么推荐解决方法是添加一个<literal>ORDER BY</>子句。作为一个短期解决方法，
      之前的操作可以通过禁用<literal>enable_hashagg</>被恢复，但是这是一个性能昂贵的修复。
  <literal>SELECT DISTINCT ON</>从不使用散列，然而，因此，其操作不改变。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Force child tables to inherit <literal>CHECK</> constraints from parents
       (Alex Hunsaker, Nikhil Sontakke, Tom)
      </para>
-->
<para>
     强迫子表继承父表<literal>CHECK</>约束(Alex Hunsaker, Nikhil Sontakke, Tom)
</para>

      <!--
<para>
       Formerly it was possible to drop such a constraint from a child
       table, allowing rows that violate the constraint to be visible
       when scanning the parent table.  This was deemed inconsistent,
       as well as contrary to SQL standard.
      </para>
-->
<para>
    以前可能从子表中删除该约束，当扫描父表的时候，允许违背该约束的行可见。
这被认为是不一致的，也违背了SQL标准。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Disallow negative <literal>LIMIT</> or <literal>OFFSET</>
       values, rather than treating them as zero (Simon)
      </para>
-->
<para>
    禁止负的<literal>LIMIT</>或者<literal>OFFSET</>值，而不是将它们视为零(Simon) 
</para>
     </listitem> 

     <listitem>
      <!--
<para>
       Disallow <command>LOCK TABLE</> outside a transaction block
       (Tom)
      </para>
-->
<para>
    禁止事务块外的<command>LOCK TABLE</>(Tom)
</para>

      <!--
<para>
       Such an operation is useless because the lock would be released
       immediately.
      </para>
-->
<para>
    这样的操作是无效的，因为该锁将被立即释放。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Sequences now contain an additional <structfield>start_value</> column
       (Zoltan Boszormenyi)
      </para>
-->
<para>
    现在序列包含一个额外的<structfield>start_value</>列(Zoltan Boszormenyi)
</para>

      <!--
<para>
       This supports <command>ALTER SEQUENCE ... RESTART</>.
      </para>
-->
<para>
     支持<command>ALTER SEQUENCE ... RESTART</>。
</para>
     </listitem>

    </itemizedlist>

   </sect3>


   <sect3>
   <!--
    <title>Functions and Operators</title>
  -->
    <title>函数和操作符</title>

    <itemizedlist>

     <listitem>
      <!--
<para>
       Make <type>numeric</> zero raised to a fractional power return
       <literal>0</>, rather than throwing an error, and make
       <type>numeric</> zero raised to the zero power return <literal>1</>,
       rather than error (Bruce)
      </para>
-->
<para>
    采用<type>numeric</>零放到分数幂上返回<literal>0</>，而不是抛出错误，
并且采用<type>numeric</>零放到零幂上返回<literal>1</>，而不是错误(Bruce)
</para>

      <!--
<para>
       This matches the longstanding <type>float8</> behavior.
      </para>
-->
<para>
     这匹配长期的<type>float8</>操作。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow unary minus of floating-point values to produce minus zero (Tom)
      </para>
-->
<para>
     允许浮点值的一元负号产生负零(Tom)
</para>

      <!--
<para>
       The changed behavior is more <acronym>IEEE</>-standard
       compliant.
      </para>
-->
<para>
     修改后操作更加遵循<acronym>IEEE</>-标准。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Throw an error if an escape character is the last character in
       a <literal>LIKE</> pattern (i.e., it has nothing to escape) (Tom)
      </para>
-->
<para>
    如果转义字符是<literal>LIKE</>模式中的最后一个字符，抛出一个错误（即它没有任何转义）(Tom)
</para>

      <!--
<para>
       Previously, such an escape character was silently ignored,
       thus possibly masking application logic errors.
      </para>
-->
<para>
   此前，这样的转义字符被默默忽略掉，从而可能掩盖应用程序逻辑错误。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove <literal>~=~</> and <literal>~&lt;&gt;~</> operators
       formerly used for <literal>LIKE</> index comparisons (Tom)
      </para>
-->
<para>
     删除以前用于<literal>LIKE</>索引比较的<literal>~=~</> and <literal>~&lt;&gt;~</>操作符(Tom)
</para>

      <!--
<para>
       Pattern indexes now use the regular equality operator.
      </para>
-->
<para>
    模式索引目前使用规则平等操作符。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       <function>xpath()</> now passes its arguments to <application>libxml</>
       without any changes (Andrew)
      </para>
-->
<para>
     <function>xpath()</>现在将参数传递给<application>libxml</>没有任何变化(Andrew)
</para>

      <!--
<para>
       This means that the XML argument must be a well-formed XML document.
       The previous coding attempted to allow XML fragments, but it did not
       work well.
      </para>
-->
<para>
     这意味着XML参数必须是一个良好的XML文档。先前编码试图允许XML片段，
 但它并没有很好地工作。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <function>xmlelement()</> format attribute values just like
       content values (Peter)
      </para>
-->
<para>
    让<function>xmlelement()</>格式属性值就好像目录值(Peter) 
</para>

      <!--
<para>
       Previously, attribute values were formatted according to the
       normal SQL output behavior, which is sometimes at odds with
       XML rules.
      </para>
-->
<para>
       此前，属性值是按照正常的SQL输出操作被格式化，有时不符合XML规则。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Rewrite memory management for <application>libxml</>-using functions
       (Tom)
      </para>
-->
<para>
    为<application>libxml</>-使用函数重写内存管理(Tom)
</para>

      <!--
<para>
       This change should avoid some compatibility problems with use of
       <application>libxml</> in PL/Perl and other add-on code.
      </para>
-->
<para>
     这种变化应该避免在PL/Perl中使用<application>libxml</>和其他附加代码的一些兼容性问题。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Adopt a faster algorithm for hash functions (Kenneth Marshall,
       based on work of Bob Jenkins)
      </para>
-->
<para>
    为哈希函数采取更快速算法(Kenneth Marshall,依据Bob Jenkins的工作)
</para>

      <!--
<para>
       Many of the built-in hash functions now deliver different results on
       little-endian and big-endian platforms.
      </para>
-->
<para>
     许多内置哈希函数现在在小端和大端平台上提供不同的结果。
</para>
     </listitem>

    </itemizedlist>

    <sect4>
<!--
     <title>Temporal Functions and Operators</title>
-->
<title>时间函数和操作符</title>

     <itemizedlist>

      <listitem>
       <!--
<para>
        <varname>DateStyle</> no longer controls <type>interval</> output
        formatting; instead there is a new variable <varname>IntervalStyle</>
        (Ron Mayer)
       </para>
-->
<para>
     <varname>DateStyle</>不再控制<type>interval</>输出格式；
 反而有一个新变量<varname>IntervalStyle</>(Ron Mayer)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Improve consistency of handling of fractional seconds in
        <type>timestamp</> and <type>interval</> output (Ron Mayer)
       </para>
-->
<para>
    提高<type>timestamp</>和<type>interval</>输出中小数秒处理的一致性(Ron Mayer)
</para>

       <!--
<para>
        This may result in displaying a different number of fractional
        digits than before, or rounding instead of truncating.
       </para>
--> 
<para>
     这可能导致比以前显示不同数量的小数位，或者四舍五入而不是截断。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <function>to_char()</>'s localized month/day names depend
        on <varname>LC_TIME</>, not <varname>LC_MESSAGES</> (Euler
        Taveira de Oliveira)
       </para>
-->
<para>
    使得<function>to_char()</>的本地的月份/日期名字依赖于<varname>LC_TIME</>，
而不是<varname>LC_MESSAGES</> (Euler Taveira de Oliveira)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Cause <function>to_date()</> and <function>to_timestamp()</>
        to more consistently report errors for invalid input (Brendan
        Jurd)
       </para>
-->
<para>
     导致<function>to_date()</>和<function>to_timestamp()</>更加一致报告无效输入错误(Brendan Jurd)
</para>

       <!--
<para>
        Previous versions would often ignore or silently misread input
        that did not match the format string.  Such cases will now
        result in an error.
       </para>
-->
<para>
        以前的版本中会常常忽略或默默地误读不匹配格式字符串的输入。
这种情况下将导致错误。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Fix <function>to_timestamp()</> to not require upper/lower case
        matching for meridian (<literal>AM</>/<literal>PM</>) and era
        (<literal>BC</>/<literal>AD</>) format designations  (Brendan
        Jurd)
       </para>
-->
<para>
    为了子午线(<literal>AM</>/<literal>PM</>)和纪元
   (<literal>BC</>/<literal>AD</>)格式名称修复<function>to_timestamp()</>而不需要大写/小写匹配(Brendan Jurd)
</para>

       <!--
<para>
        For example, input value <literal>ad</> now matches the format
        string <literal>AD</>.
       </para>
-->
<para>
    比如，输入值<literal>ad</>匹配格式字符串<literal>AD</>。
</para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

  </sect2>

  <sect2>
  <!--
   <title>Changes</title>
   -->
   <title>变化</title>

   <!--
<para>
    Below you will find a detailed account of the changes between
    <productname>PostgreSQL</productname> 8.4 and the previous major
    release.
   </para>
-->
<para>
    下面你会发现在<productname>PostgreSQL</productname> 8.4和之前主要发布之间变化的详细说明。
</para>

   <sect3>
   <!--
    <title>Performance</title>
   -->
    <title>性能</title> 
    <itemizedlist>

     <listitem>
      <!--
<para>
       Improve optimizer statistics calculations (Jan Urbanski, Tom)
      </para>
-->
<para>
    完善优化统计计算(Jan Urbanski, Tom)
</para>

      <!--
<para>
       In particular, estimates for full-text-search operators are
       greatly improved.
      </para>
-->
<para>
    尤其是，估计全文搜索操作符被大幅度提高。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <command>SELECT DISTINCT</> and
       <literal>UNION</>/<literal>INTERSECT</>/<literal>EXCEPT</> to
       use hashing (Tom)
      </para>
-->
<para>
     允许<command>SELECT DISTINCT</>和<literal>UNION</>/<literal>INTERSECT</>/<literal>EXCEPT</>可以使用哈希(Tom)
</para>

      <!--
<para>
       This means that these types of queries no longer automatically
       produce sorted output.
      </para>
-->
<para>
     这意味着这些类型的查询不再自动生成有序输出。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Create explicit concepts of semi-joins and anti-joins (Tom)
      </para>
-->
<para>
      创建半连接和反连接明确概念(Tom)
</para>

      <!--
<para>
       This work formalizes our previous ad-hoc treatment of <literal>IN
       (SELECT ...)</> clauses, and extends it to <literal>EXISTS</> and
       <literal>NOT EXISTS</> clauses.  It should result in significantly
       better planning of <literal>EXISTS</> and <literal>NOT EXISTS</>
       queries.  In general, logically equivalent <literal>IN</> and
       <literal>EXISTS</> clauses should now have similar performance,
       whereas previously <literal>IN</> often won.
      </para>
-->
<para>
       这项工作正规化<literal>IN(SELECT ...)</>子句之前的点对点处理，   
   并延伸到<literal>EXISTS</>和<literal>NOT EXISTS</>子句中。   
   它可能导致<literal>EXISTS</>和<literal>NOT EXISTS</>查询更好地规划。
   一般情况下，逻辑上相同的<literal>IN</>和<literal>EXISTS</>子句有类似性能，
   而此前的<literal>IN</>获胜。  
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve optimization of sub-selects beneath outer joins (Tom)
      </para>
-->
<para>
   提高外部链接下子选择优化(Tom)
</para>

      <!--
<para>
       Formerly, a sub-select or view could not be optimized very well if it
       appeared within the nullable side of an outer join and contained
       non-strict expressions (for instance, constants) in its result list.
      </para>
-->
<para>
      以前，一个子选择或视图不能被很好的优化，
  如果它出现在外连接可空端并且在结果列中包含非严格表达式（比如，常量）。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve the performance of <function>text_position()</> and
       related functions by using Boyer-Moore-Horspool searching (David
       Rowley)
      </para>
-->
<para>
    通过使用Boyer-Moore-Horspool搜索提高<function>text_position()</>和相关函数的性能(David Rowley)
</para>

      <!--
<para>
       This is particularly helpful for long search patterns.
      </para>
-->
<para>
   这对长期搜索模式特别有帮助。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Reduce I/O load of writing the statistics collection file
       by writing the file only when requested (Martin Pihlak)
      </para>
-->
<para>
    当需要的时候，通过写文件降低写入统计收集文件I/O负载(Martin Pihlak)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve performance for bulk inserts (Robert Haas, Simon)
      </para>
-->
<para>
    提高批量插入性能(Robert Haas, Simon)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Increase the default value of <varname>default_statistics_target</>
       from <literal>10</> to <literal>100</> (Greg Sabino Mullane,
       Tom)
      </para>
-->
<para>
    从<literal>10</>到<literal>100</>增加<varname>default_statistics_target</>缺省值(Greg Sabino Mullane,Tom)
</para>

      <!--
<para>
       The maximum value was also increased from <literal>1000</> to
       <literal>10000</>.
      </para>
-->
<para>
    最大值从<literal>1000</>增加到<literal>10000</>。 
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Perform <varname>constraint_exclusion</> checking by default
       in queries involving inheritance or <literal>UNION ALL</> (Tom)
      </para>
-->
<para>
    在涉及继承或者<literal>UNION ALL</>的查询中缺省执行<varname>constraint_exclusion</>检查(Tom)
</para>

      <!--
<para>
       A new <varname>constraint_exclusion</> setting,
       <literal>partition</>, was added to specify this behavior.
      </para>
-->
<para>
    新的<varname>constraint_exclusion</>设置，<literal>分区</>被添加以指定该操作。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow I/O read-ahead for bitmap index scans (Greg Stark)
      </para>
-->
<para>
   允许I/O预读取位图索引扫描(Greg Stark)
</para>

      <!--
<para>
       The amount of read-ahead is controlled by
       <varname>effective_io_concurrency</>.  This feature is available only
       if the kernel has <function>posix_fadvise()</> support.
      </para>
-->
<para>
    通过<varname>effective_io_concurrency</>控制预读数量。
只有内核有<function>posix_fadvise()</>支持时该功能可用。

</para>
     </listitem>

     <listitem>
      <!--
<para>
       Inline simple set-returning <acronym>SQL</> functions in
       <literal>FROM</> clauses (Richard Rowell)
      </para>
-->
<para>
     内置<literal>FROM</>子句中简单集合返回<acronym>SQL</>函数(Richard Rowell)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve performance of multi-batch hash joins by providing a special
       case for join key values that are especially common in the outer
       relation (Bryce Cutt, Ramon Lawrence)
      </para>
-->
<para>
     通过为连接密钥值提供一种特殊情况来优化多批次哈希连接性能，
 这种情况在外部关系中特别常见(Bryce Cutt, Ramon Lawrence) 
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Reduce volume of temporary data in multi-batch hash joins
       by suppressing <quote>physical tlist</> optimization (Michael
       Henderson, Ramon Lawrence)
      </para>
-->
<para>
     通过抑制<quote>physical tlist</>优化减少多批次哈希连接中临时数据量 
 (Michael Henderson, Ramon Lawrence) 
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Avoid waiting for idle-in-transaction sessions during
       <command>CREATE INDEX CONCURRENTLY</> (Simon)
      </para>
-->
<para>
   避免<command>CREATE INDEX CONCURRENTLY</>中等待空闲事务会话(Simon)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve performance of shared cache invalidation (Tom)
      </para>
-->
<para>
     改进共享缓存无效性能(Tom)
</para>
     </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
   <!--
    <title>Server</title>
  -->
    <title>服务器</title>

    <sect4>
<!--
     <title>Settings</title>
-->
  <title>设置</title>

     <itemizedlist>

      <listitem>
       <!--
<para>
        Convert many <filename>postgresql.conf</> settings to enumerated
        values so that <literal>pg_settings</> can display the valid
        values (Magnus)
       </para>
-->
<para>
    转换许多<filename>postgresql.conf</>设置以枚举值，使得<literal>pg_settings</>
可以显示有效值(Magnus)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <varname>cursor_tuple_fraction</> parameter to control the
        fraction of a cursor's rows that the planner assumes will be
        fetched (Robert Hell)
       </para>
-->
<para>
    添加<varname>cursor_tuple_fraction</>参数以控制规划器假设被抓取的游标行(Robert Hell)

</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow underscores in the names of custom variable
        classes in <filename>postgresql.conf</> (Tom)
       </para>
-->
<para>
    允许<filename>postgresql.conf</>中自定义变量类下的下划线(Tom)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Authentication and security</title>
 -->
 <title>身份验证和安全</title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Remove support for the (insecure) <literal>crypt</> authentication method
        (Magnus)
       </para>
-->
<para>
    删除支持(不安全) <literal>crypt</>认证方法(Magnus)
</para>

       <!--
<para>
        This effectively obsoletes pre-<productname>PostgreSQL</> 7.2 client
        libraries, as there is no longer any non-plaintext password method that
        they can use.
       </para>
-->
<para>
     这有效地淘汰了先前<productname>PostgreSQL</>7.2客户端库，
 因为不再有他们可以使用的任何非明文口令方法。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support regular expressions in <filename>pg_ident.conf</>
        (Magnus)
       </para>
-->
<para>
     支持<filename>pg_ident.conf</>中正则表达式(Magnus)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <productname>Kerberos</>/<acronym>GSSAPI</> parameters
        to be changed without restarting the postmaster (Magnus)
       </para>
-->
<para>
    允许无需重启postmaster改变<productname>Kerberos</>/<acronym>GSSAPI</>参数(Magnus)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support <acronym>SSL</> certificate chains in server certificate
        file (Andrew Gierth)
       </para>
-->
<para>
    支持服务器证书文件中<acronym>SSL</>证书链(Andrew Gierth)
</para>

       <!--
<para>
        Including the full certificate chain makes the client able
        to verify the certificate without having all intermediate CA
        certificates present in the local store, which is often the case for
        commercial CAs.
       </para>
-->
<para>
     包括完整证书链使客户能够验证证书，
 而不需要存在于本地存储中的所有中间CA证书，这是商业CA的常见情况。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Report appropriate error message for combination of <literal>MD5</>
        authentication and <varname>db_user_namespace</> enabled (Bruce)
       </para>
-->
<para>
    报告连接<literal>MD5</>认证和<varname>db_user_namespace</>启动的相应错误消息(Bruce)
</para>
      </listitem>
     </itemizedlist>

    </sect4>

    <sect4 id="release-8-4-pg-hba-conf">
     <title><filename>pg_hba.conf</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Change all authentication options to use <literal>name=value</>
        syntax (Magnus)
       </para>
-->
<para>
    改变所有身份验证选项使用<literal>name=value</>语法(Magnus)
</para>

       <!--
<para>
        This makes incompatible changes to the <literal>ldap</>,
        <literal>pam</> and <literal>ident</> authentication methods. All
        <filename>pg_hba.conf</> entries with these methods need to be
        rewritten using the new format.
       </para>
-->
<para>
     这使得不兼容变化到<literal>ldap</>,<literal>pam</>和<literal>ident</>身份验证方法。
 所有使用这些方法的<filename>pg_hba.conf</>项需要使用新的格式被重写。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Remove the <literal>ident sameuser</> option, instead making that
        behavior the default if no usermap is specified (Magnus)
       </para>
-->
<para>
    删除<literal>ident sameuser</>选项，如果没有指定usermap，而不是使得该操作缺省(Magnus)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow a usermap parameter for all external authentication methods
        (Magnus)
       </para>
-->
<para>
     允许为所有外部身份验证方法的usermap参数(Magnus)
</para>

       <!--
<para>
        Previously a usermap was only supported for <literal>ident</>
        authentication.
       </para>
-->
<para>
     之前usermap只支持<literal>ident</>认证。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <literal>clientcert</> option to control requesting of a
        client certificate (Magnus)
       </para>
-->
<para>
      添加<literal>clientcert</>选项以控制客户端证书请求(Magnus)
</para>

       <!--
<para>
        Previously this was controlled by the presence of a root
        certificate file in the server's data directory.
       </para>
-->
<para>
    以前这是通过服务器的数据目录中根证书文件被控制。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <literal>cert</> authentication method to allow
        <emphasis>user</> authentication via <acronym>SSL</> certificates
        (Magnus)
       </para>
-->
<para>
    添加<literal>cert</>认证方法以允许<emphasis>user</>认证通过<acronym>SSL</>证书(Magnus)
</para>

       <!--
<para>
        Previously <acronym>SSL</> certificates could only verify that
        the client had access to a certificate, not authenticate a
        user.
       </para>
-->
<para>
    此前<acronym>SSL</>证书只能验证客户端可以使用一个证书，而不是验证用户。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <literal>krb5</>, <literal>gssapi</> and <literal>sspi</>
        realm and <literal>krb5</> host settings to be specified in
        <filename>pg_hba.conf</> (Magnus)
       </para>
-->
<para>
    允许在<filename>pg_hba.conf</>中指定<literal>krb5</>, <literal>gssapi</>和<literal>sspi</>
    字段和<literal>krb5</>主机设置(Magnus)
</para>

       <!--
<para>
        These override the settings in <filename>postgresql.conf</>.
       </para>
-->
<para>
      这些覆盖了<filename>postgresql.conf</>中设置。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <varname>include_realm</> parameter for <literal>krb5</>,
        <literal>gssapi</>, and <literal>sspi</> methods (Magnus)
       </para>
-->
<para>
    为<literal>krb5</>，<literal>gssapi</>和<literal>sspi</>方法添加<varname>include_realm</>参数(Magnus)
</para>

       <!--
<para>
        This allows identical usernames from different realms to be
        authenticated as different database users using usermaps.
       </para>
-->
<para>
      这允许来自不同领域的相同用户名被认证为使用用户映射的不同数据库用户。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Parse <filename>pg_hba.conf</> fully when it is loaded,
        so that errors are reported immediately (Magnus)
       </para>
-->
<para>
     当它被加载的时候，完整解析<filename>pg_hba.conf</>，以致于
 可以立即报告错误(Magnus)
</para>

       <!--
<para>
        Previously, most errors in the file wouldn't be detected until clients
        tried to connect, so an erroneous file could render the system
        unusable.  With the new behavior, if an error is detected during
        reload then the bad file is rejected and the postmaster continues
        to use its old copy.
       </para>
-->
<para>
      此前，文件中的大多数错误直到客户端试图连接时才会被检测到，所以一个错误的文件可能导致系统
无法使用。随着新的操作，如果在重载时检测到错误，那么坏文件被拒绝，并且postmaster继续使用其旧副本。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Show all parsing errors in <filename>pg_hba.conf</> instead of
        aborting after the first one (Selena Deckelmann)
       </para>
-->
<para>
     显示<filename>pg_hba.conf</>中所有解析错误
 而不是在第一个之后终止(Selena Deckelmann) 
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support <literal>ident</> authentication over Unix-domain sockets
        on <productname>Solaris</> (Garick Hamlin)
       </para>
-->
<para>
     支持<productname>Solaris</>上Unix域套接字上的<literal>ident</>认证(Garick Hamlin)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Continuous Archiving</title>
-->
  <title>连续归档</title>
  
     <itemizedlist>

      <listitem>
       <!--
<para>
        Provide an option to <function>pg_start_backup()</> to force its
        implied checkpoint to finish as quickly as possible (Tom)
       </para>
-->
<para>
    提供一个选项到<function>pg_start_backup()</>以强制尽快完成的隐含检查点(Tom)
</para>

       <!--
<para>
        The default behavior avoids excess I/O consumption, but that is
        pointless if no concurrent query activity is going on.
       </para>
-->
<para>
     缺省操作避免过多I/O消耗，但是如果没有并发查询活动，这是毫无意义的。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <function>pg_stop_backup()</> wait for modified <acronym>WAL</>
        files to be archived (Simon)
       </para>
-->
<para>
    让<function>pg_stop_backup()</>等待修改的<acronym>WAL</>文件被归档(Simon)
</para>

       <!--
<para>
        This guarantees that the backup is valid at the time
        <function>pg_stop_backup()</> completes.
       </para>
-->
<para>
     这保证备份在<function>pg_stop_backup()</>完成时是有效的。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        When archiving is enabled, rotate the last WAL segment at shutdown
        so that all transactions can be archived immediately
        (Guillaume Smet, Heikki)
       </para>
-->
<para>
     当启用归档时，在关闭时交替最后WAL段以致于所有事务可以立即被归档(Guillaume Smet, Heikki)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Delay <quote>smart</> shutdown while a continuous archiving base backup
        is in progress (Laurenz Albe)
       </para>
-->
<para>
     当连续归档基础备份在进展中时，延迟<quote>smart</>关机(Laurenz Albe)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Cancel a continuous archiving base backup if <quote>fast</> shutdown
        is requested (Laurenz Albe)
       </para>
-->
<para>
    如果请求<quote>fast</>关机，那么取消连续归档基础备份(Laurenz Albe)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <filename>recovery.conf</> boolean variables to take the
        same range of string values as <filename>postgresql.conf</>
        boolean variables
        (Bruce)
       </para>
-->
<para>
     允许<filename>recovery.conf</>布尔变量采取同一范围字符串值作为<filename>postgresql.conf</>布尔值(Bruce)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Monitoring</title>
-->
  <title>监控</title> 

     <itemizedlist>

      <listitem>
       <!--
<para>
        Add <function>pg_conf_load_time()</> to report when
        the <productname>PostgreSQL</> configuration files were last loaded
        (George Gensure)
       </para>
-->
<para>
      当最后加载<productname>PostgreSQL</>配置文件的时候，添加<function>pg_conf_load_time()</>以报告(George Gensure)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>pg_terminate_backend()</> to safely terminate a
        backend (the <literal>SIGTERM</> signal works also) (Tom, Bruce)
       </para>
-->
<para>
     添加<function>pg_terminate_backend()</>以安全终止后台（<literal>SIGTERM</>信号也如此）(Tom, Bruce)
</para>

       <!--
<para>
        While it's always been possible to <literal>SIGTERM</> a single
        backend, this was previously considered unsupported; and testing
        of the case found some bugs that are now fixed.
       </para>
-->
<para>
     虽然它一直可能<literal>SIGTERM</>单一后端，
 这个以前被认为是不支持的；
 并且测试的情况下发现了一些被修复的错误。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add ability to track user-defined functions' call counts and
        runtimes (Martin Pihlak)
       </para>
-->
<para>
     添加跟踪用户定义函数的调用计数以及运行时间能力(Martin Pihlak)
</para>

       <!--
<para>
        Function statistics appear in a new system view,
        <literal>pg_stat_user_functions</>.  Tracking is controlled
        by the new parameter <varname>track_functions</>.
       </para>
-->
<para>
     函数统计出现在新的系统视图，<literal>pg_stat_user_functions</>中。
 通过新的参数<varname>track_functions</>控制跟踪。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow specification of the maximum query string size in
        <literal>pg_stat_activity</> via new
        <varname>track_activity_query_size</> parameter (Thomas Lee)
       </para>
-->
<para>
     在<literal>pg_stat_activity</>中通过新的<varname>track_activity_query_size</>参数
 允许声明最大查询字符串大小(Thomas Lee)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Increase the maximum line length sent to <application>syslog</>, in
        hopes of improving performance (Tom)
       </para>
-->
<para>
    增大最大线长度发送到<application>syslog</>，希望优化性能(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add read-only configuration variables <varname>segment_size</>,
        <varname>wal_block_size</>, and <varname>wal_segment_size</>
        (Bernd Helmle)
       </para>
-->
<para>
     添加只读配置变量<varname>segment_size</>,<varname>wal_block_size</>和<varname>wal_segment_size</>
     (Bernd Helmle)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        When reporting a deadlock, report the text of all queries involved
        in the deadlock to the server log  (Itagaki Takahiro)
       </para>
-->
<para>
     当报告死锁时，报告死锁服务器日志中涉及的所有查询文本(Itagaki Takahiro)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>pg_stat_get_activity(pid)</> function to return
        information about a specific process id (Magnus)
       </para>
-->
<para>
     添加<function>pg_stat_get_activity(pid)</>函数以返回关于指定进程id的信息(Magnus)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow the location of the server's statistics file to be specified
        via <varname>stats_temp_directory</> (Magnus)
       </para>
-->
<para>
     允许通过<varname>stats_temp_directory</>指定服务器的统计文件的位置(Magnus)
</para>

       <!--
<para>
        This allows the statistics file to be placed in a
        <acronym>RAM</>-resident directory to reduce I/O requirements.
        On startup/shutdown, the file is copied to its traditional location
        (<literal>$PGDATA/global/</>) so it is preserved across restarts.
       </para>
-->
<para>
    这允许统计文件被放置在<acronym>RAM</>固有目录中以减少I/O需求。
在启动/关闭时，文件被拷贝到它的传统位置(<literal>$PGDATA/global/</>)下，
所以重新启动时被保留。
</para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
   <!--
    <title>Queries</title>
-->
<title>查询</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Add support for <literal>WINDOW</> functions (Hitoshi Harada)
      </para>
-->
<para>
     添加支持<literal>WINDOW</>函数(Hitoshi Harada)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for <literal>WITH</> clauses (CTEs), including <literal>WITH
       RECURSIVE</> (Yoshiyuki Asaba, Tatsuo Ishii, Tom)
      </para>
-->
<para>
   添加支持<literal>WITH</>子句(CTEs)，包含<literal>WITH RECURSIVE</> (Yoshiyuki Asaba, Tatsuo Ishii, Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <command>TABLE</> command (Peter)
      </para>
-->
<para>
   添加<command>TABLE</>命令(Peter)
</para>

      <!--
<para>
       <literal>TABLE tablename</> is a SQL standard short-hand for
       <literal>SELECT * FROM tablename</>.
      </para>
-->
<para>
    <literal>TABLE tablename</>是<literal>SELECT * FROM tablename</>的一个SQL标准简写。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <literal>AS</> to be optional when specifying a
       <command>SELECT</> (or <literal>RETURNING</>) column output
       label (Hiroshi Saito)
      </para>
-->
<para>
    当声明<command>SELECT</> (或者<literal>RETURNING</>)列输出标签的时候，允许
<literal>AS</>为可选的(Hiroshi Saito) 
</para>

      <!--
<para>
       This works so long as the column label is not any
       <productname>PostgreSQL</> keyword; otherwise <literal>AS</> is still
       needed.
      </para>
-->
<para>
    该操作只要列标签没有任何<productname>PostgreSQL</>关键字，否则仍然需要<literal>AS</>。
</para>
     </listitem>

     <listitem> 
      <!--
<para>
       Support set-returning functions in <command>SELECT</> result lists
       even for functions that return their result via a tuplestore (Tom)
      </para>
-->
<para>
     支持在<command>SELECT</>结果列表中设置返回函数，
 即使对于通过tuplestore返回其结果的函数(Tom)
</para>

      <!--
<para>
       In particular, this means that functions written in PL/pgSQL
       and other PL languages can now be called this way. 
      </para>
-->
<para>
    特别是，这意味着用PL/pgSQL和其它PL/pgSQL语言书写的函数可以这样被调用。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Support set-returning functions in the output of aggregation
       and grouping queries (Tom)
      </para>
-->
<para>
   在聚合和分组查询输出中支持设置返回函数(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <command>SELECT FOR UPDATE</>/<literal>SHARE</> to work
       on inheritance trees (Tom)
      </para>
-->
<para>
    允许<command>SELECT FOR UPDATE</>/<literal>SHARE</>在继承树上进行操作(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add infrastructure for <acronym>SQL/MED</> (Martin Pihlak,
       Peter)
      </para>
-->
<para>
    为<acronym>SQL/MED</>添加基础设施(Martin Pihlak, Peter)
</para>

      <!--
<para>
       There are no remote or external <acronym>SQL/MED</> capabilities
       yet, but this change provides a standardized and future-proof
       system for managing connection information for modules like
       <filename>dblink</> and <filename>plproxy</>.
      </para>
-->
<para>
      然而没有远程或外部<acronym>SQL/MED</>功能，
  但这种变化提供了一个标准化的，面向未来系统，
  用于管理类似模块<filename>dblink</>和<filename>plproxy</>连接信息。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Invalidate cached plans when referenced schemas, functions, operators,
       or operator classes are modified (Martin Pihlak, Tom)
      </para>
-->
<para>
     当引用的模式，函数，操作符或者操作符类被修改的时候，使缓存计划无效(Martin Pihlak, Tom)
</para>

      <!--
<para>
       This improves the system's ability to respond to on-the-fly
       DDL changes.
      </para>
-->
<para>
     这提高了系统对反应传输中DDL变化的能力。
</para>
     </listitem>
     <listitem>
      <!--
<para>
       Allow comparison of composite types and allow arrays of
       anonymous composite types (Tom)
      </para>
-->
<para>
    允许复合类型比较以及匿名复合类型的数组(Tom)
</para>

      <!--
<para>
       This allows constructs such as
       <literal>row(1, 1.1) = any (array[row(7, 7.7), row(1, 1.0)])</>.
       This is particularly useful in recursive queries.
      </para>
-->
<para>
   这允许构造比如<literal>row(1, 1.1) = any (array[row(7, 7.7), row(1, 1.0)])</>。
   在递归查询中特别有用。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for Unicode string literal and identifier specifications
       using code points, e.g. <literal>U&amp;'d\0061t\+000061'</>
       (Peter)
      </para>
-->
<para>
   添加使用代码点支持Unicode字符串文本和标识符规范，
   比如<literal>U&amp;'d\0061t\+000061'</>(Peter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Reject <literal>\000</> in string literals and <command>COPY</> data
       (Tom)
      </para>
-->
<para>
   拒绝字符串文本中<literal>\000</>和<command>COPY</>数据(Tom)
</para>

      <!--
<para>
       Previously, this was accepted but had the effect of terminating
       the string contents.
      </para>
-->
<para>
    之前，这被接受但是有终止字符串内容的影响。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve the parser's ability to report error locations (Tom)
      </para>
-->
<para>
   提高解析器报告错误位置的能力(Tom)
</para>

      <!--
<para>
       An error location is now reported for many semantic errors,
       such as mismatched datatypes, that previously could not be localized.
      </para>
-->
<para>
    为许多语义错误报道一个错误位置，
比如不匹配的数据类型，这在以前不可能被本地化。
</para>
     </listitem>

    </itemizedlist>

    <sect4>
     <title><command>TRUNCATE</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Support statement-level <literal>ON TRUNCATE</> triggers (Simon)
       </para>
-->
<para>
     支持语句级别<literal>ON TRUNCATE</>触发器(Simon)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <literal>RESTART</>/<literal>CONTINUE IDENTITY</> options
        for <command>TRUNCATE TABLE</>
        (Zoltan Boszormenyi)
       </para>
-->
<para>
    为了<command>TRUNCATE TABLE</>添加<literal>RESTART</>/<literal>CONTINUE IDENTITY</>选项(Zoltan Boszormenyi)
</para>

       <!--
<para>
        The start value of a sequence can be changed by <command>ALTER
        SEQUENCE START WITH</>.
       </para>
-->
<para>
    序列的起始值可以通过<command>ALTER SEQUENCE START WITH</>被改变。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <command>TRUNCATE tab1, tab1</> to succeed (Bruce)
       </para>
-->
<para>
    允许<command>TRUNCATE tab1, tab1</>成功(Bruce)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add a separate <command>TRUNCATE</> permission (Robert Haas)
       </para>
-->
<para>
    添加单独<command>TRUNCATE</>许可(Robert Haas)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
     <title><command>EXPLAIN</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Make <command>EXPLAIN VERBOSE</> show the output columns of each
        plan node (Tom)
       </para>
-->
<para>
     采用<command>EXPLAIN VERBOSE</>显示每个规划节点的输出列(Tom)
</para>

       <!--
<para>
        Previously <command>EXPLAIN VERBOSE</> output an internal
        representation of the query plan.  (That behavior is now
        available via <varname>debug_print_plan</>.)
       </para>
-->
<para>
    此前<command>EXPLAIN VERBOSE</>输出查询规划的内部表示。 
（该操作通过<varname>debug_print_plan</>是可用的。）
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>EXPLAIN</> identify subplans and initplans with
        individual labels (Tom)
       </para>
-->
<para>
    采用<command>EXPLAIN</>标识子计划以及单一标签的初始计划(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>EXPLAIN</> honor <varname>debug_print_plan</> (Tom)
       </para>
-->
<para>
     为了<varname>debug_print_plan</>采用<command>EXPLAIN</>(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <command>EXPLAIN</> on <command>CREATE TABLE AS</> (Peter)
       </para>
-->
<para>
    允许在<command>CREATE TABLE AS</>上进行<command>EXPLAIN</>(Peter)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
     <title><literal>LIMIT</>/<literal>OFFSET</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Allow sub-selects in <literal>LIMIT</> and <literal>OFFSET</> (Tom)
       </para>
-->
<para>
    允许<literal>LIMIT</>和<literal>OFFSET</>中子选择(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <acronym>SQL</>-standard syntax for
        <literal>LIMIT</>/<literal>OFFSET</> capabilities (Peter)
       </para>
-->
<para>
    为了<literal>LIMIT</>/<literal>OFFSET</>性能添加<acronym>SQL</>标准语法(Peter)
</para>

       <!--
<para>
        To wit,
        <literal>OFFSET num {ROW|ROWS} FETCH {FIRST|NEXT} [num] {ROW|ROWS}
        ONLY</>.
       </para>
-->
<para>
   也就是说，<literal>OFFSET num {ROW|ROWS} FETCH {FIRST|NEXT} [num] {ROW|ROWS} ONLY</>。
</para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
   <!--
    <title>Object Manipulation</title>
-->
    <title>对象操作</title>

    <itemizedlist>

     <listitem>
      <!--
<para>
       Add support for column-level privileges (Stephen Frost, KaiGai
       Kohei)
      </para>
-->
<para>
     添加列级权限支持(Stephen Frost, KaiGai Kohei)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Refactor multi-object <command>DROP</> operations to reduce the
       need for <literal>CASCADE</> (Alex Hunsaker)
      </para>
-->
<para>
    重构多目标<command>DROP</>操作以减少<literal>CASCADE</>的需要(Alex Hunsaker)
</para>

      <!--
<para>
       For example, if table <literal>B</> has a dependency on table
       <literal>A</>, the command <literal>DROP TABLE A, B</> no longer
       requires the <literal>CASCADE</> option.
      </para>
-->
<para>
   比如，如果表<literal>B</>在表<literal>A</>上有依赖物，那么
   命令<literal>DROP TABLE A, B</>不再需要<literal>CASCADE</>选项。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix various problems with concurrent <command>DROP</> commands
       by ensuring that locks are taken before we begin to drop dependencies
       of an object (Tom)
      </para>
-->
<para>
      通过确保在开始删除对象依赖之前采取锁定，修复各种并发<command>DROP</>命令问题(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve reporting of dependencies during <command>DROP</>
       commands (Tom)
      </para>
-->
<para>
     改善<command>DROP</>命令中依赖性报告(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <literal>WITH [NO] DATA</> clause to <command>CREATE TABLE
       AS</>, per the <acronym>SQL</> standard (Peter, Tom)
      </para>
-->
<para>
   添加<literal>WITH [NO] DATA</>子句给<command>CREATE TABLE AS</>，按照<acronym>SQL</>标准(Peter, Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for user-defined I/O conversion casts (Heikki)
      </para>
-->
<para>
    添加支持用户自定义I/O转换模型(Heikki)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <command>CREATE AGGREGATE</> to use an <type>internal</>
       transition datatype (Tom)
      </para>
-->
<para>
     允许<command>CREATE AGGREGATE</>使用<type>internal</>转换数据类型(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <literal>LIKE</> clause to <command>CREATE TYPE</> (Tom)
      </para>
-->
<para>
     添加<literal>LIKE</>子句到<command>CREATE TYPE</> (Tom)
</para>

      <!--
<para>
       This simplifies creation of data types that use the same internal
       representation as an existing type.
      </para>
-->
<para>
     这简化了使用作为已存在类型同一内部表示形式的数据类型的创建。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow specification of the type category and <quote>preferred</>
       status for user-defined base types (Tom)
      </para>
-->
<para>
    允许类型类别指定以及用户定义的基础类型<quote>首选</>状态(Tom) 
</para>

      <!--
<para>
       This allows more control over the coercion behavior of user-defined
       types.
      </para>
-->
<para>
    这允许控制用户定义类型的强制操作。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <command>CREATE OR REPLACE VIEW</> to add columns to the
       end of a view (Robert Haas)
      </para>
-->
<para>
    允许<command>CREATE OR REPLACE VIEW</>添加列到视图结尾(Robert Haas)
</para>
     </listitem>

    </itemizedlist>

    <sect4>
     <title><command>ALTER</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Add <command>ALTER TYPE RENAME</> (Petr Jelinek)
       </para>
-->
<para>
     添加<command>ALTER TYPE RENAME</> (Petr Jelinek)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <command>ALTER SEQUENCE ... RESTART</> (with no parameter) to
        reset a sequence to its initial value (Zoltan Boszormenyi)
       </para>
-->
<para>
    添加<command>ALTER SEQUENCE ... RESTART</>（无参数）以重置序列到其初始值(Zoltan Boszormenyi)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Modify the <command>ALTER TABLE</> syntax to allow all reasonable
        combinations for tables, indexes, sequences, and views (Tom)
       </para>
-->
<para>
     修改<command>ALTER TABLE</>语法以允许表，索引，序列以及视图合理组合(Tom) 
</para>

       
<para>
       <!--
        This change allows the following new syntaxes:
-->
这种变化允许下面新语法：

        <itemizedlist>
         <listitem>
          <para>
           <command>ALTER SEQUENCE OWNER TO</>
          </para>

         </listitem>
         <listitem>
         
<para>
           <command>ALTER VIEW ALTER COLUMN SET/DROP DEFAULT</>
          </para>

         </listitem>
         <listitem>
         
<para>
           <command>ALTER VIEW OWNER TO</>
          </para>

         </listitem>
         <listitem>
          
<para>
           <command>ALTER VIEW SET SCHEMA</>
          </para>

         </listitem>
        </itemizedlist>

<!--
        There is no actual new functionality here, but formerly
        you had to say <command>ALTER TABLE</> to do these things,
        which was confusing.
-->
这里没有实际的新功能，
但之前你不得不表明<command>ALTER TABLE</>可以做这些事情，使其混淆。

       </para>
      </listitem>

      <listitem>
       <!--
<para>
        Add support for the syntax <command>ALTER TABLE ... ALTER COLUMN
        ... SET DATA TYPE</> (Peter)
       </para>
-->
<para>
    添加支持语法<command>ALTER TABLE ... ALTER COLUMN... SET DATA TYPE</> (Peter)
</para>

       <!--
<para>
        This is <acronym>SQL</>-standard syntax for functionality that
        was already supported.
       </para>
-->
<para>
     这是已经支持的功能性<acronym>SQL</>标准语法。  
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>ALTER TABLE SET WITHOUT OIDS</> rewrite the table
        to physically remove <type>OID</> values (Tom)
       </para>
-->
<para>
    采用<command>ALTER TABLE SET WITHOUT OIDS</>重写表以物理删除<type>OID</>值(Tom)
</para>

       <!--
<para>
        Also, add <command>ALTER TABLE SET WITH OIDS</> to rewrite the
        table to add <type>OID</>s.
       </para>
-->
<para>
     同时添加<command>ALTER TABLE SET WITH OIDS</>重写表添加<type>OID</>。
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Database Manipulation</title>
-->
 <title>数据库操作</title>

     <itemizedlist>

      <listitem>
       <!--
<para>
        Improve reporting of
        <command>CREATE</>/<command>DROP</>/<command>RENAME DATABASE</>
        failure when uncommitted prepared transactions are the cause
        (Tom)
       </para>
-->
<para>
   当未提交预备事务的时候，改善<command>CREATE</>/<command>DROP</>/<command>RENAME DATABASE</>错误报告(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <varname>LC_COLLATE</> and <varname>LC_CTYPE</> into
        per-database settings (Radek Strnad, Heikki)
       </para>
-->
<para>
    每个数据库设置采用<varname>LC_COLLATE</>和<varname>LC_CTYPE</>(Radek Strnad, Heikki)
</para>

       <!--
<para>
        This makes collation similar to encoding, which was always
        configurable per database.
       </para>
-->
<para>
    整理类似编码，总是配置每个数据库。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Improve checks that the database encoding, collation
        (<varname>LC_COLLATE</>), and character classes
        (<varname>LC_CTYPE</>) match (Heikki, Tom)
       </para>
-->
<para>
    完善检查数据库编码，整理(<varname>LC_COLLATE</>), 以及字符类(<varname>LC_CTYPE</>)匹配(Heikki, Tom)
</para>

       <!--
<para>
        Note in particular that a new database's encoding and locale
        settings can be changed only when copying from <literal>template0</>.
        This prevents possibly copying data that doesn't match the settings.
       </para>
-->
<para>
     特别注意，当从<literal>template0</>拷贝的时候，一个新的数据库编码和语言环境设置被改变。
这避免了可能拷贝的数据不匹配该设置。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <command>ALTER DATABASE SET TABLESPACE</> to move a database
        to a new tablespace (Guillaume Lelarge, Bernd Helmle)
       </para>
-->
<para>
    添加<command>ALTER DATABASE SET TABLESPACE</>移动数据库到一个新的表空间(Guillaume Lelarge, Bernd Helmle)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
   <!--
    <title>Utility Operations</title>
   -->
     <title>实用操作</title>

    <itemizedlist>

     <listitem>
      <!--
<para>
       Add a <literal>VERBOSE</> option to the <command>CLUSTER</> command and
       <application>clusterdb</> (Jim Cox)
      </para>
-->
<para>
     添加<literal>VERBOSE</>选项到<command>CLUSTER</>命令和<application>clusterdb</>中(Jim Cox)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Decrease memory requirements for recording pending trigger
       events (Tom)
      </para>
-->
<para>
     为记录待定的触发器事件减少内存需求(Tom)
</para>
     </listitem>

    </itemizedlist>

    <sect4>
<!--
     <title>Indexes</title>
-->
<title>索引</title>

     <itemizedlist>

      <listitem>
       <!--
<para>
        Dramatically improve the speed of building and accessing hash
        indexes (Tom Raney, Shreya Bhargava)
       </para>
-->
<para>
     大幅提高建立并且访问哈希索引速度(Tom Raney, Shreya Bhargava)
</para>

       <!--
<para>
        This allows hash indexes to be sometimes faster than btree
        indexes.  However, hash indexes are still not crash-safe.
       </para>
-->
<para>
      这使得散列索引有时比btree索引的速度更快。
  然而，哈希索引仍然没有碰撞安全。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make hash indexes store only the hash code, not the full value of
        the indexed column (Xiao Meng)
       </para>
-->
<para>
     使得哈希索引只存储哈希码，而不是索引列的完整值(Xiao Meng)
</para>

       <!--
<para>
        This greatly reduces the size of hash indexes for long indexed
        values, improving performance.
       </para>
-->
<para>
     这大大减少了为长索引值的散列索引的大小，从而提高了性能。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Implement fast update option for GIN indexes (Teodor, Oleg)
       </para>
-->
<para>
     实现GIN索引的快速更新选项(Teodor, Oleg)
</para>

       <!--
<para>
        This option greatly improves update speed at a small penalty in search
        speed.
       </para>
-->
<para>
       此选项大大提高了在搜索速度中小的不利后果上的更新速度。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        <literal>xxx_pattern_ops</> indexes can now be used for simple
        equality comparisons, not only for <literal>LIKE</> (Tom)
       </para>
-->
<para>
      <literal>xxx_pattern_ops</>索引可以用于简单平等比较，而不仅仅为<literal>LIKE</> (Tom)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Full Text Indexes</title>
-->
  <title>全文索引</title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Remove the requirement to use <literal>@@@</> when doing
        <acronym>GIN</> weighted lookups on full text indexes (Tom, Teodor)
       </para>
-->
<para>
    当在全文索引中执行<acronym>GIN</>加权查找时，删除该需求而使用<literal>@@@</>(Tom, Teodor)
</para>

       <!--
<para>
        The normal <literal>@@</> text search operator can be used
        instead.
       </para>
-->
<para>
   可以使用正常的<literal>@@</>文本搜索操作符。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add an optimizer selectivity function for <literal>@@</> text
        search operations (Jan Urbanski)
       </para>
-->
<para>
    为<literal>@@</>文本搜索操作添加优化选择函数(Jan Urbanski)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow prefix matching in full text searches (Teodor Sigaev,
        Oleg Bartunov)
       </para>
-->
<para>
    允许全文搜索中前缀匹配(Teodor Sigaev,Oleg Bartunov)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support multi-column <acronym>GIN</> indexes (Teodor Sigaev)
       </para>
-->
<para>
     支持多列<acronym>GIN</>索引(Teodor Sigaev)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Improve support for Nepali language and Devanagari alphabet (Teodor)
       </para>
-->
<para>
    改善支持Nepali语言和Devanagari字母(Teodor)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
     <title><command>VACUUM</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Track free space in separate per-relation <quote>fork</> files (Heikki)
       </para>
-->
<para>
   在单独每个关系<quote>fork</>文件中跟踪自由空间(Heikki)
</para>

       <!--
<para>
        Free space discovered by <command>VACUUM</> is now recorded in
        <filename>*_fsm</> files, rather than in a fixed-sized shared memory
        area.  The <varname>max_fsm_pages</> and <varname>max_fsm_relations</>
        settings have been removed, greatly simplifying administration of
        free space management.
       </para>
-->
<para>
     通过<command>VACUUM</>发现的自由空间在<filename>*_fsm</>文件中被记录，
 而不是在一个固定大小的共享存储器区域中。
 <varname>max_fsm_pages</>和<varname>max_fsm_relations</>设置已被移除，
 从而大大简化了自由空间管理。 
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add a visibility map to track pages that do not require
        vacuuming (Heikki)
       </para>
-->
<para>
    添加可见视图以跟踪不需要清理页面(Heikki)
</para>

       <!--
<para>
        This allows <command>VACUUM</> to avoid scanning all of
        a table when only a portion of the table needs vacuuming.
        The visibility map is stored in per-relation <quote>fork</> files.
       </para>
-->
<para>
     这允许<command>VACUUM</>以避免扫描所有表，
 只有表中的一部分需要清理的时候。可见视图被存储在每个关系<quote>fork</>文件。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <varname>vacuum_freeze_table_age</> parameter to control
        when <command>VACUUM</> should ignore the visibility map and
        do a full table scan to freeze tuples (Heikki)
       </para>
-->
<para>
      添加<varname>vacuum_freeze_table_age</>参数以控制
  当<command>VACUUM</>忽略可见视图并且执行全表扫描以冻结元组。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Track transaction snapshots more carefully (Alvaro)
       </para>
-->
<para>
      更仔细追踪事务快照(Alvaro)
</para>

       <!--
<para>
        This improves <command>VACUUM</>'s ability to reclaim space
        in the presence of long-running transactions.
       </para>
-->
<para>
     这提高了<command>VACUUM</>在长时间运行的事务中回收空间能力。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add ability to specify per-relation autovacuum and <acronym>TOAST</>
        parameters in <command>CREATE TABLE</> (Alvaro, Euler Taveira de
        Oliveira)
       </para>
--> 
<para>
    添加指定每个关系autovacuum以及<command>CREATE TABLE</>中<acronym>TOAST</>参数的能力(Alvaro, Euler Taveira de Oliveira)
</para>

       <!--
<para>
        Autovacuum options used to be stored in a system table.
       </para>
-->
<para>
   自动清理选项存储在系统表中。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <literal>&#045;-freeze</> option to <application>vacuumdb</>
        (Bruce)
       </para>
-->
<para>
   添加<literal>--freeze</>选项到<application>vacuumdb</>(Bruce)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
   <!--
    <title>Data Types</title>
 -->
    <title>数据类型</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Add a <literal>CaseSensitive</> option for text search synonym
       dictionaries (Simon)
      </para>
-->
<para>
    为文本搜索同义词词典添加<literal>CaseSensitive</>选项(Simon)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve the precision of <type>NUMERIC</> division (Tom)
      </para>
-->
<para>
    完善<type>NUMERIC</>划分精度(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add basic arithmetic operators for <type>int2</> with <type>int8</>
       (Tom)
      </para>
-->
<para>
    为<type>int2</>与<type>int8</>添加基础算术操作符(Tom)
</para>

      <!--
<para>
       This eliminates the need for explicit casting in some situations.
      </para>
-->
<para>
    这消除了在某些情况中显式投射需求。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <type>UUID</> input to accept an optional hyphen after
       every fourth digit (Robert Haas)
      </para>
-->
<para>
     允许<type>UUID</>输入在每四位后面接受可选的连字符(Robert Haas)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <literal>on</>/<literal>off</> as input for the boolean data type
       (Itagaki Takahiro)
      </para>
-->
<para>
    允许<literal>on</>/<literal>off</>作为布尔数据类型的输入(Itagaki Takahiro)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow spaces around <literal>NaN</> in the input string for
       type <type>numeric</> (Sam Mason)
      </para>
-->
<para>
   为类型<type>numeric</>在输入字符串中<literal>NaN</>周围允许空格(Sam Mason)
</para>
     </listitem>

    </itemizedlist>

    <sect4>
<!--
     <title>Temporal Data Types</title>
 -->
 <title>时间数据类型</title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Reject year <literal>0 BC</> and years <literal>000</> and
        <literal>0000</> (Tom)
       </para>
-->
<para>
    拒绝年<literal>0 BC</>以及<literal>000</>和<literal>0000</>(Tom)
</para>

       <!--
<para>
        Previously these were interpreted as <literal>1 BC</>.
        (Note: years <literal>0</> and <literal>00</> are still assumed to be
        the year 2000.)
       </para>
-->
<para>
    以前这些被解释为<literal>1 BC</>。（注意：年<literal>0</>和<literal>00</>仍然假定为2000。）
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Include <literal>SGT</> (Singapore time) in the default list of
        known time zone abbreviations (Tom)
       </para>
-->
<para>
     在已知时区缩写缺省列表中包含<literal>SGT</> (Singapore时间)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support <literal>infinity</> and <literal>-infinity</> as
        values of type <type>date</> (Tom)
       </para>
-->
<para>
     支持<literal>infinity</>和<literal>-infinity</>作为类型<type>date</>的值(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make parsing of <type>interval</> literals more standard-compliant
        (Tom, Ron Mayer)
       </para>
-->
<para>
    使得<type>interval</>文本解析更加遵循标准(Tom, Ron Mayer)
</para>

       <!--
<para>
        For example, <literal>INTERVAL '1' YEAR</> now does what it's
        supposed to.
       </para>
-->
<para>
     比如，<literal>INTERVAL '1' YEAR</>目前执行应该做的内容。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <type>interval</> fractional-seconds precision to be specified
        after the <literal>second</> keyword, for <acronym>SQL</> standard
        compliance (Tom)
       </para>
-->
<para>
    在<literal>second</>关键字之后，按照<acronym>SQL</>标准允许指定<type>interval</>分数秒精度(Tom)
</para>

       <!--
<para>
        Formerly the precision had to be specified after the keyword
        <type>interval</>.  (For backwards compatibility, this syntax is still
        supported, though deprecated.)  Data type definitions will now be
        output using the standard format.
       </para>
-->
<para>
        之前在关键字<type>interval</>之后指定精度。（为了向后兼容，这种语法仍
       支持，但不建议使用。）数据类型定义现在使用标准格式被输出。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support the <acronym>IS0 8601</> <type>interval</> syntax (Ron
        Mayer, Kevin Grittner)
       </para>
-->
<para>
     支持 <acronym>IS0 8601</> <type>interval</>语法(Ron Mayer, Kevin Grittner)
</para>

       <!--
<para>
        For example, <literal>INTERVAL 'P1Y2M3DT4H5M6.7S'</> is now
        supported.
       </para>
-->
<para>
   比如，现在支持<literal>INTERVAL 'P1Y2M3DT4H5M6.7S'</>。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <varname>IntervalStyle</> parameter
        which controls how <type>interval</> values are output (Ron Mayer)
       </para>
-->
<para>
   添加<varname>IntervalStyle</>参数以控制<type>interval</>值如何输出(Ron Mayer)
</para>

       <!--
<para>
        Valid values are:  <literal>postgres</>, <literal>postgres_verbose</>,
        <literal>sql_standard</>, <literal>iso_8601</>.  This setting also
        controls the handling of negative <type>interval</> input when only
        some fields have positive/negative designations.
       </para>
-->
<para>
    有效值是：<literal>postgres</>, <literal>postgres_verbose</>,
    <literal>sql_standard</>, <literal>iso_8601</>。
只有当一些字段有正/负名称的时候，该设置也控制负<type>interval</>输入的处理。 

</para>
      </listitem>

      <listitem>
       <!--
<para>
        Improve consistency of handling of fractional seconds in
        <type>timestamp</> and <type>interval</> output (Ron Mayer)
       </para>
-->
<para>
    在<type>timestamp</>和<type>interval</>输入中优化小数秒处理的一致性(Ron Mayer)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Arrays</title>
 -->
 <title>数组</title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Improve the handling of casts applied to <literal>ARRAY[]</>
        constructs, such as <literal>ARRAY[...]::integer[]</>
        (Brendan Jurd)
       </para>
-->
<para>
    优化适用于<literal>ARRAY[]</>结构映射处理，
比如<literal>ARRAY[...]::integer[]</>(Brendan Jurd)
</para>

       <!--
<para>
        Formerly <productname>PostgreSQL</> attempted to determine a data type
        for the <literal>ARRAY[]</> construct without reference to the ensuing
        cast.  This could fail unnecessarily in many cases, in particular when
        the <literal>ARRAY[]</> construct was empty or contained only
        ambiguous entries such as <literal>NULL</>.  Now the cast is consulted
        to determine the type that the array elements must be.
       </para>
-->
<para>
        之前<productname>PostgreSQL</>试图为<literal>ARRAY[]</>结构而不引用随后计算确定一个数据类型。
这在许多情况下可能失败，特别是当<literal>ARRAY[]</>构造是空的或仅包含不明确项如<literal>NULL</>的时候。
        现在协商该计算以确定该数组元素类型。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <acronym>SQL</>-syntax <type>ARRAY</> dimensions optional
        to match the <acronym>SQL</> standard (Peter)
       </para>
-->
<para>
    使得<acronym>SQL</>语法<type>ARRAY</>尺寸可选以匹配<acronym>SQL</>标准(Peter)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>array_ndims()</> to return the number
        of dimensions of an array (Robert Haas)
       </para>
-->
<para>
    添加<function>array_ndims()</>以返回数组维数(Robert Haas)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>array_length()</> to return the length
        of an array for a specified dimension (Jim Nasby, Robert
        Haas, Peter Eisentraut)
       </para>
-->
<para>
     添加<function>array_length()</>以返回指定维数数组长度(Jim Nasby, Robert Haas, Peter Eisentraut)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add aggregate function <function>array_agg()</>, which
        returns all aggregated values as a single array (Robert Haas,
        Jeff Davis, Peter)
       </para>
-->
<para>
    添加聚合函数<function>array_agg()</>作为一个数组返回所有聚合值(Robert Haas,Jeff Davis, Peter)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>unnest()</>, which converts an array to
        individual row values (Tom)
       </para>
-->
<para>
    添加<function>unnest()</>将一个数组转换为各行值(Tom)
</para>

       <!--
<para>
        This is the opposite of <function>array_agg()</>.
       </para>
-->
<para>
    这是<function>array_agg()</>的反面。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>array_fill()</> to create arrays initialized with
        a value (Pavel Stehule)
       </para>
-->
<para>
    添加<function>array_fill()</>以创建初始化值数组(Pavel Stehule)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>generate_subscripts()</> to simplify generating
        the range of an array's subscripts (Pavel Stehule)
       </para>
-->
<para>
    添加<function>generate_subscripts()</>以简化生成数组下标范围(Pavel Stehule)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Wide-Value Storage (<acronym>TOAST</>)</title>
-->
 <title>宽值存储(<acronym>TOAST</>)</title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Consider <acronym>TOAST</> compression on values as short as
        32 bytes (previously 256 bytes) (Greg Stark) 
       </para>
-->
<para>
    认为<acronym>TOAST</>压缩值和32字节一样短（之前256字节）(Greg Stark)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Require 25% minimum space savings before using <acronym>TOAST</>
        compression (previously 20% for small values and any-savings-at-all
        for large values) (Greg)
       </para>
-->
<para>
     使用<acronym>TOAST</>压缩之前要求最低25％的空间节省，（之前20％为小值并且任何存储为大值）(Greg)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Improve <acronym>TOAST</> heuristics for rows that have a mix of large
        and small toastable fields, so that we prefer to push large values out
        of line and don't compress small values unnecessarily (Greg, Tom)
       </para>
-->
<para>
        优化具有较大和较小toastable字段混合行的<acronym>TOAST</>启发式，
使我们更愿意使得较大值超出范围并且不压缩较小值(Greg, Tom)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
   <!--
    <title>Functions</title>
-->
    <title>函数</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Document that <function>setseed()</> allows values from
       <literal>-1</> to <literal>1</> (not just <literal>0</> to
       <literal>1</>), and enforce the valid range (Kris Jurka)
      </para>
-->
<para>
    <function>setseed()</>文件允许从<literal>-1</>到<literal>1</>的值（不只是<literal>0</>到<literal>1</>），
并且执行有效范围(Kris Jurka)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add server-side function <function>lo_import(filename, oid)</>
       (Tatsuo)
      </para>
-->
<para>
    添加服务器端函数<function>lo_import(filename, oid)</>(Tatsuo)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>quote_nullable()</>, which behaves like
       <function>quote_literal()</> but returns the string <literal>NULL</> for
       a null argument (Brendan Jurd)
      </para>
-->
<para>
    添加<function>quote_nullable()</>其操作类似于
<function>quote_literal()</>但为空参数返回字符串<literal>NULL</>(Brendan Jurd)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve full text search <function>headline()</> function to
       allow extracting several fragments of text (Sushant Sinha)
      </para>
-->
<para>
    优化全文本搜索<function>headline()</>函数以允许提取文本若干片段(Sushant Sinha)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>suppress_redundant_updates_trigger()</> trigger
       function to avoid overhead for non-data-changing updates (Andrew)
      </para>
-->
<para>
     添加<function>suppress_redundant_updates_trigger()</>触发器函数以避免
 无数据变化更新开销(Andrew)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>div(numeric, numeric)</> to perform <type>numeric</>
       division without rounding (Tom)
      </para>
-->
<para>
    添加<function>div(numeric, numeric)</>执行<type>numeric</>除法而没有四舍五入(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <type>timestamp</> and <type>timestamptz</> versions of
       <function>generate_series()</> (Hitoshi Harada)
      </para>
-->
<para>
     添加<function>generate_series()</>的<type>timestamp</>和<type>timestamptz</>版本(Hitoshi Harada)
</para>
     </listitem>

    </itemizedlist>

    <sect4>
<!--
     <title>Object Information Functions</title>
-->
 <title>对象信息函数</title>

     <itemizedlist>

      <listitem>
       <!--
<para>
        Implement <function>current_query()</> for use by functions
        that need to know the currently running query (Tomas Doran)
       </para>
-->
<para>
    通过需要知道当前正在运行的查询的函数实现<function>current_query()</>的使用(Tomas Doran)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>pg_get_keywords()</> to return a list of the
        parser keywords (Dave Page)
       </para>
-->
<para>
    添加<function>pg_get_keywords()</>返回解析关键字列表(Dave Page)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>pg_get_functiondef()</> to see a function's
        definition (Abhijit Menon-Sen)
       </para>
-->
<para>
    添加<function>pg_get_functiondef()</>查看函数的定义(Abhijit Menon-Sen)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow the second argument of <function>pg_get_expr()</> to be zero
        when deparsing an expression that does not contain variables (Tom)
       </para>
-->
<para>
     当解析不包含变量的表达式时，允许<function>pg_get_expr()</>第二个参数为零(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Modify <function>pg_relation_size()</> to use <literal>regclass</>
        (Heikki)
       </para>
-->
<para>
    修改<function>pg_relation_size()</>以使用<literal>regclass</>(Heikki)
</para>

       <!--
<para>
        <function>pg_relation_size(data_type_name)</> no longer works.
       </para>
-->
<para>
    <function>pg_relation_size(data_type_name)</>不再起作用。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <literal>boot_val</> and <literal>reset_val</> columns to
        <literal>pg_settings</> output (Greg Smith)
       </para>
-->
<para>
    添加<literal>boot_val</>和<literal>reset_val</>列到<literal>pg_settings</>输出(Greg Smith)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add source file name and line number columns to
        <literal>pg_settings</> output for variables set in a configuration
        file (Magnus, Alvaro)
       </para>
-->
<para>
    为配置文件中变量设置添加源文件名和行号列到<literal>pg_settings</>输出(Magnus, Alvaro)
</para>

       <!--
<para>
        For security reasons, these columns are only visible to superusers.
       </para>
-->
<para>
     出于安全原因，这些列只对超级用户可见。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add support for <varname>CURRENT_CATALOG</>,
        <varname>CURRENT_SCHEMA</>, <varname>SET CATALOG</>, <varname>SET
        SCHEMA</> (Peter)
       </para>
-->
<para>
    添加支持<varname>CURRENT_CATALOG</>,<varname>CURRENT_SCHEMA</>, <varname>SET CATALOG</>,
<varname>SET SCHEMA</>(Peter)
</para>

       <!--
<para>
        These provide <acronym>SQL</>-standard syntax for existing features.
       </para>
-->
<para>
    为存在特性提供<acronym>SQL</>标准语法。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>pg_typeof()</> which returns the data type
        of any value (Brendan Jurd)
       </para>
-->
<para>
     添加<function>pg_typeof()</>返回任何值的数据类型(Brendan Jurd)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <function>version()</> return information about whether
        the server is a 32- or 64-bit binary (Bruce)
       </para>
-->
<para>
    采取<function>version()</>返回有关服务器是否是32或者64位二进制信息(Bruce)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Fix the behavior of information schema columns
        <structfield>is_insertable_into</> and <structfield>is_updatable</> to
        be consistent (Peter)
       </para>
-->
<para>
    修复信息模式列<structfield>is_insertable_into</>和<structfield>is_updatable</>操作是一致的(Peter)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Improve the behavior of information schema
        <structfield>datetime_precision</> columns (Peter)
       </para>
-->
<para>
    改善信息模式<structfield>datetime_precision</>列的操作(Peter)  
</para>

       <!--
<para>
        These columns now show zero for <type>date</> columns, and 6
        (the default precision) for <type>time</>, <type>timestamp</>, and
        <type>interval</> without a declared precision, rather than showing
        null as formerly.
       </para>
-->
<para>
这些列为<type>date</>列显示为零并且<type>time</>，<type>timestamp</>以及
没有声明精度的<type>interval</>显示为6（默认精度），而不如以前一样显示为空。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Convert remaining builtin set-returning functions to use
        <literal>OUT</> parameters (Jaime Casanova)
       </para>
-->
<para>
    转换剩余内置集合返回函数使用<literal>OUT</>参数(Jaime Casanova)
</para>

       <!--
<para>
        This makes it possible to call these functions without specifying
        a column list:  <function>pg_show_all_settings()</>,
        <function>pg_lock_status()</>, <function>pg_prepared_xact()</>,
        <function>pg_prepared_statement()</>, <function>pg_cursor()</>
       </para>
-->
<para>
    这使得它可以调用没有指定列表的函数：<function>pg_show_all_settings()</>,
        <function>pg_lock_status()</>, <function>pg_prepared_xact()</>,
        <function>pg_prepared_statement()</>, <function>pg_cursor()</>
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <function>pg_*_is_visible()</> and
        <function>has_*_privilege()</> functions return <literal>NULL</>
        for invalid OIDs, rather than reporting an error (Tom) 
       </para> 
-->
<para>
   采用<function>pg_*_is_visible()</>和<function>has_*_privilege()</>为无效OID返回<literal>NULL</>，而不是抛出错误(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Extend <function>has_*_privilege()</> functions to allow inquiring
        about the OR of multiple privileges in one call (Stephen
        Frost, Tom)
       </para>
-->
<para>
   扩展<function>has_*_privilege()</>函数以允许查询一个调用中多特权的OR(Stephen Frost, Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <function>has_column_privilege()</> and
        <function>has_any_column_privilege()</> functions (Stephen
        Frost, Tom)
       </para>
-->
<para>
    添加<function>has_column_privilege()</>和<function>has_any_column_privilege()</>函数(Stephen Frost, Tom)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Function Creation</title>
-->
 <title>函数创建</title>

     <itemizedlist>

      <listitem>
       <!--
<para>
        Support variadic functions (functions with a variable number
        of arguments) (Pavel Stehule)
       </para>
-->
<para>
     支持可变参数的函数（带有参数可变数量的函数）(Pavel Stehule)
</para>

       <!--
<para>
        Only trailing arguments can be optional, and they all must be
        of the same data type.
       </para>
-->
<para>
     只有尾随参数是可选的，它们都必须是相同的数据类型。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support default values for function arguments (Pavel Stehule)
       </para>
-->
<para>
    支持函数参数的缺省值(Pavel Stehule)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <command>CREATE FUNCTION ... RETURNS TABLE</> clause (Pavel
        Stehule)
       </para>
-->
<para>
     添加<command>CREATE FUNCTION ... RETURNS TABLE</>子句(Pavel Stehule)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <acronym>SQL</>-language functions to return the output
        of an <command>INSERT</>/<command>UPDATE</>/<command>DELETE</>
        <literal>RETURNING</> clause (Tom)
       </para>
-->
<para>
    允许<acronym>SQL</>语言函数返回<command>INSERT</>/<command>UPDATE</>/<command>DELETE</>
<literal>RETURNING</>子句的输出(Tom)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>PL/pgSQL Server-Side Language</title>
-->
 <title>PL/pgSQL服务器端语言</title>
 
     <itemizedlist>

      <listitem>
       <!--
<para>
        Support <literal>EXECUTE USING</> for easier insertion of data
        values into a dynamic query string (Pavel Stehule)
       </para>
-->
<para>
    为了更容易地将数据值插入到动态查询字符串中支持<literal>EXECUTE USING</>(Pavel Stehule)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow looping over the results of a cursor using a <literal>FOR</>
        loop (Pavel Stehule)
       </para>
-->
<para>
     允许循环使用<literal>FOR</>循环游标结果(Pavel Stehule)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support <literal>RETURN QUERY EXECUTE</> (Pavel
        Stehule)
       </para>
-->
<para>
       支持<literal>RETURN QUERY EXECUTE</> (Pavel Stehule)
</para>
      </listitem>

      <listitem>
       
<para>
       <!--
        Improve the <literal>RAISE</> command (Pavel Stehule)
       -->
    优化<literal>RAISE</>命令(Pavel Stehule)
   
        <itemizedlist>
         <listitem>
          <para>
  <!--
           Support <literal>DETAIL</> and <literal>HINT</> fields
   -->
   支持<literal>DETAIL</>和<literal>HINT</>字段
          </para>

         </listitem>
         <listitem>
          <!--
<para>
           Support specification of the <literal>SQLSTATE</> error code
          </para>
-->
<para>
     支持<literal>SQLSTATE</>错误代码规范
</para>
         </listitem>
         <listitem>
          <!--
<para>
           Support an exception name parameter
          </para>
-->
<para>
      支持异常名字参数
</para>
         </listitem>
         <listitem>
          <!--
<para>
           Allow <literal>RAISE</> without parameters in an exception
           block to re-throw the current error
          </para>
-->
<para>
      允许异常块中无参数<literal>RAISE</>重新抛出当前错误
</para>
         </listitem>
        </itemizedlist>
       </para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow specification of <varname>SQLSTATE</> codes
        in <literal>EXCEPTION</> lists (Pavel Stehule)
       </para>
-->
<para>
     允许<literal>EXCEPTION</>列表中<varname>SQLSTATE</>代码规范(Pavel Stehule)
</para>

       <!--
<para>
        This is useful for handling custom <varname>SQLSTATE</> codes.
       </para>
-->
<para>
     这对于处理自定义<varname>SQLSTATE</>代码非常有用。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support the <literal>CASE</> statement (Pavel Stehule)
       </para>
-->
<para>
     支持<literal>CASE</>语句(Pavel Stehule)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>RETURN QUERY</> set the special <literal>FOUND</> and
        <command>GET DIAGNOSTICS</> <literal>ROW_COUNT</> variables
        (Pavel Stehule)
       </para>
-->
<para>
    使用<command>RETURN QUERY</>设置特殊的<literal>FOUND</>和
    <command>GET DIAGNOSTICS</> <literal>ROW_COUNT</>变量(Pavel Stehule)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>FETCH</> and <command>MOVE</> set the
        <command>GET DIAGNOSTICS</> <literal>ROW_COUNT</> variable
        (Andrew Gierth)
       </para>
-->
<para>
     使用<command>FETCH</>和<command>MOVE</>设置
        <command>GET DIAGNOSTICS</> <literal>ROW_COUNT</>变量(Andrew Gierth)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>EXIT</> without a label always exit the innermost
        loop (Tom)
       </para>
-->
<para>
    使用没有标签的<command>EXIT</>总是退出最内层循环(Tom)
</para>

       <!--
<para>
        Formerly, if there were a <literal>BEGIN</> block more closely nested
        than any loop, it would exit that block instead.  The new behavior
        matches Oracle(TM) and is also what was previously stated by our own
        documentation.
       </para>
-->
<para>
       之前，如果有一个<literal>BEGIN</>块比任何环路更加紧密的嵌套，
将退出该块。新的操作匹配Oracle(TM)并且也正如通过自身文档所讲述的。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make processing of string literals and nested block comments
        match the main SQL parser's processing (Tom)
       </para>
-->
<para>
   使得字符串文本处理和嵌套块注释匹配主SQL解析器的处理(Tom)
</para>

       <!--
<para>
        In particular, the format string in <command>RAISE</> now works
        the same as any other string literal, including being subject
        to <varname>standard_conforming_strings</>.  This change also
        fixes other cases in which valid commands would fail when
        <varname>standard_conforming_strings</> is on.
       </para>
-->
<para>
   特别是，在<command>RAISE</>中格式字符串执行与任何其他字符串文本一样的操作，
   包含从属于<varname>standard_conforming_strings</>。当<varname>standard_conforming_strings</>为on的时候，
   这种变化也修复了有效命令失败的情况。 
   
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Avoid memory leakage when the same function is called at varying
        exception-block nesting depths (Tom)
       </para>
-->
<para>
     当在不同异常块嵌套深度中调用同一函数的时候，避免内存泄露(Tom)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
   <!--
    <title>Client Applications</title>
   -->
   <title>客户端应用</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Fix <literal>pg_ctl restart</> to preserve command-line arguments
       (Bruce)
      </para>
-->
<para>
     修复<literal>pg_ctl restart</>保存命令行参数(Bruce)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <literal>-w</>/<literal>&#045;-no-password</> option that
       prevents password prompting in all utilities that have a
       <literal>-W</>/<literal>&#045;-password</> option (Peter)
      </para>
-->
<para>
     添加<literal>-w</>/<literal>--no-password</>选项防止在具有<literal>-W</>/<literal>--password</>
 选项实用程序中的密码提示(Peter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove <option>-q</> (quiet) option of <application>createdb</>,
       <application>createuser</>, <application>dropdb</>,
       <application>dropuser</> (Peter)
      </para>
-->
<para>
       删除<application>createdb</>,
       <application>createuser</>, <application>dropdb</>,
       <application>dropuser</>中的<option>-q</> (默默的)选项(Peter)
</para>

      <!--
<para>
       These options have had no effect since <productname>PostgreSQL</>
       8.3.
      </para>
-->
<para>
     这些选项不起作用因为<productname>PostgreSQL</> 8.3。
</para>
     </listitem>

    </itemizedlist>

    <sect4>
     <title><application>psql</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Remove verbose startup banner; now just suggest <literal>help</>
        (Joshua Drake)
       </para>
-->
<para>
     删除详细的启动标志，目前建议<literal>help</>(Joshua Drake)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <literal>help</> show common backslash commands (Greg
        Sabino Mullane)
       </para>
-->
<para>
   使用<literal>help</>显示常见的反斜杠命令(Greg Sabino Mullane)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <literal>\pset format wrapped</> mode to wrap output to the
        screen width, or file/pipe output too if <literal>\pset columns</>
        is set (Bryce Nesbitt)
       </para>
-->
<para>
    添加<literal>\pset格式包</>模式来包装输出到屏幕宽度，
或者文件/管道输出，如果设置<literal>\pset列</>(Bryce Nesbitt)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow all supported spellings of boolean values in <command>\pset</>,
        rather than just <literal>on</> and <literal>off</> (Bruce)
       </para>
-->
<para>
     允许<command>\pset</>中布尔值的所有支持的拼写，而不仅仅<literal>on</>和<literal>off</> (Bruce)
</para>

       <!--
<para>
        Formerly, any string other than <quote>off</> was silently taken
        to mean <literal>true</>.  <application>psql</> will now complain
        about unrecognized spellings (but still take them as <literal>true</>).
       </para>
-->
<para>
    之前，除了<quote>off</>外的任何字符串默默地认为<literal>true</>。
<application>psql</>抱怨无法识别的拼写（但是仍然认为<literal>true</>）。 
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Use the pager for wide output (Bruce)
       </para>
-->
<para>
    使用宽输出分页程序(Bruce)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Require a space between a one-letter backslash command and its first
        argument (Bernd Helmle)
       </para>
-->
<para>
   在一个字母反斜杠命令和它的第一个参数之间需要一个空格(Bernd Helmle)
</para>

       <!--
<para>
        This removes a historical source of ambiguity.
       </para>
-->
<para>
     这消除了有歧义的历史渊源。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Improve tab completion support for schema-qualified and
        quoted identifiers (Greg Sabino Mullane)
       </para>
-->
<para>
    改善标签完整支持模式修饰以及带引号标识符(Greg Sabino Mullane) 
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add optional <literal>on</>/<literal>off</> argument for
        <command>\timing</> (David Fetter)
       </para>
-->
<para>
    为<command>\timing</>添加可选的<literal>on</>/<literal>off</>参数(David Fetter)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Display access control rights on multiple lines (Brendan
        Jurd, Andreas Scherbaum)
       </para>
-->
<para>
     显示多行上的访问控制权(Brendan Jurd, Andreas Scherbaum)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>\l</> show database access privileges (Andrew Gilligan)
       </para>
-->
<para>
     使用<command>\l</>显示数据库访问权限(Andrew Gilligan)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>\l+</> show database sizes, if permissions
        allow (Andrew Gilligan)
       </para>
-->
<para>
    使用<command>\l+</>显示数据库大小，如果权限允许(Andrew Gilligan)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add the <command>\ef</> command to edit function definitions
        (Abhijit Menon-Sen)
       </para>
-->
<para>
    添加<command>\ef</>命令编辑函数定义(Abhijit Menon-Sen)
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title><application>psql</> \d* commands</title>
-->
 <title><application>psql</> \d* 命令</title>

     <itemizedlist>

      <listitem>
       <!--
<para>
        Make <command>\d*</> commands that do not have a pattern argument
        show system objects only if the <literal>S</> modifier is specified
        (Greg Sabino Mullane, Bruce)
       </para>
-->
<para>
   使得没有模式参数的<command>\d*</>命令显示系统对象，
   只有当指定<literal>S</>修饰语的时候(Greg Sabino Mullane, Bruce)
</para>

       <!--
<para>
        The former behavior was inconsistent across different variants
        of <command>\d</>, and in most cases it provided no easy way to see
        just user objects.
       </para>
-->
<para>
    前者操作与<command>\d</>不同形式不一致，并且在大多数情况下它没有提供简单方法查看
用户对象。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Improve <command>\d*</> commands to work with older
        <productname>PostgreSQL</> server versions (back to 7.4),
        not only the current server version
        (Guillaume Lelarge)
       </para>
-->
<para>
     完善与旧的<productname>PostgreSQL</>服务器版本一起执行（追溯到7.4）的<command>\d*</>命令，
 而不仅仅是当前服务器版本(Guillaume Lelarge)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>\d</> show foreign-key constraints that reference
        the selected table (Kenneth D'Souza)
       </para>
-->
<para>
     使用<command>\d</>显示引用已选择表的外键约束(Kenneth D'Souza)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>\d</> on a sequence show its column values
        (Euler Taveira de Oliveira)
       </para>
-->
<para>
    在序列上使用<command>\d</>显示列值(Euler Taveira de Oliveira)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add column storage type and other relation options to the
        <command>\d+</> display (Gregory Stark, Euler Taveira de
        Oliveira)
       </para>
-->
<para>
    添加列存储类型和其他关系选项到<command>\d+</>显示中(Gregory Stark, Euler Taveira de Oliveira)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Show relation size in <command>\dt+</> output (Dickson S.
        Guedes)
       </para>
-->
<para>
   显示<command>\dt+</>输出中关系大小(Dickson S. Guedes)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Show the possible values of <literal>enum</> types in <command>\dT+</>
        (David Fetter)
       </para>
-->
<para>
   显示<command>\dT+</>中<literal>enum</>类型可能值(David Fetter)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <command>\dC</> to accept a wildcard pattern, which matches
        either datatype involved in the cast (Tom)
       </para>
-->
<para>
    允许<command>\dC</>接受通配符模式，这可以匹配涉及到投射的数据类型(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add a function type column to <command>\df</>'s output, and add
        options to list only selected types of functions (David Fetter)
       </para>
-->
<para>
     添加函数类型列到<command>\df</>的输出，并且添加选项只列出函数所选类型(David Fetter)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <command>\df</> not hide functions that take or return
        type <type>cstring</> (Tom)
       </para>
-->
<para>
   <command>\df</>不隐藏使用或者返回类型<type>cstring</>的函数(Tom)
</para>

       <!--
<para>
        Previously, such functions were hidden because most of them are
        datatype I/O functions, which were deemed uninteresting.  The new
        policy about hiding system functions by default makes this wart
        unnecessary.
       </para>
-->
<para>
     此前，这种函数被隐藏，因为他们大多是数据类型I/O函数，这被认为是没有意义的。
 默认情况下有关隐藏系统函数的新策略使得该缺点不必要的。 
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
     <title><application>pg_dump</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Add a <literal>&#045;-no-tablespaces</> option to
        <application>pg_dump</>/<application>pg_dumpall</>/<application>pg_restore</>
        so that dumps can be restored to clusters that have non-matching
        tablespace layouts (Gavin Roy)
       </para>
-->
<para>
    添加<literal>--no-tablespaces</>选项到<application>pg_dump</>/<application>pg_dumpall</>/<application>pg_restore</>
这样转储可以恢复到具有非匹配表空间层次的集群中(Gavin Roy)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Remove <option>-d</> and <option>-D</> options from
        <application>pg_dump</> and <application>pg_dumpall</> (Tom)
       </para>
-->
<para>
    从<application>pg_dump</>和<application>pg_dumpall</>中删除<option>-d</>和<option>-D</>选项(Tom) 
</para>

       <!--
<para>
        These options were too frequently confused with the option to
        select a database name in other <productname>PostgreSQL</>
        client applications.  The functionality is still available,
        but you must now spell out the long option name
        <option>&#045;-inserts</> or <option>&#045;-column-inserts</>.
       </para>
-->
<para>
    这些选项不应该过于频繁地与在其它<productname>PostgreSQL</>客户端应用程序中选择数据库名称的选项混淆。
该功能仍然可用，
但你现在必须拼写出长选项名称<option>--inserts</>或者<option>--column-inserts</>。

</para>
      </listitem>

      <listitem>
       <!--
<para>
        Remove <option>-i</>/<option>&#045;-ignore-version</> option from
        <application>pg_dump</> and <application>pg_dumpall</> (Tom)
       </para>
-->
<para>
    从<application>pg_dump</>和<application>pg_dumpall</>中删除<option>-i</>/<option>--ignore-version</>选项(Tom)
</para>

       <!--
<para>
        Use of this option does not throw an error, but it has no
        effect.  This option was removed because the version checks
        are necessary for safety.
       </para>
-->
<para>
     使用此选项不会抛出一个错误，但它没有效果。
 该选项被移除，因为版本检查对安全性是必要的。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Disable <varname>statement_timeout</> during dump and restore
        (Joshua Drake)
       </para>
-->
<para>
    在转储和恢复中禁用<varname>statement_timeout</>(Joshua Drake) 
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <application>pg_dump</>/<application>pg_dumpall</> option
        <option>&#045;-lock-wait-timeout</> (David Gould)
       </para>
-->
<para>
     添加<application>pg_dump</>/<application>pg_dumpall</>选项<option>--lock-wait-timeout</> (David Gould)
</para>

       <!--
<para>
        This allows dumps to fail if unable to acquire a shared lock
        within the specified amount of time.
       </para>
-->
<para>
    如果在指定时间内无法获取共享锁，那么转储失败。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Reorder <application>pg_dump</> <literal>&#045;-data-only</> output
        to dump tables referenced by foreign keys before
        the referencing tables (Tom)
       </para>
-->
<para>
    重新排序<application>pg_dump</> <literal>--data-only</>输出
用来转储在引用表之前通过外键参考的表(Tom) 
</para>

       <!--
<para>
        This allows data loads when foreign keys are already present.
        If circular references make a safe ordering impossible, a
        <literal>NOTICE</> is issued.
       </para>
-->
<para>
     当外键存在的时候，允许数据加载。如果循环引用采用一个不可能的安全排序，
 发出<literal>NOTICE</>。  
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <application>pg_dump</>, <application>pg_dumpall</>, and
        <application>pg_restore</> to use a specified role (Benedek
        L&aacute;szl&oacute;)
       </para>
-->
<para>
    允许<application>pg_dump</>, <application>pg_dumpall</>和<application>pg_restore</>使用指定用户(Benedek L&aacute;szl&oacute;)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow <application>pg_restore</> to use multiple concurrent
        connections to do the restore (Andrew)
       </para>
-->
<para>
     允许<application>pg_restore</>使用多个并发连接执行恢复(Andrew)
</para>

       <!--
<para>
        The number of concurrent connections is controlled by the option
        <literal>&#045;-jobs</>.  This is supported only for custom-format archives.
       </para>
-->
<para>
    通过选项<literal>--jobs</>来控制连接数。这仅仅支持自定义格式归档。
</para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
   <!--
    <title>Programming Tools</title>
   -->
     <title>编程工具</title>

    <sect4>
     <title><application>libpq</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Allow the <type>OID</> to be specified when importing a large
        object, via new function <function>lo_import_with_oid()</> (Tatsuo)
       </para>
-->
<para>
     当通过新函数<function>lo_import_with_oid()</>导入大对象的时候，允许指定<type>OID</>(Tatsuo)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add <quote>events</> support (Andrew Chernow, Merlin Moncure)
       </para>
-->
<para>
     添加<quote>events</>支持(Andrew Chernow, Merlin Moncure)
</para>

       <!--
<para>
        This adds the ability to register callbacks to manage private
        data associated with <structname>PGconn</> and <structname>PGresult</>
        objects.
       </para>
-->
<para>
    这添加了注册回调能力来管理联系<structname>PGconn</>和<structname>PGresult</>对象的私有数据。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Improve error handling to allow the return of multiple
        error messages as multi-line error reports (Magnus)
       </para>
-->
<para>
     优化错误处理以允许多个错误消息的返回作为多行错误报告(Magnus)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <function>PQexecParams()</> and related functions return
        <varname>PGRES_EMPTY_QUERY</> for an empty query (Tom)
       </para>
-->
<para>
     采用<function>PQexecParams()</>和相关函数为空查询返回<varname>PGRES_EMPTY_QUERY</>(Tom)
</para>

       <!--
<para>
        They previously returned <varname>PGRES_COMMAND_OK</>.
       </para>
-->
<para>
     之前返回<varname>PGRES_COMMAND_OK</>。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Document how to avoid the overhead of <function>WSACleanup()</>
        on Windows (Andrew Chernow)
       </para>
-->
<para>
      记录Windows上如何避免<function>WSACleanup()</>的开销(Andrew Chernow)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Do not rely on Kerberos tickets to determine the default database
        username (Magnus)
       </para>
-->
<para>
    不依赖于Kerberos来决定缺省数据库用户名(Magnus)
</para>

       <!--
<para>
        Previously, a Kerberos-capable build of libpq would use the
        principal name from any available Kerberos ticket as default
        database username, even if the connection wasn't using Kerberos
        authentication.  This was deemed inconsistent and confusing.
        The default username is now determined the same way with or
        without Kerberos.  Note however that the database username must still
        match the ticket when Kerberos authentication is used.
       </para>
-->
<para>
    之前，libpq的Kerberos编译将使用从任何可用的Kerberos标签作为缺省数据库用户名的主体名称，
即使连接没有使用Kerberos认证。
这被认为是不一致而且混乱的。
有或没有Kerberos同样的方式决定缺省用户名。  
然而，当使用Kerberos身份验证的时候，需要注意的是数据库用户名必须匹配该标签。 
</para>
      </listitem> 
     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title><application>libpq</> <acronym>SSL</> (Secure Sockets Layer)
      support</title>
-->
<title><application>libpq</> <acronym>SSL</> (安全套接层)支持</title>
  
     <itemizedlist>

      <listitem>
       <!--
<para>
        Fix certificate validation for <acronym>SSL</> connections
        (Magnus)
       </para>
-->
<para>
    修复<acronym>SSL</>连接的证书验证(Magnus)
</para>

       <!--
<para>
        <application>libpq</> now supports verifying both the certificate
        and the name of the server when making <acronym>SSL</>
        connections. If a root certificate is not available to use for
        verification, <acronym>SSL</> connections will fail. The
        <literal>sslmode</> parameter is used to enable certificate
        verification and set the level of checking.
        The default is still not to do any verification, allowing connections
        to SSL-enabled servers without requiring a root certificate on the
        client.
       </para>
-->
<para>
     <application>libpq</>现在支持验证两种证书
和<acronym>SSL</>连接时服务器的名称。
如果根证书不可用于验证，那么<acronym>SSL</>连接失败。
<literal>sslmode</>参数用于启用证书验证，并设置检查水平。
默认值还没有做任何验证，允许连接到不需要客户端根证书的SSL启用服务器中。
????????
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Support wildcard server certificates (Magnus)
       </para>
-->
<para>
     支持通配符服务器证书(Magnus)
</para>

       <!--
<para>
        If a certificate <acronym>CN</> starts with <literal>*</>, it will
        be treated as a wildcard when matching the hostname, allowing the
        use of the same certificate for multiple servers.
       </para>
-->
<para>
     如果证书<acronym>CN</>以<literal>*</>开头，它将被视为一个通配符，当匹配hostname的时候，
 允许多个服务器同一证书的使用。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Allow the file locations for client certificates to be specified
        (Mark Woodward, Alvaro, Magnus)
       </para>
-->
<para>
     允许文件位置指定客户端证书(Mark Woodward, Alvaro, Magnus)  
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add a <function>PQinitOpenSSL</> function to allow greater control
        over OpenSSL/libcrypto initialization (Andrew Chernow)
       </para>
-->
<para>
     增加<function>PQinitOpenSSL</>函数允许更大控制OpenSSL/libcrypto初始化(Andrew Chernow)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Make <application>libpq</> unregister its <application>OpenSSL</>
        callbacks when no database connections remain open
        (Bruce, Magnus, Russell Smith)
       </para>
-->
<para>
    当没有数据库连接保持打开的时候，
使用<application>libpq</>注销它的<application>OpenSSL</>回调(Bruce, Magnus, Russell Smith)
</para>

       <!--
<para>
        This is required for applications that unload the libpq library,
        otherwise invalid <application>OpenSSL</> callbacks will remain.
       </para>
-->
<para>
      卸载libpq库的应用程序是必须的，否则无效的<application>OpenSSL</>回调将保持不变。
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
     <title><application>ecpg</></title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Add localization support for messages (Euler Taveira de
        Oliveira)
       </para>
-->
<para>
   添加信息本地化支持(Euler Taveira de Oliveira)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        ecpg parser is now automatically generated from the server
        parser (Michael)
       </para>
-->
<para>
    从服务器解析器自动生成ecpg解析器(Michael)
</para>

       <!--
<para>
        Previously the ecpg parser was hand-maintained.
       </para>
-->
<para> 
    之前ecpg解析器手动维护。
</para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Server Programming Interface (<acronym>SPI</>)</title>
-->
 <title>服务器编程接口(<acronym>SPI</>)</title>
     <itemizedlist>

      <listitem>
       <!--
<para>
        Add support for single-use plans with out-of-line
        parameters (Tom)
       </para>
-->
<para>
    添加超出行参数的单一使用规划(Tom)
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Add new <varname>SPI_OK_REWRITTEN</> return code for
        <function>SPI_execute()</> (Heikki)
       </para>
-->
<para>
   添加新的<varname>SPI_OK_REWRITTEN</>返回<function>SPI_execute()</>代码(Heikki)
</para>

       <!--
<para>
        This is used when a command is rewritten to another type of
        command.
       </para>
-->
<para>
   当命令被重写为命令的另一种类型的时候使用它。
</para>
      </listitem>

      <listitem>
       <!--
<para>
        Remove unnecessary inclusions from <filename>executor/spi.h</> (Tom)
       </para>
-->
<para>
   从<filename>executor/spi.h</>中删除不必要内含物(Tom)
</para>

       <!--
<para>
        SPI-using modules might need to add some <literal>#include</>
        lines if they were depending on <filename>spi.h</> to include
        things for them.
       </para>
-->
<para>
   如果它们依赖<filename>spi.h</>包含它们需要的东西，
   SPI使用模块可能需要添加一些<literal>#include</>行。   
   
</para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
   <!--
    <title>Build Options</title>
   -->
   <title>编译选项</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Update build system to use <productname>Autoconf</> 2.61 (Peter)
      </para>
-->
<para>
   使用<productname>Autoconf</> 2.61更新编译系统(Peter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Require <productname>GNU bison</> for source code builds (Peter)
      </para>
-->
<para>
    源码编译需要<productname>GNU bison</>(Peter) 
</para>

      <!--
<para>
       This has effectively been required for several years, but now there
       is no infrastructure claiming to support other parser tools.
      </para>
-->
<para>
  这个有效的使用了许多年，但是现在没有基础设施声明支持其它解析工具。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <application>pg_config</> <literal>&#045;-htmldir</> option
       (Peter)
      </para>
-->
<para>
  添加<application>pg_config</> <literal>--htmldir</>选项(Peter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Pass <type>float4</> by value inside the server (Zoltan
       Boszormenyi)
      </para>
-->
<para>
   通过内部服务器传递<type>float4</>值(Zoltan Boszormenyi) 
</para>

      <!--
<para>
       Add <application>configure</> option
       <literal>&#045;-disable-float4-byval</> to use the old behavior.
       External C functions that use old-style (version 0) call convention
       and pass or return <type>float4</> values will be broken by this
       change, so you may need the <application>configure</> option if you
       have such functions and don't want to update them.
      </para>
-->
<para>
     添加<application>configure</>选项<literal>--disable-float4-byval</>以使用旧操作。
使用旧式（版本0）的外部C函数调用约定
并通过这个改变打破传递或者返回<type>float4</>值，
如果你具有这样的函数，并且不想更新它们，
所以你可能需要<application>configure</>选项。 
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Pass <type>float8</>, <type>int8</>, and related datatypes
       by value inside the server on 64-bit platforms (Zoltan Boszormenyi)
      </para>
-->
<para>
  通过64位平台上内部服务器传递<type>float8</>, <type>int8</>和相关数据类型值(Zoltan Boszormenyi) 
</para>

      <!--
<para>
       Add <application>configure</> option
       <literal>&#045;-disable-float8-byval</> to use the old behavior.
       As above, this change might break old-style external C functions.
      </para>
-->
<para>
   添加<application>configure</>选项<literal>--disable-float8-byval</>用来使用旧的操作。如上所述，
   该变化可能打破旧形式外部C函数。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add configure options <literal>&#045;-with-segsize</>,
       <literal>&#045;-with-blocksize</>, <literal>&#045;-with-wal-blocksize</>,
       <literal>&#045;-with-wal-segsize</> (Zdenek Kotala, Tom)
      </para>
-->
<para>
  添加配置选项<literal>--with-segsize</>,
  <literal>--with-blocksize</>, <literal>--with-wal-blocksize</>,
  <literal>--with-wal-segsize</> (Zdenek Kotala, Tom)
</para>

      <!--
<para>
       This simplifies build-time control over several constants that
       previously could only be changed by editing
       <filename>pg_config_manual.h</>.
      </para>
-->
<para>
    这简化了编译时控制之前只能通过编辑<filename>pg_config_manual.h</>来改变的几个常数。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow threaded builds on <productname>Solaris</> 2.5 (Bruce)
      </para>
-->
<para>
允许在<productname>Solaris</> 2.5上线程编译(Bruce)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Use the system's <function>getopt_long()</> on <productname>Solaris</>
       (Zdenek Kotala, Tom)
      </para>
-->
<para>
    在<productname>Solaris</>上使用系统的<function>getopt_long()</>(Zdenek Kotala, Tom)
</para>

      <!--
<para>
       This makes option processing more consistent with what Solaris users
       expect.
      </para>
-->
<para>
  这使得选项处理与Solaris用户期望的更加一致。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for the <productname>Sun Studio</> compiler on
       <productname>Linux</> (Julius Stroffek)
      </para>
-->
<para>
   添加<productname>Linux</>上<productname>Sun Studio</>编译器支持(Julius Stroffek)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Append the major version number to the backend <application>gettext</>
       domain, and the <literal>soname</> major version number to
       libraries' <application>gettext</> domain (Peter)
      </para>
-->
<para>
追加主版本号到后端<application>gettext</>域，而<literal>soname</>主版本号
到库的<application>gettext</>域(Peter)
</para>

      <!--
<para>
       This simplifies parallel installations of multiple versions.
      </para>
-->
<para>
    这简化了多个版本并行安装。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for code coverage testing with <application>gcov</>
       (Michelle Caisse)
      </para>
-->
<para>
    允许支持<application>gcov</>代码覆盖测试(Michelle Caisse)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow out-of-tree builds on <productname>Mingw</> and
       <productname>Cygwin</> (Richard Evans)
      </para>
-->
<para>
   允许在<productname>Mingw</>和<productname>Cygwin</>上树外编译(Richard Evans)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix the use of <productname>Mingw</> as a cross-compiling source
       platform (Peter)
      </para>
-->
<para>
   修复作为交叉编译源平台<productname>Mingw</>的使用(Peter)
</para>
     </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
   <!--
    <title>Source Code</title>
   -->
     <title>源代码</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Support 64-bit time zone data files (Heikki)
      </para>
-->
<para>
   支持64位时区数据文件(Heikki)
</para>

      <!--
<para>
       This adds support for daylight saving time (<acronym>DST</>)
       calculations beyond the year 2038.
      </para>
-->
<para>
    这添加支持超出2038年夏令时(<acronym>DST</>)计算。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Deprecate use of platform's <type>time_t</> data type (Tom)
      </para>
-->
<para>
     不赞成平台的<type>time_t</>数据类型的使用(Tom)
</para>

      <!--
<para>
       Some platforms have migrated to 64-bit <type>time_t</>, some have
       not, and Windows can't make up its mind what it's doing.  Define
       <type>pg_time_t</> to have the same meaning as <type>time_t</>,
       but always be 64 bits (unless the platform has no 64-bit integer type),
       and use that type in all module APIs and on-disk data formats.
      </para>
-->
<para>
有些平台已经迁移到64位<type>time_t</>，
有些不能，Windows无法下定决心它在做什么。
定义<type>pg_time_t</>和<type>time_t</>具有相同的含义，
但始终是64位（除非该平台不具有64位整数类型），
并且使用所有模块API中的类型和磁盘上的数据格式。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix bug in handling of the time zone database when cross-compiling
       (Richard Evans)
      </para>
-->
<para>
    当交叉编译的时候，修复时区数据库处理中错误(Richard Evans)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Link backend object files in one step, rather than in stages
       (Peter)
      </para>
-->
<para>
    在一个步骤中连接后端对象文件，而不是一个阶段中(Peter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve <application>gettext</> support to allow better translation
       of plurals (Peter)
      </para>
-->
<para>
   完善<application>gettext</>支持以便复数的更好转化(Peter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add message translation support to the PL languages (Alvaro, Peter)
      </para>
-->
<para>
    添加PL语言的信息翻译支持(Alvaro, Peter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add more <application>DTrace</> probes (Robert Lor)
      </para>
-->
<para>
    添加更多<application>DTrace</>探测(Robert Lor)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Enable <application>DTrace</> support on <application>Mac OS X
       Leopard</> and other non-Solaris platforms (Robert Lor)
      </para>
-->
<para>
    启用<application>Mac OS X Leopard</>以及其它非Solaris平台上的<application>DTrace</>支持(Robert Lor) 
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Simplify and standardize conversions between C strings and
       <type>text</> datums, by providing common functions for the purpose
       (Brendan Jurd, Tom)
      </para>
-->
<para>
    简化并且标准化C字符串和<type>text</>数据之间转换，出于此目的提供普通函数(Brendan Jurd, Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Clean up the <filename>include/catalog/</> header files so that
       frontend programs can include them without including
       <filename>postgres.h</>
       (Zdenek Kotala)
      </para>
-->
<para>
     清理<filename>include/catalog/</>头文件以致于前端程序包含它们而不包含<filename>postgres.h</>(Zdenek Kotala)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <type>name</> char-aligned, and suppress zero-padding of
       <type>name</> entries in indexes (Tom)
      </para>
-->
<para>
    采取<type>name</>字符对齐，并且抑制索引中<type>name</>项的零填充(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Recover better if dynamically-loaded code executes <function>exit()</>
       (Tom)
      </para>
-->
<para>
    如果动态加载代码执行<function>exit()</>更好恢复(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add a hook to let plug-ins monitor the executor (Itagaki
       Takahiro)
      </para>
-->
<para>
   添加连接让插件监控执行者(Itagaki Takahiro)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add a hook to allow the planner's statistics lookup behavior to
       be overridden (Simon Riggs)
      </para>
-->
<para>
    添加连接允许规划器的统计查找操作被覆盖(Simon Riggs)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>shmem_startup_hook()</> for custom shared memory
       requirements (Tom)
      </para>
-->
<para>
    为自定义共享内存需求添加<function>shmem_startup_hook()</>(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Replace the index access method <function>amgetmulti</> entry point
       with <function>amgetbitmap</>, and extend the API for
       <function>amgettuple</> to support run-time determination of
       operator lossiness (Heikki, Tom, Teodor)
      </para>
-->
<para>
    使用<function>amgetbitmap</>替换索引访问方法<function>amgetmulti</>切入点，
并且为<function>amgettuple</>扩展API可以支持操作符丢失的运行时计算(Heikki, Tom, Teodor) 
</para>

      <!--
<para>
       The API for GIN and GiST opclass <function>consistent</> functions
       has been extended as well.
      </para>
-->
<para>
   为GIN和GiST opclass <function>consistent</>函数的API已经被扩展。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for partial-match searches in <acronym>GIN</> indexes
       (Teodor Sigaev, Oleg Bartunov)
      </para>
-->
<para>
   添加支持<acronym>GIN</>索引中局部匹配搜索(Teodor Sigaev, Oleg Bartunov)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Replace <structname>pg_class</> column <structfield>reltriggers</>
       with boolean <structfield>relhastriggers</> (Simon)
      </para>
-->
<para>
    使用布尔<structfield>relhastriggers</>替换<structname>pg_class</>列<structfield>reltriggers</>(Simon) 
</para>

      <!--
<para>
       Also remove unused <structname>pg_class</> columns
       <structfield>relukeys</>, <structfield>relfkeys</>, and
       <structfield>relrefs</>.
      </para>
-->
<para>
    同时删除未使用的<structname>pg_class</>列
       <structfield>relukeys</>, <structfield>relfkeys</>和
       <structfield>relrefs</>。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add a <structfield>relistemp</> column to <structname>pg_class</>
       to ease identification of temporary tables (Tom)
      </para>
-->
<para>
    添加<structfield>relistemp</>列到<structname>pg_class</>解除临时表识别(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Move platform <acronym>FAQ</>s into the main documentation
       (Peter)
      </para>
-->
<para>
    将平台<acronym>FAQ</>放到主文档中(Peter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Prevent parser input files from being built with any conflicts
       (Peter)
      </para>
-->
<para>
     防止解析器输入文件编译冲突(Peter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for the <literal>KOI8U</> (Ukrainian) encoding
       (Peter)
      </para>
-->
<para>
    添加<literal>KOI8U</> (Ukrainian)编码(Peter) 
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add Japanese message translations (Japan PostgreSQL Users Group)
      </para>
-->
<para>
    添加Japanese信息转化(Japan PostgreSQL用户组)
</para>

      <!--
<para>
       This used to be maintained as a separate project.
      </para>
-->
<para>
    这用于作为单一项目被维护。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix problem when setting <varname>LC_MESSAGES</> on
       <application>MSVC</>-built systems (Hiroshi Inoue, Hiroshi
       Saito, Magnus)
      </para>
-->
<para>
     当在<application>MSVC</>编译系统上设置<varname>LC_MESSAGES</>的时候，
 修复该问题(Hiroshi Inoue, Hiroshi Saito, Magnus)
</para>
     </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
    <title>Contrib</title> 

    <itemizedlist>

     <listitem>
      <!--
<para>
       Add <filename>contrib/auto_explain</> to automatically run
       <command>EXPLAIN</> on queries exceeding a specified duration
       (Itagaki Takahiro, Tom)
      </para>
--> 
<para>
     添加<filename>contrib/auto_explain</>在查询超过指定时间上自动运行<command>EXPLAIN</>(Itagaki Takahiro, Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <filename>contrib/btree_gin</> to allow GIN indexes to
       handle more datatypes (Oleg, Teodor)
      </para>
-->
<para>
    添加<filename>contrib/btree_gin</>允许GIN索引处理更多数据类型(Oleg, Teodor)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <filename>contrib/citext</> to provide a case-insensitive,
       multibyte-aware text data type (David Wheeler)
      </para>
-->
<para>
   添加<filename>contrib/citext</>提供不区分大小写，多字节文本数据类型(David Wheeler)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <filename>contrib/pg_stat_statements</> for server-wide
       tracking of statement execution statistics (Itagaki Takahiro)
      </para>
-->
<para>
   为语句执行统计的服务器范围追踪添加<filename>contrib/pg_stat_statements</>(Itagaki Takahiro)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add duration and query mode options to <filename>contrib/pgbench</>
       (Itagaki Takahiro)
      </para>
-->
<para>
    添加时间和查询模式选项到<filename>contrib/pgbench</>(Itagaki Takahiro)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <filename>contrib/pgbench</> use table names
       <structname>pgbench_accounts</>, <structname>pgbench_branches</>,
       <structname>pgbench_history</>, and <structname>pgbench_tellers</>,
       rather than just <structname>accounts</>, <structname>branches</>,
       <structname>history</>, and <structname>tellers</> (Tom)
      </para>
-->
<para>
    <filename>contrib/pgbench</>使用表名<structname>pgbench_accounts</>, <structname>pgbench_branches</>,
       <structname>pgbench_history</>和<structname>pgbench_tellers</>,
   而不仅仅<structname>accounts</>, <structname>branches</>,
       <structname>history</>和<structname>tellers</> (Tom)
</para>

      <!--
<para>
       This is to reduce the risk of accidentally destroying real data
       by running <application>pgbench</>.
      </para>
-->
<para>
   通过运行<application>pgbench</>以降低意外破坏真实数据的风险。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix <filename>contrib/pgstattuple</> to handle tables and
       indexes with over 2 billion pages (Tatsuhito Kasahara)
      </para>
-->
<para>
   修复<filename>contrib/pgstattuple</>处理表和超过20亿页面的索引(Tatsuhito Kasahara)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       In <filename>contrib/fuzzystrmatch</>, add a version of the
       Levenshtein string-distance function that allows the user to
       specify the costs of insertion, deletion, and substitution
       (Volkan Yazici)
      </para>
-->
<para>
    在<filename>contrib/fuzzystrmatch</>中，添加Levenshtein字符串距离函数版本允许
用户声明插入，删除和替换成本(Volkan Yazici)  
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <filename>contrib/ltree</> support multibyte encodings
       (laser)
      </para>
-->
<para>
    采用<filename>contrib/ltree</>支持多字节编码(laser)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Enable <filename>contrib/dblink</> to use connection information
       stored in the SQL/MED catalogs (Joe Conway)
      </para>
-->
<para>
    启用<filename>contrib/dblink</>使用存储在SQL/MED目录中的连接信息(Joe Conway)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve <filename>contrib/dblink</>'s reporting of errors from
       the remote server (Joe Conway)
      </para>
-->
<para>
    完善来自远程服务器错误的<filename>contrib/dblink</>的报告(Joe Conway)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <filename>contrib/dblink</> set <varname>client_encoding</>
       to match the local database's encoding (Joe Conway)
      </para>
-->
<para>
    使用<filename>contrib/dblink</>设置<varname>client_encoding</>以
匹配本地数据库的编码(Joe Conway)
</para>

      <!--
<para>
       This prevents encoding problems when communicating with a remote
       database that uses a different encoding.
      </para>
-->
<para>
    当与使用不同编码的远程数据库通信时，这可以避免编码问题。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make sure <filename>contrib/dblink</> uses a password supplied
       by the user, and not accidentally taken from the server's
       <filename>.pgpass</> file (Joe Conway)
      </para>
-->
<para>
    确保<filename>contrib/dblink</>使用用户提供的密码，
并且不是意外地采取服务器的<filename>.pgpass</>文件(Joe Conway)

</para>

      <!--
<para>
       This is a minor security enhancement.
      </para>
-->
<para>
    有一个小的安全增强功能。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>fsm_page_contents()</>
       to <filename>contrib/pageinspect</> (Heikki)
      </para>
-->
<para>
     添加<function>fsm_page_contents()</>到<filename>contrib/pageinspect</> (Heikki)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Modify <function>get_raw_page()</> to support free space map
       (<filename>*_fsm</>) files.  Also update
       <filename>contrib/pg_freespacemap</>.
      </para>
-->
<para>
    修改<function>get_raw_page()</>支持自由空间映射(<filename>*_fsm</>)文件。
同时更新<filename>contrib/pg_freespacemap</>。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for multibyte encodings to <filename>contrib/pg_trgm</>
       (Teodor)
      </para>
-->
<para>
    添加支持多字节编码到<filename>contrib/pg_trgm</>(Teodor)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Rewrite <filename>contrib/intagg</> to use new
       functions <function>array_agg()</> and <function>unnest()</>
       (Tom)
      </para>
-->
<para>
      改写<filename>contrib/intagg</>使用新的函数<function>array_agg()</>和<function>unnest()</>(Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <filename>contrib/pg_standby</> recover all available WAL before
       failover (Fujii Masao, Simon, Heikki)
      </para>
-->
<para>
     故障转移之前使用<filename>contrib/pg_standby</>回收所有可用WAL(Fujii Masao, Simon, Heikki)
</para>

      <!--
<para>
       To make this work safely, you now need to set the new
       <literal>recovery_end_command</> option in <filename>recovery.conf</>
       to clean up the trigger file after failover. <application>pg_standby</>
       will no longer remove the trigger file itself.
      </para>
-->
<para>
       为了使这项工作安全，您现在需要设置<filename>recovery.conf</>中新的
<literal>recovery_end_command</>选项用来清理故障转移后的触发器文件。
<application>pg_standby</>将不再删除触发器文件本身。

</para>
     </listitem>

     <listitem>
      <!--
<para>
       <filename>contrib/pg_standby</>'s <option>-l</> option is now a no-op,
       because it is unsafe to use a symlink (Simon)
      </para>
-->
<para>
    <filename>contrib/pg_standby</>的<option>-l</>选项现在是一个空操作，  
因为它使用符号链接不安全(Simon) 
</para>
     </listitem>

    </itemizedlist>

   </sect3>
  </sect2>
 </sect1>

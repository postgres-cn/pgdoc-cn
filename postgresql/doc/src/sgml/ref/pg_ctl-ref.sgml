<!--
doc/src/sgml/ref/pg_ctl-ref.sgml
PostgreSQL documentation
-->

<refentry id="app-pg-ctl">
<!-- pgdoc-cn_start sig_en=cd076ac4af2013e33c8932b983ce2a20 sig_cn_org=None source=14.1 
 <indexterm zone="app-pg-ctl">
  <primary>pg_ctl</primary>
 </indexterm>
________________________________________________________-->
 <indexterm zone="app-pg-ctl">
  <primary>pg_ctl</primary>
 </indexterm>
<!-- pgdoc-cn_end sig_en=cd076ac4af2013e33c8932b983ce2a20 -->

 <refmeta>
  <refentrytitle><application>pg_ctl</application></refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>

<!-- pgdoc-cn_start sig_en=ac5ab7cfa16e3107f82688064e2d4cd1 sig_cn_org=None source=14.1 
 <refnamediv>
  <refname>pg_ctl</refname>
  <refpurpose>initialize, start, stop, or control a <productname>PostgreSQL</productname> server</refpurpose>
 </refnamediv>
________________________________________________________-->
 <refnamediv>
  <refname>pg_ctl</refname>
  <refpurpose>初始化、启动、停止或控制一个<productname>PostgreSQL</productname>服务器</refpurpose>
 </refnamediv>
<!-- pgdoc-cn_end sig_en=ac5ab7cfa16e3107f82688064e2d4cd1 -->

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>init[db]</option></arg>
   <arg choice="opt"><option>-D</option> <replaceable>datadir</replaceable></arg>
   <arg choice="opt"><option>-s</option></arg>
   <arg choice="opt"><option>-o</option> <replaceable>initdb-options</replaceable></arg>
  </cmdsynopsis>

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>start</option></arg>
   <arg choice="opt"><option>-D</option> <replaceable>datadir</replaceable></arg>
   <arg choice="opt"><option>-l</option> <replaceable>filename</replaceable></arg>
   <arg choice="opt"><option>-W</option></arg>
   <arg choice="opt"><option>-t</option> <replaceable>seconds</replaceable></arg>
   <arg choice="opt"><option>-s</option></arg>
   <arg choice="opt"><option>-o</option> <replaceable>options</replaceable></arg>
   <arg choice="opt"><option>-p</option> <replaceable>path</replaceable></arg>
   <arg choice="opt"><option>-c</option></arg>
  </cmdsynopsis>

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>stop</option></arg>
   <arg choice="opt"><option>-D</option> <replaceable>datadir</replaceable></arg>
   <arg choice="opt"><option>-m</option>
     <group choice="plain">
       <arg choice="plain"><option>s[mart]</option></arg>
       <arg choice="plain"><option>f[ast]</option></arg>
       <arg choice="plain"><option>i[mmediate]</option></arg>
     </group>
   </arg>
   <arg choice="opt"><option>-W</option></arg>
   <arg choice="opt"><option>-t</option> <replaceable>seconds</replaceable></arg>
   <arg choice="opt"><option>-s</option></arg>
  </cmdsynopsis>

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>restart</option></arg>
   <arg choice="opt"><option>-D</option> <replaceable>datadir</replaceable></arg>
   <arg choice="opt"><option>-m</option>
     <group choice="plain">
       <arg choice="plain"><option>s[mart]</option></arg>
       <arg choice="plain"><option>f[ast]</option></arg>
       <arg choice="plain"><option>i[mmediate]</option></arg>
     </group>
   </arg>
   <arg choice="opt"><option>-W</option></arg>
   <arg choice="opt"><option>-t</option> <replaceable>seconds</replaceable></arg>
   <arg choice="opt"><option>-s</option></arg>
   <arg choice="opt"><option>-o</option> <replaceable>options</replaceable></arg>
   <arg choice="opt"><option>-c</option></arg>
  </cmdsynopsis>

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>reload</option></arg>
   <arg choice="opt"><option>-D</option> <replaceable>datadir</replaceable></arg>
   <arg choice="opt"><option>-s</option></arg>
  </cmdsynopsis>

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>status</option></arg>
   <arg choice="opt"><option>-D</option> <replaceable>datadir</replaceable></arg>
  </cmdsynopsis>

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>promote</option></arg>
   <arg choice="opt"><option>-D</option> <replaceable>datadir</replaceable></arg>
   <arg choice="opt"><option>-W</option></arg>
   <arg choice="opt"><option>-t</option> <replaceable>seconds</replaceable></arg>
   <arg choice="opt"><option>-s</option></arg>
  </cmdsynopsis>

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>logrotate</option></arg>
   <arg choice="opt"><option>-D</option> <replaceable>datadir</replaceable></arg>
   <arg choice="opt"><option>-s</option></arg>
  </cmdsynopsis>

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>kill</option></arg>
   <arg choice="plain"><replaceable>signal_name</replaceable></arg>
   <arg choice="plain"><replaceable>process_id</replaceable></arg>
  </cmdsynopsis>

<!-- pgdoc-cn_start sig_en=e8cfcb3982cd17aae0081beb18193d4b sig_cn_org=None source=14.1 
  <para>On Microsoft Windows, also:</para>
________________________________________________________-->
  <para>在Microsoft Windows上，还有：</para>
<!-- pgdoc-cn_end sig_en=e8cfcb3982cd17aae0081beb18193d4b -->

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>register</option></arg>
   <arg choice="opt"><option>-D</option> <replaceable>datadir</replaceable></arg>
   <arg choice="opt"><option>-N</option> <replaceable>servicename</replaceable></arg>
   <arg choice="opt"><option>-U</option> <replaceable>username</replaceable></arg>
   <arg choice="opt"><option>-P</option> <replaceable>password</replaceable></arg>
   <arg choice="opt"><option>-S</option>
     <group choice="plain">
       <arg choice="plain"><option>a[uto]</option></arg>
       <arg choice="plain"><option>d[emand]</option></arg>
     </group>
   </arg>
   <arg choice="opt"><option>-e</option> <replaceable>source</replaceable></arg>
   <arg choice="opt"><option>-W</option></arg>
   <arg choice="opt"><option>-t</option> <replaceable>seconds</replaceable></arg>
   <arg choice="opt"><option>-s</option></arg>
   <arg choice="opt"><option>-o</option> <replaceable>options</replaceable></arg>
  </cmdsynopsis>

  <cmdsynopsis>
   <command>pg_ctl</command>
   <arg choice="plain"><option>unregister</option></arg>
   <arg choice="opt"><option>-N</option> <replaceable>servicename</replaceable></arg>
  </cmdsynopsis>
 </refsynopsisdiv>


 <refsect1 id="app-pg-ctl-description">
<!-- pgdoc-cn_start sig_en=59d6e86f3a60db4f1e08d0d6e639924e sig_cn_org=None source=14.1 
  <title>Description</title>
________________________________________________________-->
  <title>描述</title>
<!-- pgdoc-cn_end sig_en=59d6e86f3a60db4f1e08d0d6e639924e -->
<!-- pgdoc-cn_start sig_en=372e45ed83f6ed94993450039f00cc3d sig_cn_org=None source=14.1 
  <para>
   <application>pg_ctl</application> is a utility for initializing a
   <productname>PostgreSQL</productname> database cluster, starting,
   stopping, or restarting the <productname>PostgreSQL</productname>
   database server (<xref linkend="app-postgres"/>), or displaying the
   status of a running server.  Although the server can be started
   manually, <application>pg_ctl</application> encapsulates tasks such
   as redirecting log output and properly detaching from the terminal
   and process group. It also provides convenient options for
   controlled shutdown.
  </para>
________________________________________________________-->
  <para>
   <application>pg_ctl</application>是一个用于初始化<productname>PostgreSQL</productname>数据库集簇，启动、停止或重启<productname>PostgreSQL</productname>数据库服务器（<xref linkend="app-postgres"/>），或者显示一个正在运行服务器的状态的工具。尽管服务器可以被手工启动，<application>pg_ctl</application>包装了重定向日志输出以及正确地从终端和进程组脱离等任务。它也提供了方便的选项用来控制关闭。
  </para>
<!-- pgdoc-cn_end sig_en=372e45ed83f6ed94993450039f00cc3d -->

<!-- pgdoc-cn_start sig_en=9d1657860d15e811c4bac2d2dfc58c66 sig_cn_org=None source=14.1 
  <para>
   The <option>init</option> or <option>initdb</option> mode creates a new
   <productname>PostgreSQL</productname> database cluster, that is,
   a collection of databases that will be managed by a single
   server instance.  This mode invokes the <command>initdb</command>
   command.  See <xref linkend="app-initdb"/> for details.
  </para>
________________________________________________________-->
  <para>
   <option>init</option>或<option>initdb</option>模式会创建一个新的<productname>PostgreSQL</productname>数据库集簇，也就是将由一个单一服务器实例管理的数据库集合。这个模式调用<command>initdb</command>命令。详见<xref linkend="app-initdb"/>。
  </para>
<!-- pgdoc-cn_end sig_en=9d1657860d15e811c4bac2d2dfc58c66 -->

<!-- pgdoc-cn_start sig_en=f9340c6b718191fffb2645d3adb12966 sig_cn_org=None source=14.1 
  <para>
   <option>start</option> mode launches a new server.  The
   server is started in the background, and its standard input is attached
   to <filename>/dev/null</filename> (or <literal>nul</literal> on Windows).
   On Unix-like systems, by default, the server's standard output and
   standard error are sent to <application>pg_ctl</application>'s
   standard output (not standard error).  The standard output of
   <application>pg_ctl</application> should then be redirected to a
   file or piped to another process such as a log rotating program
   like <application>rotatelogs</application>; otherwise <command>postgres</command>
   will write its output to the controlling terminal (from the
   background) and will not leave the shell's process group.  On
   Windows, by default the server's standard output and standard error
   are sent to the terminal.  These default behaviors can be changed
   by using <option>-l</option> to append the server's output to a log file.
   Use of either <option>-l</option> or output redirection is recommended.
  </para>
________________________________________________________-->
  <para>
   <option>start</option>模式启动一个新的服务器。该服务器被启动在后台，并且它的标准输出被附加到<filename>/dev/null</filename>（或 Windows 上的<literal>nul</literal>）。在 Unix 类系统上，默认情况下服务器的标准输出和标准错误被发送到<application>pg_ctl</application>的标准输出（不是标准错误）。<application>pg_ctl</application>的标准输出应该接着被重定向到一个文件或用管道导向另一个进程（例如日志轮转程序<application>rotatelogs</application>）。否则<command>postgres</command>将把它的输出写到控制终端（从后台）并且将不会离开 shell 的进程组。在 Windows 上，默认情况下服务器的标准输出和标准错误被发送到终端。这些默认行为可以使用<option>-l</option>追加服务器的输出到一个日志文件来改变。我们推荐使用<option>-l</option>或输出重定向。
  </para>
<!-- pgdoc-cn_end sig_en=f9340c6b718191fffb2645d3adb12966 -->

<!-- pgdoc-cn_start sig_en=9525db55bf435be90254ab5bead9ca11 sig_cn_org=e8f332a57b277caaea066cbe32a4d85e source=15.7 
  <para>
   <option>stop</option> mode shuts down the server that is running in
   the specified data directory.  Three different
   shutdown methods can be selected with the <option>-m</option>
   option.  <quote>Smart</quote> mode disallows new connections, then waits
   for all existing clients to disconnect.
   If the server is in hot standby, recovery and streaming replication
   will be terminated once all clients have disconnected.
   <quote>Fast</quote> mode (the default) does not wait for clients to disconnect.
   All active transactions are
   rolled back and clients are forcibly disconnected, then the
   server is shut down.  <quote>Immediate</quote> mode will abort
   all server processes immediately, without a clean shutdown.  This choice
   will lead to a crash-recovery cycle during the next server start.
  </para>
________________________________________________________-->
  <para>
   <option>stop</option>模式会关闭在指定数据目录中运行的服务器。可以使用<option>-m</option>选项选择三种不同的关闭方法。
   <quote>Smart</quote>模式禁止新连接，然后等待所有现有客户端断开连接。
   如果服务器处于热备状态，一旦所有客户端断开连接，恢复和流复制将终止。
   <quote>Fast</quote>模式（默认）不等待客户端断开连接。
   所有活动事务都将回滚，客户端将被强制断开连接，然后服务器将关闭。
   <quote>Immediate</quote>模式将立即中止所有服务器进程，而不是进行干净的关闭。这个选择将导致在下次服务器启动时进行崩溃恢复循环。
</para>
<!-- pgdoc-cn_end sig_en=9525db55bf435be90254ab5bead9ca11 -->

<!-- pgdoc-cn_start sig_en=cbb8d736dae37b5020c04a9b26bcd393 sig_cn_org=None source=14.1 
  <para>
   <option>restart</option> mode effectively executes a stop followed
   by a start.  This allows changing the <command>postgres</command>
   command-line options, or changing configuration-file options that
   cannot be changed without restarting the server.
   If relative paths were used on the command line during server
   start, <option>restart</option> might fail unless
   <application>pg_ctl</application> is executed in the same current
   directory as it was during server start.
  </para>
________________________________________________________-->
  <para>
   <option>restart</option>模式实际上会先执行一个停止操作然后紧接着执行一个启动操作。这使得我们能够更改<command>postgres</command>的命令行选项，或者更改不通过重启服务器无法更改的配置文件选项。如果在服务器启动期间在命令行上使用了相对路径，则<option>restart</option>可能会失败，除非<application>pg_ctl</application>被运行在与上次启动服务器相同的目录中。
  </para>
<!-- pgdoc-cn_end sig_en=cbb8d736dae37b5020c04a9b26bcd393 -->

<!-- pgdoc-cn_start sig_en=fb9073e0753d6136afe678d5eefa6c92 sig_cn_org=None source=14.1 
  <para>
   <option>reload</option> mode simply sends the
   <command>postgres</command> server process a <systemitem>SIGHUP</systemitem>
   signal, causing it to reread its configuration files
   (<filename>postgresql.conf</filename>,
   <filename>pg_hba.conf</filename>, etc.).  This allows changing
   configuration-file options that do not require a full server restart
   to take effect.
  </para>
________________________________________________________-->
  <para>
   <option>reload</option>模式简单地向<command>postgres</command>服务器进程发送一个<systemitem>SIGHUP</systemitem>信号，导致它重新读取它的配置文件（<filename>postgresql.conf</filename>、<filename>pg_hba.conf</filename>等）。这允许改变配置文件选项而无需一次完整的服务器重启来让改变生效。
  </para>
<!-- pgdoc-cn_end sig_en=fb9073e0753d6136afe678d5eefa6c92 -->

<!-- pgdoc-cn_start sig_en=354c47cea5b3eaabd6dd666a98cd374b sig_cn_org=None source=14.1 
  <para>
   <option>status</option> mode checks whether a server is running in
   the specified data directory. If it is, the server's <acronym>PID</acronym>
   and the command line options that were used to invoke it are displayed.
   If the server is not running, <application>pg_ctl</application> returns
   an exit status of 3.  If an accessible data directory is not
   specified, <application>pg_ctl</application> returns an exit status of 4.
  </para>
________________________________________________________-->
  <para>
   <option>status</option>模式检查一个服务器是否运行在指定的数据目录中。如果有一个服务器正在运行，其<acronym>PID</acronym>和用来调用它的命令行选项将被显示。如果服务器没有在运行，<application>pg_ctl</application>将返回退出状态 3。如果没有指定一个可以访问的数据目录，<application>pg_ctl</application>将返回退出状态 4。
  </para>
<!-- pgdoc-cn_end sig_en=354c47cea5b3eaabd6dd666a98cd374b -->

<!-- pgdoc-cn_start sig_en=33759f0c7234f221d19b05ad739d1b68 sig_cn_org=None source=14.1 
  <para>
   <option>promote</option> mode commands the standby server that is
   running in the specified data directory to end standby mode
   and begin read-write operations.
  </para>
________________________________________________________-->
  <para>
   <option>promote</option>模式命令运行在指定数据目录中的后备服务器结束后备模式并且开始读写操作。
  </para>
<!-- pgdoc-cn_end sig_en=33759f0c7234f221d19b05ad739d1b68 -->

<!-- pgdoc-cn_start sig_en=826b7d0aeceb8e8467e449723f3920cb sig_cn_org=None source=14.1 
  <para>
   <option>logrotate</option> mode rotates the server log file.
   For details on how to use this mode with external log rotation tools, see
   <xref linkend="logfile-maintenance"/>.
  </para>
________________________________________________________-->
  <para>
   <option>logrotate</option>模式轮换服务器日志文件。有关如何将此模式与外部日志轮换工具一起使用的详细信息，参见<xref linkend="logfile-maintenance"/>。
  </para>
<!-- pgdoc-cn_end sig_en=826b7d0aeceb8e8467e449723f3920cb -->

<!-- pgdoc-cn_start sig_en=82893982c3386da6cfe5d05431508118 sig_cn_org=None source=14.1 
  <para>
   <option>kill</option> mode sends a signal to a specified process.
   This is primarily valuable on <productname>Microsoft Windows</productname>
   which does not have a built-in <application>kill</application> command.  Use
   <literal>-&minus;help</literal> to see a list of supported signal names.
  </para>
________________________________________________________-->
  <para>
   <option>kill</option>模式向一个指定进程发送一个消息。这主要用于没有<application>kill</application>命令的<productname>Microsoft Windows</productname>。使用<literal>--help</literal>来查看受支持的信号名称列表。
  </para>
<!-- pgdoc-cn_end sig_en=82893982c3386da6cfe5d05431508118 -->

<!-- pgdoc-cn_start sig_en=4643b92cc07318348c86b1562e2953c5 sig_cn_org=None source=14.1 
  <para>
   <option>register</option> mode registers the <productname>PostgreSQL</productname>
   server as a system service on <productname>Microsoft Windows</productname>.
   The <option>-S</option> option allows selection of service start type,
   either <quote>auto</quote> (start service automatically on system startup)
   or <quote>demand</quote> (start service on demand).
  </para>
________________________________________________________-->
  <para>
   <option>register</option>模式把<productname>PostgreSQL</productname>服务器注册为<productname>Microsoft Windows</productname>上的一个系统服务。<option>-S</option>选项允许选择服务启动类型，可以是<quote>auto</quote>（随系统自动启动）或<quote>demand</quote>（按需启动）。
  </para>
<!-- pgdoc-cn_end sig_en=4643b92cc07318348c86b1562e2953c5 -->

<!-- pgdoc-cn_start sig_en=29785fb45c8e548393871b2143c8c5a5 sig_cn_org=None source=14.1 
  <para>
   <option>unregister</option> mode unregisters a system service
   on <productname>Microsoft Windows</productname>.  This undoes the effects of the
   <option>register</option> command.
  </para>
________________________________________________________-->
  <para>
   <option>unregister</option>模式在<productname>Microsoft Windows</productname>上移除一个系统服务的注册。这会撤销<option>register</option>命令的效果。
  </para>
<!-- pgdoc-cn_end sig_en=29785fb45c8e548393871b2143c8c5a5 -->
 </refsect1>

 <refsect1 id="app-pg-ctl-options">
<!-- pgdoc-cn_start sig_en=ee3f399228d18d2103d5b7f4e0aeeba8 sig_cn_org=None source=14.1 
  <title>Options</title>
________________________________________________________-->
  <title>选项</title>
<!-- pgdoc-cn_end sig_en=ee3f399228d18d2103d5b7f4e0aeeba8 -->

    <variablelist>

     <varlistentry>
      <term><option>-c</option></term>
      <term><option>--core-files</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=1edac48489d965627cd55739cc02730f sig_cn_org=None source=14.1 
       <para>
        Attempt to allow server crashes to produce core files, on platforms
        where this is possible, by lifting any soft resource limit placed on
        core files.
        This is useful in debugging or diagnosing problems by allowing a
        stack trace to be obtained from a failed server process.
       </para>
________________________________________________________-->
       <para>
        在可行的平台上尝试允许服务器崩溃产生核心文件，方法是提升在核心文件上的任何软性资源限制。这通过允许从一个失败的服务器进程中获得一个栈跟踪而有助于调试或诊断问题。
       </para>
<!-- pgdoc-cn_end sig_en=1edac48489d965627cd55739cc02730f -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-D <replaceable class="parameter">datadir</replaceable></option></term>
      <term><option>--pgdata=<replaceable class="parameter">datadir</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=679a30eda564935f2835a672ad5a007f sig_cn_org=None source=14.1 
       <para>
        Specifies the file system location of the database configuration files.  If
        this option is omitted, the environment variable
        <envar>PGDATA</envar> is used.
       </para>
________________________________________________________-->
       <para>
        指定数据库配置文件的文件系统位置。如果这个选项被忽略，将使用环境变量<envar>PGDATA</envar>。
       </para>
<!-- pgdoc-cn_end sig_en=679a30eda564935f2835a672ad5a007f -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-l <replaceable class="parameter">filename</replaceable></option></term>
      <term><option>--log=<replaceable class="parameter">filename</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=49744338e48fdd459c0ab5ceda6242ab sig_cn_org=None source=14.1 
       <para>
        Append the server log output to
        <replaceable>filename</replaceable>.  If the file does not
        exist, it is created.  The <systemitem>umask</systemitem> is set to 077,
        so access to the log file is disallowed to other users by default.
       </para>
________________________________________________________-->
       <para>
        追加服务器日志输出到<replaceable>filename</replaceable>。如果该文件不存在，它会被创建。<systemitem>umask</systemitem>被设置成 077，这样默认情况下不允许其他用户访问该日志文件。
       </para>
<!-- pgdoc-cn_end sig_en=49744338e48fdd459c0ab5ceda6242ab -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-m <replaceable class="parameter">mode</replaceable></option></term>
      <term><option>--mode=<replaceable class="parameter">mode</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=2a6127d3bd97f1753cdb0921a560c8df sig_cn_org=None source=14.1 
       <para>
        Specifies the shutdown mode.  <replaceable>mode</replaceable>
        can be <literal>smart</literal>, <literal>fast</literal>, or
        <literal>immediate</literal>, or the first letter of one of
        these three.  If this option is omitted, <literal>fast</literal> is
        the default.
       </para>
________________________________________________________-->
       <para>
        指定关闭模式。<replaceable>mode</replaceable>可以是<literal>smart</literal>、<literal>fast</literal>或<literal>immediate</literal>，或者这三者之一的第一个字母。如果这个选项被忽略，则<literal>fast</literal>是默认值。
       </para>
<!-- pgdoc-cn_end sig_en=2a6127d3bd97f1753cdb0921a560c8df -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-o <replaceable class="parameter">options</replaceable></option></term>
      <term><option>--options=<replaceable class="parameter">options</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=ba25a39b375ffa62aa90e473ccfa5403 sig_cn_org=None source=14.1 
       <para>
        Specifies options to be passed directly to the
        <command>postgres</command> command.
        <option>-o</option> can be specified multiple times, with all the given
        options being passed through.
       </para>
________________________________________________________-->
       <para>
        指定被直接传递给<command>postgres</command>命令的选项。<option>-o</option>可以被指定多次，所有给定的选项都会被传过去。
       </para>
<!-- pgdoc-cn_end sig_en=ba25a39b375ffa62aa90e473ccfa5403 -->
<!-- pgdoc-cn_start sig_en=87add5bfc8c59f554ee85d8eecd0880a sig_cn_org=None source=14.1 
       <para>
        The <replaceable>options</replaceable> should usually be surrounded by single or
        double quotes to ensure that they are passed through as a group.
       </para>
________________________________________________________-->
       <para>
        这些选项应该通常被单引号或双引号包围来确保它们被作为一个组传递。
       </para>
<!-- pgdoc-cn_end sig_en=87add5bfc8c59f554ee85d8eecd0880a -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-o <replaceable class="parameter">initdb-options</replaceable></option></term>
      <term><option>--options=<replaceable class="parameter">initdb-options</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=8bd84105f0749598915198787a4874bb sig_cn_org=None source=14.1 
       <para>
        Specifies options to be passed directly to the
        <command>initdb</command> command.
        <option>-o</option> can be specified multiple times, with all the given
        options being passed through.
       </para>
________________________________________________________-->
       <para>
        指定要直接传递给<command>initdb</command>命令的选项。<option>-o</option>可以被指定多次，所有给定的选项都会被传过去。
       </para>
<!-- pgdoc-cn_end sig_en=8bd84105f0749598915198787a4874bb -->
<!-- pgdoc-cn_start sig_en=b94ee36c0a9e91cc4719182cf35297ef sig_cn_org=None source=14.1 
       <para>
        The <replaceable>initdb-options</replaceable> should usually be surrounded by single or
        double quotes to ensure that they are passed through as a group.
       </para>
________________________________________________________-->
       <para>
        这些选项应该通常被单引号或双引号包围来确保它们被作为一个组传递。
       </para>
<!-- pgdoc-cn_end sig_en=b94ee36c0a9e91cc4719182cf35297ef -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-p <replaceable class="parameter">path</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=61e1a01758dec73d395c6522768d110a sig_cn_org=None source=14.1 
       <para>
        Specifies the location of the <filename>postgres</filename>
        executable.  By default the <filename>postgres</filename> executable is taken from the same
        directory as <command>pg_ctl</command>, or failing that, the hard-wired
        installation directory.  It is not necessary to use this
        option unless you are doing something unusual and get errors
        that the <filename>postgres</filename> executable was not found.
       </para>
________________________________________________________-->
       <para>
        指定<filename>postgres</filename>可执行程序的位置。默认情况下，<filename>postgres</filename>可执行程序可以从<command>pg_ctl</command>相同的目录得到，或者如果没有在那里找到，则在硬写的安装目录中获得。除非你正在做一些不同寻常的事并且得到错误说没有找到<filename>postgres</filename>可执行程序，这个选项不是必需的。
       </para>
<!-- pgdoc-cn_end sig_en=61e1a01758dec73d395c6522768d110a -->

<!-- pgdoc-cn_start sig_en=d3fe4ac867f35685865c6f9831ca72c0 sig_cn_org=None source=14.1 
       <para>
        In <literal>init</literal> mode, this option analogously
        specifies the location of the <filename>initdb</filename>
        executable.
       </para>
________________________________________________________-->
       <para>
        在<literal>init</literal>模式中，这个选项类似于指定了<filename>initdb</filename>可执行程序的位置。
       </para>
<!-- pgdoc-cn_end sig_en=d3fe4ac867f35685865c6f9831ca72c0 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-s</option></term>
      <term><option>--silent</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=6485ab0abb0b9fa01a70bf5ab3d03db4 sig_cn_org=None source=14.1 
       <para>
        Print only errors, no informational messages.
       </para>
________________________________________________________-->
       <para>
        只打印错误，不打印信息性的消息。
       </para>
<!-- pgdoc-cn_end sig_en=6485ab0abb0b9fa01a70bf5ab3d03db4 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-t <replaceable class="parameter">seconds</replaceable></option></term>
      <term><option>--timeout=<replaceable class="parameter">seconds</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=67bf51df3d49b0e3a175f71d10c4c283 sig_cn_org=None source=14.1 
       <para>
        Specifies the maximum number of seconds to wait when waiting for an
        operation to complete (see option <option>-w</option>).  Defaults to
        the value of the <envar>PGCTLTIMEOUT</envar> environment variable or, if
        not set, to 60 seconds.
       </para>
________________________________________________________-->
       <para>
        指定等待一个操作完成时要等待的最大秒数（见选项<option>-w</option>）。默认为<envar>PGCTLTIMEOUT</envar>环境变量的值，如果该环境变量没有设置则默认为60秒。
       </para>
<!-- pgdoc-cn_end sig_en=67bf51df3d49b0e3a175f71d10c4c283 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-V</option></term>
      <term><option>--version</option></term>
       <listitem>
<!-- pgdoc-cn_start sig_en=b2d899046136e9315598971cb5516da7 sig_cn_org=None source=14.1 
        <para>
         Print the <application>pg_ctl</application> version and exit.
        </para>
________________________________________________________-->
        <para>
         打印<application>pg_ctl</application>版本并退出。
        </para>
<!-- pgdoc-cn_end sig_en=b2d899046136e9315598971cb5516da7 -->
       </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-w</option></term>
      <term><option>--wait</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=248e3a2f98cc0bea5bf88f78234aa43c sig_cn_org=None source=14.1 
       <para>
        Wait for the operation to complete.  This is supported for the
        modes <literal>start</literal>, <literal>stop</literal>,
        <literal>restart</literal>, <literal>promote</literal>,
        and <literal>register</literal>, and is the default for those modes.
       </para>
________________________________________________________-->
       <para>
        等待操作完成。模式<literal>start</literal>、<literal>stop</literal>、<literal>restart</literal>、<literal>promote</literal>以及<literal>register</literal>支持这个选项，并且对那些模式是默认的。
       </para>
<!-- pgdoc-cn_end sig_en=248e3a2f98cc0bea5bf88f78234aa43c -->

<!-- pgdoc-cn_start sig_en=0016d285239630b38750bec33cef40cf sig_cn_org=None source=14.1 
       <para>
        When waiting, <command>pg_ctl</command> repeatedly checks the
        server's <acronym>PID</acronym> file, sleeping for a short amount
        of time between checks.  Startup is considered complete when
        the <acronym>PID</acronym> file indicates that the server is ready to
        accept connections.  Shutdown is considered complete when the server
        removes the <acronym>PID</acronym> file.
        <command>pg_ctl</command> returns an exit code based on the
        success of the startup or shutdown.
       </para>
________________________________________________________-->
       <para>
        在等待时，<command>pg_ctl</command>会一遍又一遍地检查服务器的<acronym>PID</acronym>文件，在两次检查之间会休眠一小段时间。当<acronym>PID</acronym>文件指示该服务器已经做好准备接受连接时，启动操作被认为完成。当服务器移除<acronym>PID</acronym>文件时，关闭操作被认为完成。<command>pg_ctl</command>会基于启动或关闭的成功与否返回一个退出代码。
       </para>
<!-- pgdoc-cn_end sig_en=0016d285239630b38750bec33cef40cf -->

<!-- pgdoc-cn_start sig_en=a96c4aae195029f7b312cb9d381fe510 sig_cn_org=None source=14.1 
       <para>
        If the operation does not complete within the timeout (see
        option <option>-t</option>), then <command>pg_ctl</command> exits with
        a nonzero exit status.  But note that the operation might continue in
        the background and eventually succeed.
       </para>
________________________________________________________-->
       <para>
        如果操作在超时时间（见选项<option>-t</option>）内未能完成，则<command>pg_ctl</command>会以一个非零退出状态退出。但是注意该操作可能会在后台继续进行并且最终取得成功。
       </para>
<!-- pgdoc-cn_end sig_en=a96c4aae195029f7b312cb9d381fe510 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-W</option></term>
      <term><option>--no-wait</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=f0c8f644aeb9f92ee110eec53f96129c sig_cn_org=None source=14.1 
       <para>
        Do not wait for the operation to complete.  This is the opposite of
        the option <option>-w</option>.
       </para>
________________________________________________________-->
       <para>
        不等待操作完成。这是选项<option>-w</option>的对立面。
       </para>
<!-- pgdoc-cn_end sig_en=f0c8f644aeb9f92ee110eec53f96129c -->

<!-- pgdoc-cn_start sig_en=8ffe9186a069cb8d95fffc4be76ec483 sig_cn_org=None source=14.1 
       <para>
        If waiting is disabled, the requested action is triggered, but there
        is no feedback about its success.  In that case, the server log file
        or an external monitoring system would have to be used to check the
        progress and success of the operation.
       </para>
________________________________________________________-->
       <para>
        如果禁用等待，所请求的动作会被触发，但是不会有关于其成功与否的反馈。在这种情况下，可能必须用服务器日志文件或外部监控系统来检查该操作的进度以及成功与否。
       </para>
<!-- pgdoc-cn_end sig_en=8ffe9186a069cb8d95fffc4be76ec483 -->

<!-- pgdoc-cn_start sig_en=d6a83247764eae8bd1f7523d8d388beb sig_cn_org=None source=14.1 
       <para>
        In prior releases of PostgreSQL, this was the default except for
        the <literal>stop</literal> mode.
       </para>
________________________________________________________-->
       <para>
        在以前版本的PostgreSQL中，这是除<literal>stop</literal>模式之外的模式的默认选项。
       </para>
<!-- pgdoc-cn_end sig_en=d6a83247764eae8bd1f7523d8d388beb -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-?</option></term>
      <term><option>--help</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=06d146ae0c72f68bf3618322e948a556 sig_cn_org=None source=14.1 
       <para>
        Show help about <application>pg_ctl</application> command line
        arguments, and exit.
       </para>
________________________________________________________-->
       <para>
        显示有关<application>pg_ctl</application>命令行参数的帮助并退出。
       </para>
<!-- pgdoc-cn_end sig_en=06d146ae0c72f68bf3618322e948a556 -->
      </listitem>
     </varlistentry>
   </variablelist>

<!-- pgdoc-cn_start sig_en=09c40aaaea56a2bb7bfaba3189de8224 sig_cn_org=None source=14.1 
  <para>
   If an option is specified that is valid, but not relevant to the selected
   operating mode, <application>pg_ctl</application> ignores it.
  </para>
________________________________________________________-->
  <para>
   如果一个指定的选项有效，但与选中的操作模式无关，则<application>pg_ctl</application>会忽略它。
  </para>
<!-- pgdoc-cn_end sig_en=09c40aaaea56a2bb7bfaba3189de8224 -->

  <refsect2 id="app-pg-ctl-windows-options">
<!-- pgdoc-cn_start sig_en=397d3d2684f592fd4427b1af2567e11c sig_cn_org=None source=14.1 
   <title>Options for Windows</title>
________________________________________________________-->
   <title>用于 Windows 的选项</title>
<!-- pgdoc-cn_end sig_en=397d3d2684f592fd4427b1af2567e11c -->

   <variablelist>
    <varlistentry>
     <term><option>-e <replaceable class="parameter">source</replaceable></option></term>
     <listitem>
<!-- pgdoc-cn_start sig_en=dbceb12a29b5fe8a6df08102535e1233 sig_cn_org=None source=14.1 
      <para>
       Name of the event source for <application>pg_ctl</application> to use
       for logging to the event log when running as a Windows service.  The
       default is <literal>PostgreSQL</literal>.  Note that this only controls
       messages sent from <application>pg_ctl</application> itself; once
       started, the server will use the event source specified
       by its <xref linkend="guc-event-source"/> parameter.  Should the server
       fail very early in startup, before that parameter has been set,
       it might also log using the default event
       source name <literal>PostgreSQL</literal>.
      </para>
________________________________________________________-->
      <para>
       作为一个 Windows 服务运行时，<application>pg_ctl</application>用来
       在事件日志中记录日志的事件源的名称。默认是<literal>PostgreSQL</literal>。
       注意这只控制由<application>pg_ctl</application>本身发送的消息，一旦开始，
       服务器将使用<xref linkend="guc-event-source"/>参数中指定的事件源。如果服务器在启动时很早（在该参数被设置前）就失败，它可能也会使用默认的事件源名称
       <literal>PostgreSQL</literal>来记录。
      </para>
<!-- pgdoc-cn_end sig_en=dbceb12a29b5fe8a6df08102535e1233 -->
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-N <replaceable class="parameter">servicename</replaceable></option></term>
     <listitem>
<!-- pgdoc-cn_start sig_en=cf8a7600684c357df98e21b57549ffac sig_cn_org=None source=14.1 
      <para>
       Name of the system service to register. This name will be used
       as both the service name and the display name.
       The default is <literal>PostgreSQL</literal>.
      </para>
________________________________________________________-->
      <para>
       要注册的系统服务的名称。这个名称将被用于服务名和显示名。默认是<literal>PostgreSQL</literal>。
      </para>
<!-- pgdoc-cn_end sig_en=cf8a7600684c357df98e21b57549ffac -->
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-P <replaceable class="parameter">password</replaceable></option></term>
     <listitem>
<!-- pgdoc-cn_start sig_en=37793d8d1df49c826885c9994ecf7859 sig_cn_org=None source=14.1 
      <para>
       Password for the user to run the service as.
      </para>
________________________________________________________-->
      <para>
       用于运行该服务的用户的口令。
      </para>
<!-- pgdoc-cn_end sig_en=37793d8d1df49c826885c9994ecf7859 -->
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-S <replaceable class="parameter">start-type</replaceable></option></term>
     <listitem>
<!-- pgdoc-cn_start sig_en=18aca8d245d8b5408255c0dc67787ace sig_cn_org=None source=14.1 
      <para>
       Start type of the system service.  <replaceable>start-type</replaceable> can
       be <literal>auto</literal>, or <literal>demand</literal>, or
       the first letter of one of these two. If this option is omitted,
       <literal>auto</literal> is the default.
      </para>
________________________________________________________-->
      <para>
       要注册的系统服务的启动类型。启动类型可以是<literal>auto</literal>、<literal>demand</literal>或者两者之一的第一个字母。如果这个选项被忽略，则<literal>auto</literal>是默认值。
      </para>
<!-- pgdoc-cn_end sig_en=18aca8d245d8b5408255c0dc67787ace -->
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-U <replaceable class="parameter">username</replaceable></option></term>
     <listitem>
<!-- pgdoc-cn_start sig_en=5552692dbcedf284b9b4e4b430c06980 sig_cn_org=None source=14.1 
      <para>
       User name for the user to run the service as. For domain users, use the
       format <literal>DOMAIN\username</literal>.
      </para>
________________________________________________________-->
      <para>
       用于运行该服务的用户的用户名。对于域用户，使用格式<literal>DOMAIN\username</literal>。
      </para>
<!-- pgdoc-cn_end sig_en=5552692dbcedf284b9b4e4b430c06980 -->
     </listitem>
    </varlistentry>
   </variablelist>
  </refsect2>

 </refsect1>


 <refsect1>
<!-- pgdoc-cn_start sig_en=3b1cdb4e9f7c411322dc1c76ca7f31f3 sig_cn_org=None source=14.1 
  <title>Environment</title>
________________________________________________________-->
  <title>环境</title>
<!-- pgdoc-cn_end sig_en=3b1cdb4e9f7c411322dc1c76ca7f31f3 -->

  <variablelist>
   <varlistentry>
    <term><envar>PGCTLTIMEOUT</envar></term>

    <listitem>
<!-- pgdoc-cn_start sig_en=e7c52f5f5458c4638e50d78e2cfc0f2c sig_cn_org=None source=14.1 
     <para>
      Default limit on the number of seconds to wait when waiting for startup
      or shutdown to complete.  If not set, the default is 60 seconds.
     </para>
________________________________________________________-->
     <para>
      等待启动或者关闭完成时要等待的默认秒数限制。如果没有设置，
      默认值是 60 秒。
     </para>
<!-- pgdoc-cn_end sig_en=e7c52f5f5458c4638e50d78e2cfc0f2c -->
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><envar>PGDATA</envar></term>

    <listitem>
<!-- pgdoc-cn_start sig_en=46d1f6bcb7fe88147a512661fe6397ef sig_cn_org=None source=14.1 
     <para>
      Default data directory location.
     </para>
________________________________________________________-->
     <para>
      默认的数据目录位置。
     </para>
<!-- pgdoc-cn_end sig_en=46d1f6bcb7fe88147a512661fe6397ef -->
    </listitem>
   </varlistentry>

  </variablelist>

<!-- pgdoc-cn_start sig_en=f654f026b855133e457f02b88de3bf7d sig_cn_org=None source=14.1 
  <para>
   Most <command>pg_ctl</command> modes require knowing the data directory
   location; therefore, the <option>-D</option> option is required
   unless <envar>PGDATA</envar> is set.
  </para>
________________________________________________________-->
  <para>
   大部分的<command>pg_ctl</command>模式都要求知道数据目录的位置，因此<option>-D</option>选项是必需的，除非<envar>PGDATA</envar>被设置。
  </para>
<!-- pgdoc-cn_end sig_en=f654f026b855133e457f02b88de3bf7d -->

<!-- pgdoc-cn_start sig_en=9c1d7d3eef5e9534696cdc647742db95 sig_cn_org=None source=14.1 
  <para>
   <command>pg_ctl</command>, like most other <productname>PostgreSQL</productname>
   utilities,
   also uses the environment variables supported by <application>libpq</application>
   (see <xref linkend="libpq-envars"/>).
  </para>
________________________________________________________-->
  <para>
   和大部分其他<productname>PostgreSQL</productname>工具相似，<command>pg_ctl</command>也使用<application>libpq</application>（见<xref linkend="libpq-envars"/>）支持的环境变量。
  </para>
<!-- pgdoc-cn_end sig_en=9c1d7d3eef5e9534696cdc647742db95 -->

<!-- pgdoc-cn_start sig_en=257bd308f1538ccd63abb1a4ea933970 sig_cn_org=None source=14.1 
  <para>
   For additional variables that affect the server,
   see <xref linkend="app-postgres"/>.
  </para>
________________________________________________________-->
  <para>
   更多影响服务器的变量请见<xref linkend="app-postgres"/>。
  </para>
<!-- pgdoc-cn_end sig_en=257bd308f1538ccd63abb1a4ea933970 -->
 </refsect1>


 <refsect1>
<!-- pgdoc-cn_start sig_en=3317919ac2f9eaccab36d2e8a1515434 sig_cn_org=None source=14.1 
  <title>Files</title>
________________________________________________________-->
  <title>文件</title>
<!-- pgdoc-cn_end sig_en=3317919ac2f9eaccab36d2e8a1515434 -->

  <variablelist>
   <varlistentry>
    <term><filename>postmaster.pid</filename></term>

    <listitem>
<!-- pgdoc-cn_start sig_en=d95b0942a20bbb19e694e9e3ac76bfed sig_cn_org=None source=14.1 
     <para>
      <application>pg_ctl</application> examines this file in the data
      directory to determine whether the server is currently running.
     </para>
________________________________________________________-->
     <para>
      <application>pg_ctl</application>在数据目录中检查这个文件来判断服务器当前是否正在运行。
     </para>
<!-- pgdoc-cn_end sig_en=d95b0942a20bbb19e694e9e3ac76bfed -->
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><filename>postmaster.opts</filename></term>

    <listitem>
<!-- pgdoc-cn_start sig_en=c5fb3c823c5a250f287c4c1b0ac28a3f sig_cn_org=None source=14.1 
     <para>If this file exists in the data directory,
      <application>pg_ctl</application> (in <option>restart</option> mode)
      will pass the contents of the file as options to
      <application>postgres</application>, unless overridden
      by the <option>-o</option> option. The contents of this file
      are also displayed in <option>status</option> mode.
     </para>
________________________________________________________-->
     <para>如果这个文件存在于数据目录中，<application>pg_ctl</application>（处于<option>restart</option>模式中）将把该文件的内容作为选项传递给<application>postgres</application>，除非通过<option>-o</option>选项进行了覆盖。这个文件的内容也会被显示在<option>status</option>模式中。
     </para>
<!-- pgdoc-cn_end sig_en=c5fb3c823c5a250f287c4c1b0ac28a3f -->
    </listitem>
   </varlistentry>

  </variablelist>
 </refsect1>


 <refsect1 id="r1-app-pgctl-2">
<!-- pgdoc-cn_start sig_en=8f24ed0a9e4d47ffa2be9a1f3e09fa6d sig_cn_org=None source=14.1 
  <title>Examples</title>
________________________________________________________-->
  <title>例子</title>
<!-- pgdoc-cn_end sig_en=8f24ed0a9e4d47ffa2be9a1f3e09fa6d -->

  <refsect2 id="r2-app-pgctl-3">
<!-- pgdoc-cn_start sig_en=fa15f7136766ca0b689a5acd847bc023 sig_cn_org=None source=14.1 
   <title>Starting the Server</title>
________________________________________________________-->
   <title>启动服务器</title>
<!-- pgdoc-cn_end sig_en=fa15f7136766ca0b689a5acd847bc023 -->

<!-- pgdoc-cn_start sig_en=a0e2cf73bc1adfde3ad362376214ab8b sig_cn_org=None source=14.1 
   <para>
    To start the server, waiting until the server is
    accepting connections:
<screen>
<prompt>$</prompt> <userinput>pg_ctl start</userinput>
</screen>
   </para>
________________________________________________________-->
   <para>
    要启动服务器并且等到服务器接受连接：
<screen>
<prompt>$</prompt> <userinput>pg_ctl start</userinput>
</screen>
   </para>
<!-- pgdoc-cn_end sig_en=a0e2cf73bc1adfde3ad362376214ab8b -->

<!-- pgdoc-cn_start sig_en=b5249d82fd66e288930d17bb29121b53 sig_cn_org=None source=14.1 
   <para>
    To start the server using port 5433, and
    running without <function>fsync</function>, use:
<screen>
<prompt>$</prompt> <userinput>pg_ctl -o "-F -p 5433" start</userinput>
</screen></para>
________________________________________________________-->
   <para>
    要使用端口 5433 启动服务器并且运行时不使用<function>fsync</function>：
<screen>
<prompt>$</prompt> <userinput>pg_ctl -o "-F -p 5433" start</userinput>
</screen></para>
<!-- pgdoc-cn_end sig_en=b5249d82fd66e288930d17bb29121b53 -->
  </refsect2>

  <refsect2 id="r2-app-pgctl-4">
<!-- pgdoc-cn_start sig_en=d604acf77062f84a13542c53ebd78723 sig_cn_org=None source=14.1 
   <title>Stopping the Server</title>
________________________________________________________-->
   <title>停止服务器</title>
<!-- pgdoc-cn_end sig_en=d604acf77062f84a13542c53ebd78723 -->
<!-- pgdoc-cn_start sig_en=f3b6377a420b6366c9c8ee59ed4c6a2f sig_cn_org=None source=14.1 
   <para>
    To stop the server, use:
<screen>
<prompt>$</prompt> <userinput>pg_ctl stop</userinput>
</screen>
    The <option>-m</option> option allows control over
    <emphasis>how</emphasis> the server shuts down:
<screen>
<prompt>$</prompt> <userinput>pg_ctl stop -m smart</userinput>
</screen></para>
________________________________________________________-->
   <para>
    要停止服务器，使用：
<screen>
<prompt>$</prompt> <userinput>pg_ctl stop</userinput>
</screen>
    <option>-m</option>选项允许控制服务器<emphasis>如何</emphasis>关闭：
<screen>
<prompt>$</prompt> <userinput>pg_ctl stop -m smart</userinput>
</screen></para>
<!-- pgdoc-cn_end sig_en=f3b6377a420b6366c9c8ee59ed4c6a2f -->
  </refsect2>

  <refsect2 id="r2-app-pgctl-5">
<!-- pgdoc-cn_start sig_en=0d5fc74cb44f68d0cc31e3805cc66e68 sig_cn_org=None source=14.1 
   <title>Restarting the Server</title>
________________________________________________________-->
   <title>重启服务器</title>
<!-- pgdoc-cn_end sig_en=0d5fc74cb44f68d0cc31e3805cc66e68 -->

<!-- pgdoc-cn_start sig_en=52e980886a79d946755de5c3b23c381a sig_cn_org=None source=14.1 
   <para>
    Restarting the server is almost equivalent to stopping the
    server and starting it again, except that by default,
    <command>pg_ctl</command> saves and reuses the command line options that
    were passed to the previously-running instance.  To restart
    the server using the same options as before, use:
<screen>
<prompt>$</prompt> <userinput>pg_ctl restart</userinput>
</screen>
   </para>
________________________________________________________-->
   <para>
    重启服务器几乎等价于停止服务器并且再次启动它，不过<command>pg_ctl</command>默认会保存并重用被传递给之前的运行实例的命令行选项。要以和之前相同的选项重启服务器，使用：
<screen>
<prompt>$</prompt> <userinput>pg_ctl restart</userinput>
</screen>
   </para>
<!-- pgdoc-cn_end sig_en=52e980886a79d946755de5c3b23c381a -->

<!-- pgdoc-cn_start sig_en=c1842a9270ed8766ce818606e4f72ee8 sig_cn_org=None source=14.1 
   <para>
    But if <option>-o</option> is specified, that replaces any previous options.
    To restart using port 5433, disabling <function>fsync</function> upon restart:
<screen>
<prompt>$</prompt> <userinput>pg_ctl -o "-F -p 5433" restart</userinput>
</screen></para>
________________________________________________________-->
   <para>
    但是如果指定了<option>-o</option>，则会替换任何之前的选项。要使用端口 5433 重启并在重启时禁用<function>fsync</function>：
<screen>
<prompt>$</prompt> <userinput>pg_ctl -o "-F -p 5433" restart</userinput>
</screen></para>
<!-- pgdoc-cn_end sig_en=c1842a9270ed8766ce818606e4f72ee8 -->
  </refsect2>

  <refsect2 id="r2-app-pgctl-6">
<!-- pgdoc-cn_start sig_en=00ef65f4bc27888ac4fa18a67152e435 sig_cn_org=None source=14.1 
   <title>Showing the Server Status</title>
________________________________________________________-->
   <title>显示服务器状态</title>
<!-- pgdoc-cn_end sig_en=00ef65f4bc27888ac4fa18a67152e435 -->

<!-- pgdoc-cn_start sig_en=3cd0f238f86c1bef5aa15d248516ccd0 sig_cn_org=None source=14.1 
   <para>
    Here is sample status output from
    <application>pg_ctl</application>:
<screen>
<prompt>$</prompt> <userinput>pg_ctl status</userinput>
<computeroutput>
pg_ctl: server is running (PID: 13718)
/usr/local/pgsql/bin/postgres "-D" "/usr/local/pgsql/data" "-p" "5433" "-B" "128"
</computeroutput></screen>
    The second line is the command that would be invoked in restart mode.
   </para>
________________________________________________________-->
   <para>
    这里是<application>pg_ctl</application>状态输出的例子：
<screen>
<prompt>$</prompt> <userinput>pg_ctl status</userinput>
<computeroutput>
pg_ctl: server is running (PID: 13718)
/usr/local/pgsql/bin/postgres "-D" "/usr/local/pgsql/data" "-p" "5433" "-B" "128"
</computeroutput></screen>
    第二行是在重启模式可能被调用的命令行。
   </para>
<!-- pgdoc-cn_end sig_en=3cd0f238f86c1bef5aa15d248516ccd0 -->
  </refsect2>
 </refsect1>


 <refsect1>
<!-- pgdoc-cn_start sig_en=8b7cc214676b443e6527e3d6bf054420 sig_cn_org=None source=14.1 
  <title>See Also</title>
________________________________________________________-->
  <title>参见</title>
<!-- pgdoc-cn_end sig_en=8b7cc214676b443e6527e3d6bf054420 -->

  <simplelist type="inline">
   <member><xref linkend="app-initdb"/></member>
   <member><xref linkend="app-postgres"/></member>
  </simplelist>
 </refsect1>

</refentry>

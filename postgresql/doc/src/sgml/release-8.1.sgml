<!-- doc/src/sgml/release-8.1.sgml -->
<!-- See header comment in release.sgml about typical markup -->

 <sect1 id="release-8-1-23">
  <!-- 
  <title>Release 8.1.23</title>
  -->
  <title>版本 8.1.23</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2010-12-16</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.22.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.22以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <!--
<para>
   This is expected to be the last <productname>PostgreSQL</> release
   in the 8.1.X series.  Users are encouraged to update to a newer
   release branch soon.
  </para>
-->
<para>
这预计是8.1.X系列的最后一个<productname>PostgreSQL</>版本。
推荐用户尽快更新到一个新的版本分支。
</para>

  <sect2>
   <!--
   <title>Migration to Version 8.1.23</title>
   -->
   <title>迁移到版本 8.1.23</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.18,
    see <xref linkend="release-8-1-18">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.18的版本升级而来，
那么请查看<xref linkend="release-8-1-18">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Force the default
      <link linkend="guc-wal-sync-method"><varname>wal_sync_method</></link>
      to be <literal>fdatasync</> on Linux (Tom Lane, Marti Raudsepp)
     </para>
-->
<para>
强制Linux上<link linkend="guc-wal-sync-method"><varname>wal_sync_method</></link>
的缺省为<literal>fdatasync</> (Tom Lane, Marti Raudsepp)
</para>

     <!--
<para>
      The default on Linux has actually been <literal>fdatasync</> for many
      years, but recent kernel changes caused <productname>PostgreSQL</> to
      choose <literal>open_datasync</> instead.  This choice did not result
      in any performance improvement, and caused outright failures on
      certain filesystems, notably <literal>ext4</> with the
      <literal>data=journal</> mount option.
     </para>
-->
<para>
Linux上的缺省实际上是<literal>fdatasync</>已经很多年了，但是最近的内核改变导致
<productname>PostgreSQL</>选择了<literal>open_datasync</>。这个选择不会导致任何性能提升，
并且在某些文件系统上引起了彻底的失败，尤其是<literal>ext4</>
和<literal>data=journal</>挂载选项。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix recovery from base backup when the starting checkpoint WAL record
      is not in the same WAL segment as its redo point (Jeff Davis)
     </para>
-->
<para>
当起始检查点WAL记录和它的重做点不在同一个WAL段时，
修复来自基础备份的恢复 (Jeff Davis)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add support for detecting register-stack overrun on <literal>IA64</>
      (Tom Lane)
     </para>
-->
<para>
添加在<literal>IA64</>上检测注册堆栈溢出的支持 (Tom Lane)
</para>

     <!--
<para>
      The <literal>IA64</> architecture has two hardware stacks.  Full
      prevention of stack-overrun failures requires checking both.
     </para>
-->
<para>
<literal>IA64</>体系结构有两个硬件堆栈。全面预防堆栈溢出失败需要两个都检查。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add a check for stack overflow in <function>copyObject()</> (Tom Lane)
     </para>
-->
<para>
添加对<function>copyObject()</>中堆栈溢出的检查 (Tom Lane)
</para>

     <!--
<para>
      Certain code paths could crash due to stack overflow given a
      sufficiently complex query.
     </para>
-->
<para>
某些的代码路径可能会由于堆栈溢出给出一个足够复杂的查询而崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix detection of page splits in temporary GiST indexes (Heikki
      Linnakangas)
     </para>
-->
<para>
修复临时GiST索引中的页分裂检测 (Heikki Linnakangas)
</para>

     <!--
<para>
      It is possible to have a <quote>concurrent</> page split in a
      temporary index, if for example there is an open cursor scanning the
      index when an insertion is done.  GiST failed to detect this case and
      hence could deliver wrong results when execution of the cursor
      continued.
     </para>
-->
<para>
在一个临时索引上有一个<quote>并发的</>页分裂是可能的，
如果例如当完成一个插入时正好有一个开放的游标扫描索引。
GiST未能检测这种情况，并且因此导致游标的执行继续时给出错误的结果。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid memory leakage while <command>ANALYZE</>'ing complex index
      expressions (Tom Lane)
     </para>
-->
<para>
当正在<command>ANALYZE</>复杂索引表达式时，避免内存泄露 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure an index that uses a whole-row Var still depends on its table
      (Tom Lane)
     </para>
-->
<para>
确保使用整行变量的索引仍然依赖于它的表 (Tom Lane)
</para>

     <!--
<para>
      An index declared like <literal>create index i on t (foo(t.*))</>
      would not automatically get dropped when its table was dropped.
     </para>
-->
<para>
像<literal>create index i on t (foo(t.*))</>这样的索引声明在它的表被删除时，
将不会自动被删除。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Do not <quote>inline</> a SQL function with multiple <literal>OUT</>
      parameters (Tom Lane)
     </para>
-->
<para>
不要用多个<literal>OUT</>参数<quote>内联</>一个SQL函数 (Tom Lane)
</para>

     <!--
<para>
      This avoids a possible crash due to loss of information about the
      expected result rowtype.
     </para>
-->
<para>
这避免了由于丢失预期的结果行类型的信息而引起的可能的崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix constant-folding of <literal>COALESCE()</> expressions (Tom Lane)
     </para>
-->
<para>
修复<literal>COALESCE()</>表达式的常量合并 (Tom Lane)
</para>

     <!--
<para>
      The planner would sometimes attempt to evaluate sub-expressions that
      in fact could never be reached, possibly leading to unexpected errors.
     </para>
-->
<para>
规划器有时尝试评估子表达式而实际上是不可能的，有可能导致意想不到的错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add print functionality for <structname>InhRelation</> nodes (Tom Lane)
     </para>
-->
<para>
为<structname>InhRelation</>结点添加打印功能 (Tom Lane)
</para>

     <!--
<para>
      This avoids a failure when <varname>debug_print_parse</> is enabled
      and certain types of query are executed.
     </para>
-->
<para>
这避免了启用<varname>debug_print_parse</>和执行某些类型的查询时的失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect calculation of distance from a point to a horizontal
      line segment (Tom Lane)
     </para>
-->
<para>
修复点到水平线段间距离的不正确的计算 (Tom Lane)
</para>

     <!--
<para>
      This bug affected several different geometric distance-measurement
      operators.
     </para>
-->
<para>
这个错误影响几个不同的几何距离测量操作符。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>PL/pgSQL</>'s handling of <quote>simple</>
      expressions to not fail in recursion or error-recovery cases (Tom Lane)
     </para>
-->
<para>
修复<application>PL/pgSQL</>处理<quote>简单的</>表达式，
在递归或错误恢复的情况下不要失败 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bug in <filename>contrib/cube</>'s GiST picksplit algorithm
      (Alexander Korotkov)
     </para>
-->
<para>
修复<filename>contrib/cube</>的GiST picksplit算法中的错误 (Alexander Korotkov)
</para>

     <!--
<para>
      This could result in considerable inefficiency, though not actually
      incorrect answers, in a GiST index on a <type>cube</> column.
      If you have such an index, consider <command>REINDEX</>ing it after
      installing this update.
     </para>
-->
<para>
这会导致<type>cube</>字段上GiST索引中大量的低效，和不完全正确的答案。
如果你有这样的一个索引，考虑安装这个更新之后<command>REINDEX</>它。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Don't emit <quote>identifier will be truncated</> notices in
      <filename>contrib/dblink</> except when creating new connections
      (Itagaki Takahiro)
     </para>
-->
<para>
不要在<filename>contrib/dblink</>中发出<quote>标识符将被截断</>的通知，
除非是在创建新的连接 (Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix potential coredump on missing public key in
      <filename>contrib/pgcrypto</> (Marti Raudsepp)
     </para>
-->
<para>
修复<filename>contrib/pgcrypto</>中丢失的公共键上潜在的内核转储 (Marti Raudsepp)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix memory leak in <filename>contrib/xml2</>'s XPath query functions
      (Tom Lane)
     </para>
-->
<para>
修复<filename>contrib/xml2</>的XPath查询函数中的内存泄露 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2010o
      for DST law changes in Fiji and Samoa;
      also historical corrections for Hong Kong.
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本2010o，
因为DST规律在Fiji和Samoa发生了改变；还有对Hong Kong的历史纠正。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-22">
    <!-- 
  <title>Release 8.1.22</title>
  -->
  <title>版本 8.1.22</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2010-10-04</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.21.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.21以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <!--
<para>
   The <productname>PostgreSQL</> community will stop releasing updates
   for the 8.1.X release series in November 2010.
   Users are encouraged to update to a newer release branch soon.
  </para>
-->
<para>
<productname>PostgreSQL</>社区将在2010年11月份停止对8.1.X版本系列的更新。
建议用户尽快升级到新的版本分支。
</para>

  <sect2>
   <!--
   <title>Migration to Version 8.1.22</title>
   -->
   <title>迁移到版本 8.1.22</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.18,
    see <xref linkend="release-8-1-18">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.18的版本升级而来，
那么请查看<xref linkend="release-8-1-18">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Use a separate interpreter for each calling SQL userid in PL/Perl and
      PL/Tcl (Tom Lane)
     </para>
-->
<para>
在PL/Perl和PL/Tcl中为每个调用的SQL用户id使用一个单独的解释器 (Tom Lane)
</para>

     <!--
<para>
      This change prevents security problems that can be caused by subverting
      Perl or Tcl code that will be executed later in the same session under
      another SQL user identity (for example, within a <literal>SECURITY
      DEFINER</> function).  Most scripting languages offer numerous ways that
      that might be done, such as redefining standard functions or operators
      called by the target function.  Without this change, any SQL user with
      Perl or Tcl language usage rights can do essentially anything with the
      SQL privileges of the target function's owner.
     </para>
-->
<para>
这个修改阻止了破坏稍后将在同一个会话中在另一个SQL用户身份下执行的Perl或Tcl
代码引起的安全问题（例如，在一个<literal>SECURITY DEFINER</>函数中）。
大多数脚本语言提供很多可能执行的方式，比如重新定义被目标函数调用的标准函数或操作符。
如果没有这个修改，任何拥有Perl或Tcl语言使用权限的SQL
用户基本上都可以以目标函数所有者的SQL权限做任何事情。
</para>

     <!--
<para>
      The cost of this change is that intentional communication among Perl
      and Tcl functions becomes more difficult.  To provide an escape hatch,
      PL/PerlU and PL/TclU functions continue to use only one interpreter
      per session.  This is not considered a security issue since all such
      functions execute at the trust level of a database superuser already.
     </para>
-->
<para>
这个修改的代价是Perl和Tcl函数之间有意的沟通变得更加困难。
为了提供一个转义出口，PL/PerlU和PL/TclU函数继续每个会话只使用一个解释器。
这不认为是一个安全问题，因为所有这样的函数都在数据库超级用户的信任级别执行。
</para>

     <!--
<para>
      It is likely that third-party procedural languages that claim to offer
      trusted execution have similar security issues.  We advise contacting
      the authors of any PL you are depending on for security-critical
      purposes.
     </para>
-->
<para>
有可能第三方程序语言声称提供受信任的执行有相似的安全问题。
我们建议为了安全鉴定的目的联系任何你依赖的PL的作者。
</para>

     <!--
<para>
      Our thanks to Tim Bunce for pointing out this issue (CVE-2010-3433).
     </para>
-->
<para>
我们感谢Tim Bunce指出这个问题 (CVE-2010-3433)。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent possible crashes in <function>pg_get_expr()</> by disallowing
      it from being called with an argument that is not one of the system
      catalog columns it's intended to be used with
      (Heikki Linnakangas, Tom Lane)
     </para>
-->
<para>
阻止<function>pg_get_expr()</>中可能的崩溃，通过不允许它被一个参数调用，
该参数不是它打算使用的系统目录字段之一 (Heikki Linnakangas, Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <quote>cannot handle unplanned sub-select</quote> error (Tom Lane)
     </para>
-->
<para>
修复<quote>不能处理未规划的子查询</quote>错误 (Tom Lane)
</para>

     <!--
<para>
      This occurred when a sub-select contains a join alias reference that
      expands into an expression containing another sub-select.
     </para>
-->
<para>
这在子查询包含一个连接别名引用，该引用扩展成一个包含另一个子查询的表达式时发生。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent show_session_authorization() from crashing within autovacuum
      processes (Tom Lane)
     </para>
-->
<para>
阻止show_session_authorization()在自动清理进程中崩溃 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Defend against functions returning setof record where not all the
      returned rows are actually of the same rowtype (Tom Lane)
     </para>
-->
<para>
防止函数返回行类型不是完全相同的记录集 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible failure when hashing a pass-by-reference function result
      (Tao Ma, Tom Lane)
     </para>
-->
<para>
当哈希一个通过引用传递的函数结果时，修复可能的失败 (Tao Ma, Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Take care to fsync the contents of lockfiles (both
      <filename>postmaster.pid</> and the socket lockfile) while writing them
      (Tom Lane)
     </para>
-->
<para>
当在写入锁文件时，小心的同步它们的内容（<filename>postmaster.pid</>
和套接字锁文件） (Tom Lane)
</para>

     <!--
<para>
      This omission could result in corrupted lockfile contents if the
      machine crashes shortly after postmaster start.  That could in turn
      prevent subsequent attempts to start the postmaster from succeeding,
      until the lockfile is manually removed.
     </para>
-->
<para>
如果机器在主进程启动之后很快就崩溃，那么这个疏忽会导致损坏锁文件的内容。
转而阻止随后的尝试成功的启动主进程，直到手动移除锁文件。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid recursion while assigning XIDs to heavily-nested
      subtransactions (Andres Freund, Robert Haas)
     </para>
-->
<para>
当分配XID到深层嵌套的子事务时，避免递归 (Andres Freund, Robert Haas)
</para>

     <!--
<para>
      The original coding could result in a crash if there was limited
      stack space.
     </para>
-->
<para>
如果限制了堆栈空间，那么原始的代码会导致一个崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <varname>log_line_prefix</>'s <literal>%i</> escape,
      which could produce junk early in backend startup (Tom Lane)
     </para>
-->
<para>
修复<varname>log_line_prefix</>的<literal>%i</>转义，
它会导致在后台启动时就产生垃圾 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible data corruption in <command>ALTER TABLE ... SET
      TABLESPACE</> when archiving is enabled (Jeff Davis)
     </para>
-->
<para>
修复启用归档时，<command>ALTER TABLE ... SET TABLESPACE</>
中可能的数据损坏 (Jeff Davis)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow <command>CREATE DATABASE</> and <command>ALTER DATABASE ... SET
      TABLESPACE</> to be interrupted by query-cancel (Guillaume Lelarge)
     </para>
-->
<para>
允许<command>CREATE DATABASE</>和<command>ALTER DATABASE ... SET TABLESPACE</>
被查询取消中断 (Guillaume Lelarge)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      In PL/Python, defend against null pointer results from
      <function>PyCObject_AsVoidPtr</> and <function>PyCObject_FromVoidPtr</>
      (Peter Eisentraut)
     </para>
-->
<para>
在PL/Python中，防止<function>PyCObject_AsVoidPtr</>和
<function>PyCObject_FromVoidPtr</>产生空指针结果  (Peter Eisentraut)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve <filename>contrib/dblink</>'s handling of tables containing
      dropped columns (Tom Lane)
     </para>
-->
<para>
改善<filename>contrib/dblink</>对包含删除字段的表的处理 (Tom Lane)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix connection leak after <quote>duplicate connection name</quote>
      errors in <filename>contrib/dblink</> (Itagaki Takahiro)
     </para>
-->
<para>
修复<filename>contrib/dblink</>中<quote>重复的连接名</quote>
错误之后的连接泄露 (Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <filename>contrib/dblink</> to handle connection names longer than
      62 bytes correctly (Itagaki Takahiro)
     </para>
-->
<para>
修复<filename>contrib/dblink</>，正确的处理连接名字长于62字节 (Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update build infrastructure and documentation to reflect the source code
      repository's move from CVS to Git (Magnus Hagander and others)
     </para>
-->
<para>
更新建立的基础结构和文档，以反映源代码仓库从CVS搬到了Git (Magnus Hagander and others)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2010l
      for DST law changes in Egypt and Palestine; also historical corrections
      for Finland.
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本20101，因为DST规律在Egypt和Paletine发生了改变；
还有对Finland的历史纠正。
</para>

     <!--
<para>
      This change also adds new names for two Micronesian timezones:
      Pacific/Chuuk is now preferred over Pacific/Truk (and the preferred
      abbreviation is CHUT not TRUT) and Pacific/Pohnpei is preferred over
      Pacific/Ponape.
     </para>
-->
<para>
这个修改还为两个Micronesian时区添加了新的名字：Pacific/Chuuk
现在比Pacific/Truk更受欢迎（并且首选的缩写是CHUT，不是TRUT），
Pacific/Pohnpei比Pacific/Ponape更受欢迎。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-21">
    <!-- 
  <title>Release 8.1.21</title>
  -->
  <title>版本 8.1.21</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2010-05-17</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.20.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.20以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.21</title>
   -->
   <title>迁移到版本 8.1.21</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.18,
    see <xref linkend="release-8-1-18">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.18的版本升级而来，
那么请查看<xref linkend="release-8-1-18">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Enforce restrictions in <literal>plperl</> using an opmask applied to
      the whole interpreter, instead of using <filename>Safe.pm</>
      (Tim Bunce, Andrew Dunstan)
     </para>
-->
<para>
使用一个开放标记应用到整个解释器强制<literal>plperl</>中的限制，
而不是使用<filename>Safe.pm</> (Tim Bunce, Andrew Dunstan)
</para>

     <!--
<para>
      Recent developments have convinced us that <filename>Safe.pm</> is too
      insecure to rely on for making <literal>plperl</> trustable.  This
      change removes use of <filename>Safe.pm</> altogether, in favor of using
      a separate interpreter with an opcode mask that is always applied.
      Pleasant side effects of the change include that it is now possible to
      use Perl's <literal>strict</> pragma in a natural way in
      <literal>plperl</>, and that Perl's <literal>$a</> and <literal>$b</>
      variables work as expected in sort routines, and that function
      compilation is significantly faster.  (CVE-2010-1169)
     </para>
-->
<para>
最近的发展已经向我们证实：依赖于<filename>Safe.pm</>使得<literal>plperl</>
可信任太不安全了。这个修改也一起删除了对<filename>Safe.pm</>的使用，
为了支持使用一个总是应用开放代码标记的单独的解释器。
这个修改令人愉快的副作用包括：现在有可能在<literal>plperl</>
中以自然的方式使用Perl的<literal>strict</>编译，并且Perl的<literal>$a</>
和<literal>$b</>变量在排序例程中像预期的那样工作，并且函数的编译显著的更快了。
(CVE-2010-1169) 
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent PL/Tcl from executing untrustworthy code from
      <structname>pltcl_modules</> (Tom)
     </para>
-->
<para>
阻止PL/Tcl执行来自<structname>pltcl_modules</>的不受信任的代码 (Tom)
</para>

     <!--
<para>
      PL/Tcl's feature for autoloading Tcl code from a database table
      could be exploited for trojan-horse attacks, because there was no
      restriction on who could create or insert into that table.  This change
      disables the feature unless <structname>pltcl_modules</> is owned by a
      superuser.  (However, the permissions on the table are not checked, so
      installations that really need a less-than-secure modules table can
      still grant suitable privileges to trusted non-superusers.)  Also,
      prevent loading code into the unrestricted <quote>normal</> Tcl
      interpreter unless we are really going to execute a <literal>pltclu</>
      function.  (CVE-2010-1170)
     </para>
-->
<para>
PL/Tcl自动从数据库表中加载Tcl代码的特性可能会被特洛伊木马攻击利用，
因为没有限制谁可以创建或插入到那个表。这个修改禁用了该特性，
除非<structname>pltcl_modules</>是被超级用户拥有。（不过，
该表上的权限是不检查的，所以实际上需要较小安全模块的表的
安装仍然可以赋予合适的权限到受信任的非超级用户。）
另外，阻止加载代码到不受限制的<quote>普通</>Tcl解释器中，
除非我们真的要执行一个<literal>pltclu</>函数。 (CVE-2010-1170)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Do not allow an unprivileged user to reset superuser-only parameter
      settings (Alvaro)
     </para>
-->
<para>
不要允许一个非特权用户重置超级用户仅有的参数设置 (Alvaro)
</para>

     <!--
<para>
      Previously, if an unprivileged user ran <literal>ALTER USER ... RESET
      ALL</> for himself, or <literal>ALTER DATABASE ... RESET ALL</> for
      a database he owns, this would remove all special parameter settings
      for the user or database, even ones that are only supposed to be
      changeable by a superuser.  Now, the <command>ALTER</> will only
      remove the parameters that the user has permission to change.
     </para>
-->
<para>
以前，如果一个非特权用户为自己运行<literal>ALTER USER ... RESET ALL</>，
或为他拥有的数据库运行<literal>ALTER DATABASE ... RESET ALL</>，
将为该用户或数据库删除所有特殊的参数设置，甚至只应该是超级用户可改的参数。
现在，<command>ALTER</>将只删除该用户有权限修改的参数。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid possible crash during backend shutdown if shutdown occurs
      when a <literal>CONTEXT</> addition would be made to log entries (Tom)
     </para>
-->
<para>
如果关闭发生在<literal>CONTEXT</>添加到日志项时，避免后端关闭期间可能的崩溃 (Tom)
</para>

     <!--
<para>
      In some cases the context-printing function would fail because the
      current transaction had already been rolled back when it came time
      to print a log message.
     </para>
-->
<para>
在某些情况下，上下文打印函数将失败，因为当它要输出一个日志信息时当前事务早已回滚。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update pl/perl's <filename>ppport.h</> for modern Perl versions
      (Andrew)
     </para>
-->
<para>
为现代的Perl版本更新pl/perl的<filename>ppport.h</> (Andrew)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix assorted memory leaks in pl/python (Andreas Freund, Tom)
     </para>
-->
<para>
修复pl/python中的各种内存泄露 (Andreas Freund, Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent infinite recursion in <application>psql</> when expanding
      a variable that refers to itself (Tom)
     </para>
-->
<para>
当扩展一个引用本身的变量时，阻止<application>psql</>中的无限递归 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that <filename>contrib/pgstattuple</> functions respond to cancel
      interrupts promptly (Tatsuhito Kasahara)
     </para>
-->
<para>
确保<filename>contrib/pgstattuple</>函数迅速的响应取消中断 (Tatsuhito Kasahara)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make server startup deal properly with the case that
      <function>shmget()</> returns <literal>EINVAL</> for an existing
      shared memory segment (Tom)
     </para>
-->
<para>
让服务器启动正确的处理<function>shmget()</>为一个现有的共享内存段返回
<literal>EINVAL</>的情况 (Tom)
</para>

     <!--
<para>
      This behavior has been observed on BSD-derived kernels including OS X.
      It resulted in an entirely-misleading startup failure complaining that
      the shared memory request size was too large.
     </para>
-->
<para>
这个行为在BSD驱动的内核上，包括OS X，已经被观察到了。
它导致一个完全误导的启动失败抱怨共享内存请求尺寸太大。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2010j
      for DST law changes in Argentina, Australian Antarctic, Bangladesh,
      Mexico, Morocco, Pakistan, Palestine, Russia, Syria, Tunisia;
      also historical corrections for Taiwan.
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本2010j，
因为DST规律在Argentina、Australian Antarctic、Bangladesh、Mexico、Morocco、
Pakistan、Palestine、Russia、Syria、Tunisia已经发生了改变；
还为Taiwan做了历史纠正。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-20">
    <!-- 
  <title>Release 8.1.20</title>
  -->
  <title>版本 8.1.20</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2010-03-15</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.19.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.19以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.20</title>
   -->
   <title>迁移到版本 8.1.20</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.18,
    see <xref linkend="release-8-1-18">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.18的版本升级而来，
那么请查看<xref linkend="release-8-1-18">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Add new configuration parameter <varname>ssl_renegotiation_limit</> to
      control how often we do session key renegotiation for an SSL connection
      (Magnus)
     </para>
-->
<para>
添加新的配置参数<varname>ssl_renegotiation_limit</>，
控制多久为一个SSL连接做一次会话秘钥协商 (Magnus)
</para>

     <!--
<para>
      This can be set to zero to disable renegotiation completely, which may
      be required if a broken SSL library is used.  In particular, some
      vendors are shipping stopgap patches for CVE-2009-3555 that cause
      renegotiation attempts to fail.
     </para>
-->
<para>
该参数可以设置为0来完全禁止重新协商，如果使用了一个破碎的SSL库可能需要这样。
特别的，一些供应商为CVE-2009-3555做了紧急补丁，导致重新协商的尝试失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crashes when trying to recover from a failure in
      subtransaction start (Tom)
     </para>
-->
<para>
修复尝试从一个子事务启动失败中恢复时可能的崩溃 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix server memory leak associated with use of savepoints and a client
      encoding different from server's encoding (Tom)
     </para>
-->
<para>
修复与使用保存点和客户端编码与服务器编码不同有关的服务器内存泄露 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <function>substring()</> for <type>bit</> types treat any negative
      length as meaning <quote>all the rest of the string</> (Tom)
     </para>
-->
<para>
让<function>substring()</>的<type>bit</>类型认为任何负的长度意为
<quote>所有剩余的字符串</> (Tom)
</para>

     <!--
<para>
      The previous coding treated only -1 that way, and would produce an
      invalid result value for other negative values, possibly leading to
      a crash (CVE-2010-0442).
     </para>
-->
<para>
以前的编码只对待-1以这个方式，并且会为其他负值产生一个无效的结果值，
可能导致崩溃 (CVE-2010-0442)。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix integer-to-bit-string conversions to handle the first fractional
      byte correctly when the output bit width is wider than the given
      integer by something other than a multiple of 8 bits (Tom)
     </para>
-->
<para>
修复整数到位字符串的转换，当输出位宽度比给定的整数宽时（不同于8位的倍数），
正确的处理第一个部分的字节 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix some cases of pathologically slow regular expression matching (Tom)
     </para>
-->
<para>
修复某些情况下病理上慢的正则表达式匹配 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix the <literal>STOP WAL LOCATION</> entry in backup history files to
      report the next WAL segment's name when the end location is exactly at a
      segment boundary (Itagaki Takahiro)
     </para>
-->
<para>
修复后端历史文件中的<literal>STOP WAL LOCATION</>入口，
当结束位置正好在一个段的边界时报告下一个WAL段的名字 (Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix some more cases of temporary-file leakage (Heikki)
     </para>
-->
<para>
修复更多情况下临时文件的泄露 (Heikki)
</para>

     <!--
<para>
      This corrects a problem introduced in the previous minor release.
      One case that failed is when a plpgsql function returning set is
      called within another function's exception handler.
     </para>
-->
<para>
这纠正了一个在以前的小版本中引入的问题。失败的一个案例是：
当plpgsql函数返回集在另一个函数的异常处理中调用时。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      When reading <filename>pg_hba.conf</> and related files, do not treat
      <literal>@something</> as a file inclusion request if the <literal>@</>
      appears inside quote marks; also, never treat <literal>@</> by itself
      as a file inclusion request (Tom)
     </para>
-->
<para>
当读取<filename>pg_hba.conf</>和相关的文件时，如果<literal>@</>
出现在双引号标记的内部，不要将<literal>@something</>看做文件包含请求；
另外，永远不要将<literal>@</>本身看做一个文件包含请求 (Tom)
</para>

     <!--
<para>
      This prevents erratic behavior if a role or database name starts with
      <literal>@</>.  If you need to include a file whose path name
      contains spaces, you can still do so, but you must write
      <literal>@"/path to/file"</> rather than putting the quotes around
      the whole construct.
     </para>
-->
<para>
这阻止了角色或数据库名字以<literal>@</>开始时的不规律行为。
如果你需要包含一个路径名包含空格的文件，你可以这样做，
但是你必须写<literal>@"/path to/file"</>而不是让双引号包含整个结构。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent infinite loop on some platforms if a directory is named as
      an inclusion target in <filename>pg_hba.conf</> and related files
      (Tom)
     </para>
-->
<para>
如果一个路径以<filename>pg_hba.conf</>和相关文件中的包含目标命名，
那么阻止某些平台上的无限循环 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>psql</>'s <literal>numericlocale</> option to not
      format strings it shouldn't in latex and troff output formats (Heikki)
     </para>
-->
<para>
修复<application>psql</>的<literal>numericlocale</>选项，
不要格式化它不应该以latex和troff输出格式的字符串 (Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix plpgsql failure in one case where a composite column is set to NULL
      (Tom)
     </para>
-->
<para>
修复plpgsql在复合字段设置为NULL时的失败 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add <literal>volatile</> markings in PL/Python to avoid possible
      compiler-specific misbehavior (Zdenek Kotala)
     </para>
-->
<para>
在PL/Python中添加<literal>volatile</>标记，以避免可能的编译器特定不良行为 (Zdenek Kotala)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure PL/Tcl initializes the Tcl interpreter fully (Tom)
     </para>
-->
<para>
确保PL/Tcl完全初始化Tcl解释器 (Tom)
</para>

     <!--
<para>
      The only known symptom of this oversight is that the Tcl
      <literal>clock</> command misbehaves if using Tcl 8.5 or later.
     </para>
-->
<para>
这个疏忽唯一已知的症状是：如果使用Tcl 8.5或更新，
Tcl <literal>clock</>命令错误行为。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent crash in <filename>contrib/dblink</> when too many key
      columns are specified to a <function>dblink_build_sql_*</> function
      (Rushabh Lathia, Joe Conway)
     </para>
-->
<para>
当太多的关键字段指定到一个<function>dblink_build_sql_*</>函数时，
阻止<filename>contrib/dblink</>中的崩溃 (Rushabh Lathia, Joe Conway)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix assorted crashes in <filename>contrib/xml2</> caused by sloppy
      memory management (Tom)
     </para>
-->
<para>
修复粗心的内存管理引起的<filename>contrib/xml2</>中的各种崩溃 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2010e
      for DST law changes in Bangladesh, Chile, Fiji, Mexico, Paraguay, Samoa.
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本2010e，
因为DST规律在Bangladesh、Chile、Fiji、Mexico、Paraguay、Samoa发生了改变。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-19">
    <!-- 
  <title>Release 8.1.19</title>
  -->
  <title>版本 8.1.19</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2009-12-14</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.18.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.18以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.19</title>
   -->
   <title>迁移到版本 8.1.19</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.18,
    see <xref linkend="release-8-1-18">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.18的版本升级而来，
那么请查看<xref linkend="release-8-1-18">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Protect against indirect security threats caused by index functions
      changing session-local state (Gurjeet Singh, Tom)
     </para>
-->
<para>
防御由索引函数更改会话本地状态引起的间接安全威胁 (Gurjeet Singh, Tom)
</para>

     <!--
<para>
      This change prevents allegedly-immutable index functions from possibly
      subverting a superuser's session (CVE-2009-4136).
     </para>
-->
<para>
这个修改阻止了据称是不变的索引函数可能破坏一个超级用户的会话 (CVE-2009-4136)。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Reject SSL certificates containing an embedded null byte in the common
      name (CN) field (Magnus)
     </para>
-->
<para>
拒绝SSL认证在公共名（CN）字段包含一个嵌入的空字节 (Magnus)
</para>

     <!--
<para>
      This prevents unintended matching of a certificate to a server or client
      name during SSL validation (CVE-2009-4034).
     </para>
-->
<para>
这阻止了SSL验证期间无意识的匹配证书到服务器或客户端名字 (CVE-2009-4034)。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash during backend-startup-time cache initialization (Tom)
     </para>
-->
<para>
修复后端启动缓存初始化期间可能的崩溃 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent signals from interrupting <literal>VACUUM</> at unsafe times
      (Alvaro)
     </para>
-->
<para>
阻止信号在不安全的时间中断<literal>VACUUM</> (Alvaro)
</para>

     <!--
<para>
      This fix prevents a PANIC if a <literal>VACUUM FULL</> is canceled
      after it's already committed its tuple movements, as well as transient
      errors if a plain <literal>VACUUM</> is interrupted after having
      truncated the table.
     </para>
-->
<para>
这个修改阻止了<literal>VACUUM FULL</>在它早已提交它的元组动作之后取消时的PANIC，
还有如果计划<literal>VACUUM</>在截断表之后中断的瞬态错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash due to integer overflow in hash table size
      calculation (Tom)
     </para>
-->
<para>
修复由于哈希表尺寸计算中整数溢出而引起的可能的崩溃 (Tom)
</para>

     <!--
<para>
      This could occur with extremely large planner estimates for the size of
      a hashjoin's result.
     </para>
-->
<para>
这在规划器估算哈希连接的结果非常大时会发生。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix very rare crash in <type>inet</>/<type>cidr</> comparisons (Chris
      Mikkelson)
     </para>
-->
<para>
修复<type>inet</>/<type>cidr</>比较中非常罕见的崩溃 (Chris Mikkelson)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that shared tuple-level locks held by prepared transactions are
      not ignored (Heikki)
     </para>
-->
<para>
确保被预备事务持有的共享的元组级别锁不被忽略 (Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix premature drop of temporary files used for a cursor that is accessed
      within a subtransaction (Heikki)
     </para>
-->
<para>
修复过早删除在一个子事务中访问的被游标使用的临时文件 (Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PAM password processing to be more robust (Tom)
     </para>
-->
<para>
修复PAM口令处理，使其更加稳健 (Tom)
</para>

     <!--
<para>
      The previous code is known to fail with the combination of the Linux
      <literal>pam_krb5</> PAM module with Microsoft Active Directory as the
      domain controller.  It might have problems elsewhere too, since it was
      making unjustified assumptions about what arguments the PAM stack would
      pass to it.
     </para>
-->
<para>
已知以前的代码未能组合Linux <literal>pam_krb5</> PAM模板和Microsoft Active Directory
作为域控制器。它可能在其他地方也有问题，因为它对于要传递哪个PAM堆栈参数做了不公正的假设。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix processing of ownership dependencies during <literal>CREATE OR
      REPLACE FUNCTION</> (Tom)
     </para>
-->
<para>
修复<literal>CREATE OR REPLACE FUNCTION</>期间的所有权依赖关系的处理 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that Perl arrays are properly converted to
      <productname>PostgreSQL</> arrays when returned by a set-returning
      PL/Perl function (Andrew Dunstan, Abhijit Menon-Sen)
     </para>
-->
<para>
当通过一个设置/返回PL/Perl函数返回时，确保Perl数组正确的转换到
<productname>PostgreSQL</>数组 (Andrew Dunstan, Abhijit Menon-Sen)
</para>

     <!--
<para>
      This worked correctly already for non-set-returning functions.
     </para>
-->
<para>
这对于非设置返回函数来说早已正确的工作了。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix rare crash in exception processing in PL/Python (Peter)
     </para>
-->
<para>
修复PL/Python异常处理中罕见的崩溃 (Peter)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure <application>psql</>'s flex module is compiled with the correct
      system header definitions (Tom)
     </para>
-->
<para>
确保<application>psql</>的flex模块是用正确的系统头定义编译的 (Tom)
</para>

     <!--
<para>
      This fixes build failures on platforms where
      <literal>$#045;-enable-largefile</> causes incompatible changes in the
      generated code.
     </para>
-->
<para>
这修复了<literal>--enable-largefile</>导致在生成的代码中不兼容的改变的平台上的建立失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make the postmaster ignore any <literal>application_name</> parameter in
      connection request packets, to improve compatibility with future libpq
      versions (Tom)
     </para>
-->
<para>
让主进程忽略任何在连接请求包中的<literal>application_name</>参数，
以改善与未来libpq版本的兼容性 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2009s
      for DST law changes in Antarctica, Argentina, Bangladesh, Fiji,
      Novokuznetsk, Pakistan, Palestine, Samoa, Syria; also historical
      corrections for Hong Kong.
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本2009s，
因为DST规律已经在Antarctica、Argentina、Bangladesh、Fiji、Novokuznetsk、
Pakistan、Palestine、Samoa、Syria发生了改变；还为Hong Kong做了历史纠正。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-18">
    <!-- 
  <title>Release 8.1.18</title>
  -->
  <title>版本 8.1.18</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2009-09-09</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.17.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.17以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.18</title>
   -->
   <title>迁移到版本 8.1.18</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you have any hash indexes on <type>interval</> columns,
    you must <command>REINDEX</> them after updating to 8.1.18.
    Also, if you are upgrading from a version earlier than 8.1.15,
    see <xref linkend="release-8-1-15">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你在<type>interval</>
字段上有任何哈希索引，你必须在升级到8.1.18之后<command>REINDEX</>它们。
另外，如果你是从一个早于8.1.15的版本升级而来，那么请查看<xref linkend="release-8-1-15">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Disallow <command>RESET ROLE</> and <command>RESET SESSION
      AUTHORIZATION</> inside security-definer functions (Tom, Heikki)
     </para>
-->
<para>
不允许<command>RESET ROLE</>和<command>RESET SESSION AUTHORIZATION</>
在安全定义函数内部 (Tom, Heikki)
</para>

     <!--
<para>
      This covers a case that was missed in the previous patch that
      disallowed <command>SET ROLE</> and <command>SET SESSION
      AUTHORIZATION</> inside security-definer functions.
      (See CVE-2007-6600)
     </para>
-->
<para>
这包含了在以前的补丁中丢失的一个情况，不允许<command>SET ROLE</>
和<command>SET SESSION AUTHORIZATION</>在安全定义函数内部。 (请参阅 CVE-2007-6600)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix handling of sub-SELECTs appearing in the arguments of
      an outer-level aggregate function (Tom)
     </para>
-->
<para>
修复出现在一个外部级别聚合函数的参数中的子查询的处理 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix hash calculation for data type <type>interval</> (Tom)
     </para>
-->
<para>
为数据类型<type>interval</>修复哈希计算 (Tom)
</para>

     <!--
<para>
      This corrects wrong results for hash joins on interval values.
      It also changes the contents of hash indexes on interval columns.
      If you have any such indexes, you must <command>REINDEX</> them
      after updating.
     </para>
-->
<para>
这纠正了哈希连接在间隔值上的错误结果。也改变了哈希索引在间隔字段上的内容。
如果你有任何这样的索引，你必须在更新之后<command>REINDEX</>它们。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Treat <function>to_char(..., 'TH')</> as an uppercase ordinal
      suffix with <literal>'HH'</>/<literal>'HH12'</> (Heikki)
     </para>
-->
<para>
将<function>to_char(..., 'TH')</>看做大写的带有
<literal>'HH'</>/<literal>'HH12'</>的序号前缀 (Heikki)
</para>

     <!--
<para>
      It was previously handled as <literal>'th'</> (lowercase).
     </para>
-->
<para>
以前是作为<literal>'th'</>（小写）处理的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix overflow for <literal>INTERVAL '<replaceable>x</> ms'</literal>
      when <replaceable>x</> is more than 2 million and integer
      datetimes are in use (Alex Hunsaker)
     </para>
-->
<para>
修复<replaceable>x</>超过2百万并且正在使用整数日期时间时，
<literal>INTERVAL '<replaceable>x</> ms'</literal>的溢出 (Alex Hunsaker)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix calculation of distance between a point and a line segment (Tom)
     </para>
-->
<para>
修复点和线段之间距离的计算 (Tom)
</para>

     <!--
<para>
      This led to incorrect results from a number of geometric operators.
     </para>
-->
<para>
这导致一些几何操作符不正确的结果。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <type>money</> data type to work in locales where currency
      amounts have no fractional digits, e.g. Japan (Itagaki Takahiro)
     </para>
-->
<para>
修复<type>money</>数据类型在货币数量没有小数点的环境（比如日本）下工作 (Itagaki Takahiro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Properly round datetime input like
      <literal>00:12:57.9999999999999999999999999999</> (Tom)
     </para>
-->
<para>
适当的圆整像<literal>00:12:57.9999999999999999999999999999</>这样的日期时间输入 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix poor choice of page split point in GiST R-tree operator classes
      (Teodor)
     </para>
-->
<para>
修复GiST R-tree操作符类中可怜的页分裂点的选择 (Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix portability issues in plperl initialization (Andrew Dunstan)
     </para>
-->
<para>
修复plperl初始化中的可移植性问题 (Andrew Dunstan)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_ctl</> to not go into an infinite loop if
      <filename>postgresql.conf</> is empty (Jeff Davis)
     </para>
-->
<para>
修复<application>pg_ctl</>，如果<filename>postgresql.conf</>为空时，
不要进入无限循环 (Jeff Davis)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <filename>contrib/xml2</>'s <function>xslt_process()</> to
      properly handle the maximum number of parameters (twenty) (Tom)
     </para>
-->
<para>
修复<filename>contrib/xml2</>的<function>xslt_process()</>，
正确的处理参数的最大数量（20） (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve robustness of <application>libpq</>'s code to recover
      from errors during <command>COPY FROM STDIN</> (Tom)
     </para>
-->
<para>
改善<application>libpq</>代码的鲁棒性，从<command>COPY FROM STDIN</>
期间的错误中恢复 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid including conflicting readline and editline header files
      when both libraries are installed (Zdenek Kotala)
     </para>
-->
<para>
当两个库都安装了时，避免包含冲突的readline和editline头文件 (Zdenek Kotala)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2009l
      for DST law changes in Bangladesh, Egypt, Jordan, Pakistan,
      Argentina/San_Luis, Cuba, Jordan (historical correction only),
      Mauritius, Morocco, Palestine, Syria, Tunisia.
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本20091，因为DST规律在
Bangladesh、Egypt, Jordan、Pakistan、Argentina/San_Luis, Cuba、
Jordan(只是历史纠正)、Mauritius、Morocco、Palestine、Syria, Tunisia。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-17">
    <!-- 
  <title>Release 8.1.17</title>
  -->
  <title>版本 8.1.17</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2009-03-16</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.16.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.16以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.17</title>
   -->
   <title>迁移到版本 8.1.17</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.15,
    see <xref linkend="release-8-1-15">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，
如果你是从一个早于8.1.15的版本升级而来，那么请查看<xref linkend="release-8-1-15">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Prevent error recursion crashes when encoding conversion fails (Tom)
     </para>
-->
<para>
当编码转换失败时，阻止错误递归崩溃 (Tom)
</para>

     <!--
<para>
      This change extends fixes made in the last two minor releases for
      related failure scenarios.  The previous fixes were narrowly tailored
      for the original problem reports, but we have now recognized that
      <emphasis>any</> error thrown by an encoding conversion function could
      potentially lead to infinite recursion while trying to report the
      error.  The solution therefore is to disable translation and encoding
      conversion and report the plain-ASCII form of any error message,
      if we find we have gotten into a recursive error reporting situation.
      (CVE-2009-0922)
     </para>
-->
<para>
这个修改扩展了在最后两个小版本中对相关失败情节的修复。
以前的修复严格限制在原始的问题报告，但是我们现在意识到被编码转换函数抛出的
<emphasis>任何</>错误都潜在的导致在尝试报告该错误时无限的递归。
因此如果我们发现我们已经进入了一个递归错误报告的情节中，
解决方法是禁用翻译和编码转换，并且报告任何错误消息的纯ASCII格式。 (CVE-2009-0922)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Disallow <command>CREATE CONVERSION</> with the wrong encodings
      for the specified conversion function (Heikki)
     </para>
-->
<para>
不允许<command>CREATE CONVERSION</>为指定的转换函数使用错误的编码 (Heikki)
</para>

     <!--
<para>
      This prevents one possible scenario for encoding conversion failure.
      The previous change is a backstop to guard against other kinds of
      failures in the same area.
     </para>
-->
<para>
这阻止了编码转换失败的一种可能的情况。以前的修改是防范了相同区域中的其他类型的失败。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix core dump when <function>to_char()</> is given format codes that
      are inappropriate for the type of the data argument (Tom)
     </para>
-->
<para>
修复给定<function>to_char()</>的格式化代码不适合数据参数的类型时的内核转储 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix decompilation of <literal>CASE WHEN</> with an implicit coercion
      (Tom)
     </para>
-->
<para>
修复<literal>CASE WHEN</>带有隐式强制时的反编译 (Tom)
</para>

     <!--
<para>
      This mistake could lead to Assert failures in an Assert-enabled build,
      or an <quote>unexpected CASE WHEN clause</> error message in other
      cases, when trying to examine or dump a view.
     </para>
-->
<para>
在尝试检查或转储一个视图时，这个错误在启用断言的建立中会导致断言失败，
或在其他情况下的一个<quote>意外的CASE WHEN子句</>错误消息。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible misassignment of the owner of a TOAST table's rowtype (Tom)
     </para>
-->
<para>
修复TOAST表行类型的所有者的可能的错误分配 (Tom)
</para>

     <!--
<para>
      If <command>CLUSTER</> or a rewriting variant of <command>ALTER TABLE</>
      were executed by someone other than the table owner, the
      <structname>pg_type</> entry for the table's TOAST table would end up
      marked as owned by that someone.  This caused no immediate problems,
      since the permissions on the TOAST rowtype aren't examined by any
      ordinary database operation.  However, it could lead to unexpected
      failures if one later tried to drop the role that issued the command
      (in 8.1 or 8.2), or <quote>owner of data type appears to be invalid</>
      warnings from <application>pg_dump</> after having done so (in 8.3).
     </para>
-->
<para>
如果<command>CLUSTER</>或者<command>ALTER TABLE</>的一个重写变体被表所有者之外的其他人执行，
该表的TOAST表的<structname>pg_type</>项将被标记为属于这个其他人而结束。
这没有造成直接问题，因为TOAST行类型的权限不被任何普通数据库操作检查。
不过，如果一个人稍后尝试删除发出该命令的角色（在8.1或8.2中），它会导致意外的失败，
或者<application>pg_dump</>稍后也这样做时，导致<quote>数据类型的所有者看起来无效</>
的警告（在8.3中）。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Clean up PL/pgSQL error status variables fully at block exit
      (Ashesh Vashi and Dave Page)
     </para>
-->
<para>
在块退出时完全清理PL/pgSQL的错误状态变量 (Ashesh Vashi and Dave Page)
</para>

     <!--
<para>
      This is not a problem for PL/pgSQL itself, but the omission could cause
      the PL/pgSQL Debugger to crash while examining the state of a function.
     </para>
-->
<para>
这对于PL/pgSQL本身来说不是一个问题，但是当检测一个函数的状态时，疏忽会导致PL/pgSQL调试器崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add <literal>MUST</> (Mauritius Island Summer Time) to the default list
      of known timezone abbreviations (Xavier Bugaud)
     </para>
-->
<para>
添加<literal>MUST</> (Mauritius Island Summer Time)到已知时区缩写的缺省列表 (Xavier Bugaud)
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-16">
    <!-- 
  <title>Release 8.1.16</title>
  -->
  <title>版本 8.1.16</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2009-02-02</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.15.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.15以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.16</title>
   -->
   <title>迁移到版本 8.1.16</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.15,
    see <xref linkend="release-8-1-15">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，
如果你是从一个早于8.1.15的版本升级而来，那么请查看<xref linkend="release-8-1-15">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Fix crash in autovacuum (Alvaro)
     </para>
-->
<para>
修复自动清理中的崩溃 (Alvaro)
</para>

     <!--
<para>
      The crash occurs only after vacuuming a whole database for
      anti-transaction-wraparound purposes, which means that it occurs
      infrequently and is hard to track down.
     </para>
-->
<para>
崩溃只在为反向事务包括的目的清理整个数据库时崩溃，
这意味着它发生的不频繁和难以追踪到。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve handling of URLs in <function>headline()</> function (Teodor)
     </para>
-->
<para>
改善<function>headline()</>函数中URL的处理 (Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve handling of overlength headlines in <function>headline()</>
      function (Teodor)
     </para>
-->
<para>
改善<function>headline()</>函数中超长标题的处理 (Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent possible Assert failure or misconversion if an encoding
      conversion is created with the wrong conversion function for the
      specified pair of encodings (Tom, Heikki)
     </para>
-->
<para>
如果编码转换是用错误的转换函数为指定的编码对创建的，
那么阻止可能的断言失败或错误转换 (Tom, Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Avoid unnecessary locking of small tables in <command>VACUUM</>
      (Heikki)
     </para>
-->
<para>
避免<command>VACUUM</>中小表的不必要的锁 (Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure that the contents of a holdable cursor don't depend on the
      contents of TOAST tables (Tom)
     </para>
-->
<para>
确保可持有游标的内容不依赖于TOAST表的内容 (Tom)
</para>

     <!--
<para>
      Previously, large field values in a cursor result might be represented
      as TOAST pointers, which would fail if the referenced table got dropped
      before the cursor is read, or if the large value is deleted and then
      vacuumed away.  This cannot happen with an ordinary cursor,
      but it could with a cursor that is held past its creating transaction.
     </para>
-->
<para>
以前，游标结果中大的字段值可能被表示为TOAST指针，如果引用表在该游标被读取之前被删除，
或者如果大的值被删除然后清理了，那么这就会失败。这在普通游标中不会发生，
但是会发生在保留了过去的创建事务的游标中。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix uninitialized variables in <filename>contrib/tsearch2</>'s
      <function>get_covers()</> function (Teodor)
     </para>
-->
<para>
修复<filename>contrib/tsearch2</>的<function>get_covers()</>函数中未初始化的变量 (Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>configure</> script to properly report failure when
      unable to obtain linkage information for PL/Perl (Andrew)
     </para>
-->
<para>
修复不能为PL/Perl获取连接信息时<application>configure</>脚本适当的报告失败 (Andrew)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make all documentation reference <literal>pgsql-bugs</> and/or
      <literal>pgsql-hackers</> as appropriate, instead of the
      now-decommissioned <literal>pgsql-ports</> and <literal>pgsql-patches</>
      mailing lists (Tom)
     </para>
-->
<para>
让所有文档适当的引用<literal>pgsql-bugs</>和/或<literal>pgsql-hackers</>，
替代现在退役的<literal>pgsql-ports</>和<literal>pgsql-patches</>邮件列表 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2009a (for
      Kathmandu and historical DST corrections in Switzerland, Cuba)
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本2009a
（因为Kathmandu和在Switzerland、Cuba历史的DST纠正）
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-15">
    <!-- 
  <title>Release 8.1.15</title>
  -->
  <title>版本 8.1.5</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2008-11-03</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.14.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.14以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.15</title>
   -->
   <title>迁移到版本 8.1.15</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.  Also, if you were running a previous
    8.1.X release, it is recommended to <command>REINDEX</> all GiST
    indexes after the upgrade.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。另外，如果你正在运行一个以前的8.1.X版本，
那么建议在升级之后<command>REINDEX</>所有GiST索引。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Fix GiST index corruption due to marking the wrong index entry
      <quote>dead</> after a deletion (Teodor)
     </para>
-->
<para>
修复由于在删除之后标记错误的索引项<quote>dead</>引起的GiST索引崩溃 (Teodor)
</para>

     <!--
<para>
      This would result in index searches failing to find rows they
      should have found.  Corrupted indexes can be fixed with
      <command>REINDEX</>.
     </para>
-->
<para>
这会导致索引搜索未能找到它们应该能找到的行。损坏的索引可以使用<command>REINDEX</>修复。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix backend crash when the client encoding cannot represent a localized
      error message (Tom)
     </para>
-->
<para>
修复客户端编码不能表示本地化错误消息时的后端崩溃(Tom)
</para>

     <!--
<para>
      We have addressed similar issues before, but it would still fail if
      the <quote>character has no equivalent</> message itself couldn't
      be converted.  The fix is to disable localization and send the plain
      ASCII error message when we detect such a situation.
     </para>
-->
<para>
我们以前处理过相似的问题，但是如果<quote>character has no equivalent</>
消息本身不能被转换，那么它仍将会失败。修复是在我们检测到这样一个情况时，
禁用本地化和发送纯ASCII错误消息。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible crash when deeply nested functions are invoked from
      a trigger (Tom)
     </para>
-->
<para>
当深层嵌套的函数在一个触发器中调用时，修复可能的崩溃 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix mis-expansion of rule queries when a sub-<literal>SELECT</> appears
      in a function call in <literal>FROM</>,  a multi-row <literal>VALUES</>
      list, or a <literal>RETURNING</> list (Tom)
     </para>
-->
<para>
当一个子<literal>SELECT</>出现在<literal>FROM</>、多行<literal>VALUES</>表或
<literal>RETURNING</>列表中的函数调用中时，修复规则查询的错误膨胀 (Tom)
</para>

     <!--
<para>
      The usual symptom of this problem is an <quote>unrecognized node type</>
      error.
     </para>
-->
<para>
这个问题的通常症状是一个<quote>未识别的节点类型</>错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Ensure an error is reported when a newly-defined PL/pgSQL trigger
      function is invoked as a normal function (Tom)
     </para>
-->
<para>
当新定义的PL/pgSQL触发器函数被作为普通函数调用时，确保报告一个错误 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent possible collision of <structfield>relfilenode</> numbers
      when moving a table to another tablespace with <command>ALTER SET
      TABLESPACE</> (Heikki)
     </para>
-->
<para>
当使用<command>ALTER SET TABLESPACE</>移动一个表到另一个表空间时，
阻止可能的<structfield>relfilenode</>编号冲突 (Heikki)
</para>

     <!--
<para>
      The command tried to re-use the existing filename, instead of
      picking one that is known unused in the destination directory.
     </para>
-->
<para>
该命令尝试重新使用现有的文件名字，而不是选择一个已知在目标目录中没有使用的文件名。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect tsearch2 headline generation when single query
      item matches first word of text (Sushant Sinha)
     </para>
-->
<para>
当单个查询条目匹配文本的第一个单词时，修复不正确的tsearch2标题生成 (Sushant Sinha)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix improper display of fractional seconds in interval values when
      using a non-ISO datestyle in an <option>$#045;-enable-integer-datetimes</>
      build (Ron Mayer)
     </para>
-->
<para>
当在<option>--enable-integer-datetimes</>建立中使用了一个非ISO日期类型时，
修复间隔值中分数秒的不正确的显示 (Ron Mayer)
</para> 
    </listitem>

    <listitem>
     <!--
<para>
      Ensure <function>SPI_getvalue</> and <function>SPI_getbinval</>
      behave correctly when the passed tuple and tuple descriptor have
      different numbers of columns (Tom)
     </para>
-->
<para>
当传递的元组和元组描述符有不同的字段编号时，确保<function>SPI_getvalue</>
和<function>SPI_getbinval</>正确的行为 (Tom)
</para>

     <!--
<para>
      This situation is normal when a table has had columns added or removed,
      but these two functions didn't handle it properly.
      The only likely consequence is an incorrect error indication.
     </para>
-->
<para>
当表添加或删除了行时，这个情况是正常的，但是这两个函数没有适当的处理它。
唯一可能的后果是一个不正确的错误指示。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>ecpg</>'s parsing of <command>CREATE ROLE</> (Michael)
     </para>
-->
<para>
修复<application>ecpg</>对<command>CREATE ROLE</>的解析 (Michael)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix recent breakage of <literal>pg_ctl restart</> (Tom)
     </para>
-->
<para>
修复<literal>pg_ctl restart</>最近的损坏 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2008i (for
      DST law changes in Argentina, Brazil, Mauritius, Syria)
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本2008i
（因为DST规律在Argentina、Brazil, Mauritius, Syria发生了改变）
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-14">
    <!-- 
  <title>Release 8.1.14</title>
  -->
  <title>版本 8.1.14</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2008-09-22</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.13.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.13以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.14</title>
   -->
   <title>迁移到版本 8.1.14</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Widen local lock counters from 32 to 64 bits (Tom)
     </para>
-->
<para>
放宽本地锁计数器从32到64位 (Tom)
</para>

     <!--
<para>
      This responds to reports that the counters could overflow in
      sufficiently long transactions, leading to unexpected <quote>lock is
      already held</> errors.
     </para>
-->
<para>
这个响应报告了计数器会在足够长的事务中溢出，导致意外的<quote>锁已被持有</>错误。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible duplicate output of tuples during a GiST index scan (Teodor)
     </para>
-->
<para>
修复GiST索引扫描期间可能的元组重复输出 (Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add checks in executor startup to ensure that the tuples produced by an
      <command>INSERT</> or <command>UPDATE</> will match the target table's
      current rowtype (Tom)
     </para>
-->
<para>
在执行器启动时添加检查，确保<command>INSERT</>或<command>UPDATE</>
产生的元组将匹配目标表的当前行类型 (Tom)
</para>

     <!--
<para>
      <command>ALTER COLUMN TYPE</>, followed by re-use of a previously
      cached plan, could produce this type of situation.  The check protects
      against data corruption and/or crashes that could ensue.
     </para>
-->
<para>
<command>ALTER COLUMN TYPE</>，跟着以前缓存的计划的重新使用，
会产生这种类型的情形。检查保护了可能接着发生的数据损坏和/或崩溃。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <literal>AT TIME ZONE</> to first try to interpret its timezone
      argument as a timezone abbreviation, and only try it as a full timezone
      name if that fails, rather than the other way around as formerly (Tom)
     </para>
-->
<para>
修复<literal>AT TIME ZONE</>，首先尝试解释他的时区参数为时区缩写，
如果失败，那么尝试它为完整时区名字，而不是和以前一样的其他绕开方式 (Tom)
</para>

     <!--
<para>
      The timestamp input functions have always resolved ambiguous zone names
      in this order.  Making <literal>AT TIME ZONE</> do so as well improves
      consistency, and fixes a compatibility bug introduced in 8.1:
      in ambiguous cases we now behave the same as 8.0 and before did,
      since in the older versions <literal>AT TIME ZONE</> accepted
      <emphasis>only</> abbreviations.
     </para>
-->
<para>
时间戳输入函数总是以这个顺序解决模糊的时区名字。让<literal>AT TIME ZONE</>
也这样做提高了一致性，并且修复了一个在8.1中引进的兼容性bug：
在模糊情况下，我们现在的行为和8.0及以前的行为一致，
因为更老版本的<literal>AT TIME ZONE</> <emphasis>只</>接受缩写。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix datetime input functions to correctly detect integer overflow when
      running on a 64-bit platform (Tom)
     </para>
-->
<para>
修复日期时间输入函数，以在64位平台上运行时能正确的检测到整数溢出 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve performance of writing very long log messages to syslog (Tom)
     </para>
-->
<para>
提高写入非常长的日志消息到系统日志的性能 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix bug in backwards scanning of a cursor on a <literal>SELECT DISTINCT
      ON</> query (Tom)
     </para>
-->
<para>
修复<literal>SELECT DISTINCT ON</>查询上的游标向后扫描中的错误 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix planner bug with nested sub-select expressions (Tom)
     </para>
-->
<para>
修复嵌套子查询表达式的规划器bug (Tom)
</para>

     <!--
<para>
      If the outer sub-select has no direct dependency on the parent query,
      but the inner one does, the outer value might not get recalculated
      for new parent query rows.
     </para>
-->
<para>
如果外侧子查询与父查询没有直接依赖关系，但是内侧子查询有，
那么外侧的值可能不会为新的父查询行重新计算。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix planner to estimate that <literal>GROUP BY</> expressions yielding
      boolean results always result in two groups, regardless of the
      expressions' contents (Tom)
     </para>
-->
<para>
修复规划器估计<literal>GROUP BY</>表达式产生的布尔结果总是在两个组中，
不管表达式的内容是什么 (Tom)
</para>

     <!--
<para>
      This is very substantially more accurate than the regular <literal>GROUP
      BY</> estimate for certain boolean tests like <replaceable>col</>
      <literal>IS NULL</>.
     </para>
-->
<para>
对于某些布尔测试像<replaceable>col</> <literal>IS NULL</>来说，
这比普通<literal>GROUP BY</>估计明显更加准确。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PL/pgSQL to not fail when a <literal>FOR</> loop's target variable
      is a record containing composite-type fields (Tom)
     </para>
-->
<para>
当<literal>FOR</>循环的目标变量是一个包含复合类型字段的记录时，
修复PL/pgSQL以不失败 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PL/Tcl to behave correctly with Tcl 8.5, and to be more careful
      about the encoding of data sent to or from Tcl (Tom)
     </para>
-->
<para>
修复PL/Tcl以与Tcl 8.5正确的行为，并且更加小心发送到或者来自Tcl的数据的编码 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PL/Python to work with Python 2.5
     </para>
-->
<para>
修复PL/Python以与Python 2.5一起工作
</para>

     <!--
<para>
      This is a back-port of fixes made during the 8.2 development cycle.
     </para>
-->
<para>
这是一个8.2开发周期期间所做的修复的移植。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve <application>pg_dump</> and <application>pg_restore</>'s
      error reporting after failure to send a SQL command (Tom)
     </para>
-->
<para>
改善未能发送一个SQL命令之后，<application>pg_dump</>和
<application>pg_restore</>的错误报告 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_ctl</> to properly preserve postmaster
      command-line arguments across a <literal>restart</> (Bruce)
     </para>
-->
<para>
修复<application>pg_ctl</>跨过一个<literal>restart</>时，
适当的保存主进程命令行参数 (Bruce)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2008f (for
      DST law changes in Argentina, Bahamas, Brazil, Mauritius, Morocco,
      Pakistan, Palestine, and Paraguay)
     </para>
-->
<para>
更新时区数据文件的到<application>tzdata</>版本2008f
（因为DST规律在Argentina、Bahamas、Brazil、Mauritius, Morocco、Pakistan、
Palestine和Paraguay发生了改变）
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-13">
    <!-- 
  <title>Release 8.1.13</title>
  -->
  <title>版本 8.1.13</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2008-06-12</simpara>
  </note>

  <!--
<para>
   This release contains one serious and one minor bug fix over 8.1.12.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含一个严重的和一个小的针对8.1.22的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
   <!--
   <title>Migration to Version 8.1.13</title>
   -->
   <title>迁移到版本 8.1.13</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Make <function>pg_get_ruledef()</> parenthesize negative constants (Tom)
     </para>
-->
<para>
让<function>pg_get_ruledef()</>给负的常量加上括号 (Tom)
</para>

     <!--
<para>
      Before this fix, a negative constant in a view or rule might be dumped
      as, say, <literal>-42::integer</>, which is subtly incorrect: it should
      be <literal>(-42)::integer</> due to operator precedence rules.
      Usually this would make little difference, but it could interact with
      another recent patch to cause
      <productname>PostgreSQL</> to reject what had been a valid
      <command>SELECT DISTINCT</> view query.  Since this could result in
      <application>pg_dump</> output failing to reload, it is being treated
      as a high-priority fix.  The only released versions in which dump
      output is actually incorrect are 8.3.1 and 8.2.7.
     </para>
-->
<para>
在该修复之前，在视图或规则中的负的常量可能被作为，例如<literal>-42::integer</>
转储，而这是不正确的：它应该为<literal>(-42)::integer</>，因为操作符优先级规则。
通常这会导致小的差异，但是它会与另外一个最近的补丁相互作用导致<productname>PostgreSQL</>
拒绝一个有效的<command>SELECT DISTINCT</>视图查询。因为这会导致<application>pg_dump</>
输出不能加载，所以它被看做一个高优先级修复。实际上转储输出不正确的发行版本是8.3.1和8.2.7。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <command>ALTER AGGREGATE ... OWNER TO</> update
      <structname>pg_shdepend</> (Tom)
     </para>
-->
<para>
让<command>ALTER AGGREGATE ... OWNER TO</>更新<structname>pg_shdepend</> (Tom)
</para>

     <!--
<para>
      This oversight could lead to problems if the aggregate was later
      involved in a <command>DROP OWNED</> or <command>REASSIGN OWNED</>
      operation.
     </para>
-->
<para>
如果聚合稍后包含在一个<command>DROP OWNED</>或<command>REASSIGN OWNED</>操作中，
那么这个疏忽会导致问题。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-12">
    <!-- 
  <title>Release 8.1.12</title>
  -->
  <title>版本 8.1.12</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <!--
  <simpara>never released</simpara>
  -->
  <simpara>从未发布</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.11.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.11以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.12</title>
   -->
   <title>迁移到版本 8.1.12</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Fix <command>ALTER TABLE ADD COLUMN ... PRIMARY KEY</> so that the new
      column is correctly checked to see if it's been initialized to all
      non-nulls (Brendan Jurd)
     </para>
-->
<para>
修复<command>ALTER TABLE ADD COLUMN ... PRIMARY KEY</>，
这样新的字段正确的检查是否它被初始化为所有都是非空 (Brendan Jurd)
</para>

     <!--
<para>
      Previous versions neglected to check this requirement at all.
     </para>
-->
<para>
以前的版本完全忽略了检查这个要求。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix possible <command>CREATE TABLE</> failure when inheriting the
      <quote>same</> constraint from multiple parent relations that
      inherited that constraint from a common ancestor (Tom)
     </para>
-->
<para>
修复从多个继承自同一个祖先的约束的父关系中继承<quote>相同的</>约束时，
可能的<command>CREATE TABLE</>失败 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix conversions between ISO-8859-5 and other encodings to handle
      Cyrillic <quote>Yo</> characters (<literal>e</> and <literal>E</> with
      two dots) (Sergey Burladyan)
     </para>
-->
<para>
修复ISO-8859-5和其他编码之间的转换，以处理Cyrillic <quote>Yo</>字符
（<literal>e</>和<literal>E</>带有两个句点） (Sergey Burladyan)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix a few datatype input functions
      that were allowing unused bytes in their results to contain
      uninitialized, unpredictable values (Tom)
     </para>
-->
<para>
修复一个新的日期类型输入函数，
允许未使用的字节在它们的结果中包含未初始化的、不可预测的值 (Tom)
</para>

     <!--
<para>
      This could lead to failures in which two apparently identical literal
      values were not seen as equal, resulting in the parser complaining
      about unmatched <literal>ORDER BY</> and <literal>DISTINCT</>
      expressions.
     </para>
-->
<para>
这会导致两个表面上相同的文字值不被看做相等的失败，
导致解析器抱怨不匹配的<literal>ORDER BY</>和<literal>DISTINCT</>表达式。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix a corner case in regular-expression substring matching
      (<literal>substring(<replaceable>string</> from
      <replaceable>pattern</>)</literal>) (Tom)
     </para>
-->
<para>
修复正则表达式子串匹配中的一个极端情况(<literal>substring(<replaceable>string</> from
      <replaceable>pattern</>)</literal>) (Tom)
</para>

     <!--
<para>
      The problem occurs when there is a match to the pattern overall but
      the user has specified a parenthesized subexpression and that
      subexpression hasn't got a match.  An example is
      <literal>substring('foo' from 'foo(bar)?')</>.
      This should return NULL, since <literal>(bar)</> isn't matched, but
      it was mistakenly returning the whole-pattern match instead (ie,
      <literal>foo</>).
     </para>
-->
<para>
当有一个到模式的完全匹配，但是用户已经指定了一个加上括号的子表达式，
并且该子表达式没有获得一个匹配时会发生这个问题。一个例子是
<literal>substring('foo' from 'foo(bar)?')</>。这个应该返回NULL，
因为<literal>(bar)</>没有匹配，但是它错误的返回了整个模式匹配
（也就是<literal>foo</>）。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2008c (for
      DST law changes in Morocco, Iraq, Choibalsan, Pakistan, Syria, Cuba,
      Argentina/San_Luis, and Chile)
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本2008c
（因为DST规律在Morocco、Iraq、Choibalsan、Pakistan、Syria、Cuba、
Argentina/San_Luis和Chile发生了改变）
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect result from <application>ecpg</>'s
      <function>PGTYPEStimestamp_sub()</> function (Michael)
     </para>
-->
<para>
修复<application>ecpg</>的<function>PGTYPEStimestamp_sub()</>
函数中的不正确的结果 (Michael)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix core dump in <filename>contrib/xml2</>'s
      <function>xpath_table()</> function when the input query returns a
      NULL value (Tom)
     </para>
-->
<para>
当输入查询返回一个NULL值时，修复<filename>contrib/xml2</>的
<function>xpath_table()</>函数中的内核转储 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <filename>contrib/xml2</>'s makefile to not override
      <literal>CFLAGS</> (Tom)
     </para>
-->
<para>
修复<filename>contrib/xml2</>的makefile，不要覆盖<literal>CFLAGS</> (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <literal>DatumGetBool</> macro to not fail with <application>gcc</>
      4.3 (Tom)
     </para>
-->
<para>
修复<literal>DatumGetBool</>宏，不要在使用<application>gcc</> 4.3时失败 (Tom)
</para>

     <!--
<para>
      This problem affects <quote>old style</> (V0) C functions that
      return boolean.  The fix is already in 8.3, but the need to
      back-patch it was not realized at the time.
     </para>
-->
<para>
这个问题影响返回布尔的<quote>老式的</> (V0) C函数。
这个修复在8.3中已经有了，但是后向修复它的需要在当时没有意识到。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix longstanding <command>LISTEN</>/<command>NOTIFY</>
      race condition (Tom)
     </para>
-->
<para>
修复长期存在的<command>LISTEN</>/<command>NOTIFY</>竞态条件 (Tom)
</para>

     <!--
<para>
      In rare cases a session that had just executed a
      <command>LISTEN</> might not get a notification, even though
      one would be expected because the concurrent transaction executing
      <command>NOTIFY</> was observed to commit later.
     </para>
-->
<para>
在罕见的情况下，刚刚执行了<command>LISTEN</>的会话可能不会获得一个通知，
即使预期应该有一个通知，因为并发事务执行<command>NOTIFY</>是在提交之后能观察到。
</para>

     <!--
<para>
      A side effect of the fix is that a transaction that has executed
      a not-yet-committed <command>LISTEN</> command will not see any
      row in <structname>pg_listener</> for the <command>LISTEN</>,
      should it choose to look; formerly it would have.  This behavior
      was never documented one way or the other, but it is possible that
      some applications depend on the old behavior.
     </para>
-->
<para>
该修复的一个副作用是一个刚刚执行了暂未提交的<command>LISTEN</>命令的事务将不会看到
该<command>LISTEN</>的<structname>pg_listener</>中的任何行，而它应该能看到的；
以前它是能够看到的。这个行为不管怎样都没有记录过，但是有可能一些应用依赖于老的行为。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Disallow <command>LISTEN</> and <command>UNLISTEN</> within a
      prepared transaction (Tom)
     </para>
-->
<para>
不允许<command>LISTEN</>和<command>UNLISTEN</>在一个准备事务中 (Tom)
</para>

     <!--
<para>
      This was formerly allowed but trying to do it had various unpleasant
      consequences, notably that the originating backend could not exit
      as long as an <command>UNLISTEN</> remained uncommitted.
     </para>
-->
<para>
这在以前是允许的，但是尝试这样做会有各种不愉快的后果，
尤其是只要<command>UNLISTEN</>保持未提交，原始的后端就不能退出。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix rare crash when an error occurs during a query using a hash index
      (Heikki)
     </para>
-->
<para>
修复在查询使用哈希索引期间发生错误时的罕见的崩溃 (Heikki)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix input of datetime values for February 29 in years BC (Tom)
     </para>
-->
<para>
修复公元前的年中二月29的日期时间值的输入 (Tom)
</para>

     <!--
<para>
      The former coding was mistaken about which years were leap years.
     </para>
-->
<para>
以前的代码弄错了哪一年是闰年。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <quote>unrecognized node type</> error in some variants of
      <command>ALTER OWNER</> (Tom)
     </para>
-->
<para>
修复在某些<command>ALTER OWNER</>的变体中的<quote>未识别的节点类型</>错误 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_ctl</> to correctly extract the postmaster's port
      number from command-line options (Itagaki Takahiro, Tom)
     </para>
-->
<para>
修复<application>pg_ctl</>，正确的从命令行选项中提取主进程的端口号 (Itagaki Takahiro, Tom)
</para>

     <!--
<para>
      Previously, <literal>pg_ctl start -w</> could try to contact the
      postmaster on the wrong port, leading to bogus reports of startup
      failure.
     </para>
-->
<para>
以前，<literal>pg_ctl start -w</>尝试在错误的端口连接主进程，
导致启动失败的虚假的报告。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Use <option>-fwrapv</> to defend against possible misoptimization
      in recent <application>gcc</> versions (Tom)
     </para>
-->
<para>
使用<option>-fwrapv</>防卫在最近的<application>gcc</>版本中可能的错误最优化 (Tom)
</para>

     <!--
<para>
      This is known to be necessary when building <productname>PostgreSQL</>
      with <application>gcc</> 4.3 or later.
     </para>
-->
<para>
这在用<application>gcc</> 4.3或更新的版本建立<productname>PostgreSQL</>时是必需的。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix display of constant expressions in <literal>ORDER BY</>
      and <literal>GROUP BY</> (Tom)
     </para>
-->
<para>
修复<literal>ORDER BY</>和<literal>GROUP BY</>中常量表达式的显示 (Tom)
</para>

     <!--
<para>
      An explicitly casted constant would be shown incorrectly.  This could
      for example lead to corruption of a view definition during
      dump and reload.
     </para>
-->
<para>
一个显示转换的常量将会不正确的显示。这会导致例如转储和重载期间视图定义的损坏。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>libpq</> to handle NOTICE messages correctly
      during COPY OUT (Tom)
     </para>
-->
<para>
修复<application>libpq</>，以在COPY OUT期间正确的处理NOTICE消息 (Tom)
</para>

     <!--
<para>
      This failure has only been observed to occur when a user-defined
      datatype's output routine issues a NOTICE, but there is no
      guarantee it couldn't happen due to other causes.
     </para>
-->
<para>
只有当用户定义的数据类型的输出例程发出一个NOTICE时，这个失败才能观察到，
但是不保证它不会因为其他原因发生。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-11">
    <!-- 
  <title>Release 8.1.11</title>
  -->
  <title>版本 8.1.11</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2008-01-07</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.10,
   including fixes for significant security issues.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.10以来的修复，包括对重要安全问题的修复。
关于8.1主版本的新特性信息，请查看<xref linkend="release-8-1">。
</para>

  <!--
<para>
   This is the last 8.1.X release for which the <productname>PostgreSQL</>
   community will produce binary packages for <productname>Windows</>.
   Windows users are encouraged to move to 8.2.X or later,
   since there are Windows-specific fixes in 8.2.X that
   are impractical to back-port.  8.1.X will continue to
   be supported on other platforms.
  </para>
-->
<para>
这是<productname>PostgreSQL</>社区为<productname>Windows</>
生成二进制包的最后一个8.1.X版本。鼓励Windows用户迁移到8.2.X或更高的版本，
因为在8.2.X中有Windows特定的不可移植的修复。8.1.X将继续支持其他平台。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.11</title>
   -->
   <title>迁移到版本 8.1.11</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Prevent functions in indexes from executing with the privileges of
      the user running <command>VACUUM</>, <command>ANALYZE</>, etc (Tom)
     </para>
-->
<para>
阻止索引中的函数用用户运行<command>VACUUM</>、<command>ANALYZE</>等的权限执行 (Tom)
</para>

     <!--
<para>
      Functions used in index expressions and partial-index
      predicates are evaluated whenever a new table entry is made.  It has
      long been understood that this poses a risk of trojan-horse code
      execution if one modifies a table owned by an untrustworthy user.
      (Note that triggers, defaults, check constraints, etc. pose the
      same type of risk.)  But functions in indexes pose extra danger
      because they will be executed by routine maintenance operations
      such as <command>VACUUM FULL</>, which are commonly performed
      automatically under a superuser account.  For example, a nefarious user
      can execute code with superuser privileges by setting up a
      trojan-horse index definition and waiting for the next routine vacuum.
      The fix arranges for standard maintenance operations
      (including <command>VACUUM</>, <command>ANALYZE</>, <command>REINDEX</>,
      and <command>CLUSTER</>) to execute as the table owner rather than
      the calling user, using the same privilege-switching mechanism already
      used for <literal>SECURITY DEFINER</> functions.  To prevent bypassing
      this security measure, execution of <command>SET SESSION
      AUTHORIZATION</> and <command>SET ROLE</> is now forbidden within a
      <literal>SECURITY DEFINER</> context.  (CVE-2007-6600)
     </para>
-->
<para>
在索引表达式和部分索引谓词中使用的函数在制作一个新的表条目时评估。
很早我们就知道，如果一个人修改了一个属于不可信用户的表，那么会引起特洛伊木马执行的风险。
（请注意，触发器、缺省、检查约束等也会引起相同类型的风险。）
但是索引中的函数还会引起额外的危险，因为它们将被日常维护操作执行，比如
<command>VACUUM FULL</>，它通常是在超级用户账户下自动执行的。例如，
一个邪恶的用户可以通过设置一个特洛伊木马索引定义并且等待下一个日常清理，
使用超级用户的权限执行代码。该修复安排标准的维护操作（包括<command>VACUUM</>、
<command>ANALYZE</>、<command>REINDEX</>和<command>CLUSTER</>）
作为表所有者而不是调用的用户执行，使用和早已为<literal>SECURITY DEFINER</>
函数使用的一样的权限转换机制。为了阻止绕开这个安全机制，
<command>SET SESSION AUTHORIZATION</>和<command>SET ROLE</>
的执行现在禁止在一个<literal>SECURITY DEFINER</>内容中。 (CVE-2007-6600)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Repair assorted bugs in the regular-expression package (Tom, Will Drewry)
     </para>
-->
<para>
修复正则表达式包中的各种bug (Tom, Will Drewry)
</para>

     <!--
<para>
      Suitably crafted regular-expression patterns could cause crashes,
      infinite or near-infinite looping, and/or massive memory consumption,
      all of which pose denial-of-service hazards for applications that
      accept regex search patterns from untrustworthy sources.
      (CVE-2007-4769, CVE-2007-4772, CVE-2007-6067)
     </para>
-->
<para>
适当配置的正则表达式模式可能会引起崩溃，无限的或接近无限的循环，
和/或大量的内存消耗，所有这些都造成服务拒绝从不可信的源接受正则搜索模式的应用的危害。
(CVE-2007-4769, CVE-2007-4772, CVE-2007-6067)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Require non-superusers who use <filename>/contrib/dblink</> to use only
      password authentication, as a security measure (Joe)
     </para>
-->
<para>
要求使用<filename>/contrib/dblink</>的非超级用户只使用密码认证作为一个安全机制 (Joe)
</para>

     <!--
<para>
      The fix that appeared for this in 8.1.10 was incomplete, as it plugged
      the hole for only some <filename>dblink</> functions.  (CVE-2007-6601,
      CVE-2007-3278)
     </para>
-->
<para>
在8.1.10中出现的该修复是不完整的，因为它只堵住了一些<filename>dblink</>
函数的漏洞。 (CVE-2007-6601, CVE-2007-3278)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update time zone data files to <application>tzdata</> release 2007k
      (in particular, recent Argentina changes) (Tom)
     </para>
-->
<para>
更新时区数据文件到<application>tzdata</>版本2007k
（特别的，最近的Argentina的改变） (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve planner's handling of LIKE/regex estimation in non-C locales
      (Tom)
     </para>
-->
<para>
改善非C环境中规划器对LIKE/正则估计的处理 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix planner failure in some cases of <literal>WHERE false AND var IN
      (SELECT ...)</> (Tom)
     </para>
-->
<para>
修复一些<literal>WHERE false AND var IN (SELECT ...)</>的情况下规划器的失败 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Preserve the tablespace of indexes that are
      rebuilt by <command>ALTER TABLE ... ALTER COLUMN TYPE</> (Tom)
     </para>
-->
<para>
保留通过<command>ALTER TABLE ... ALTER COLUMN TYPE</>重建的索引的表空间 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make archive recovery always start a new WAL timeline, rather than only
      when a recovery stop time was used (Simon)
     </para>
-->
<para>
让归档恢复总是启动一个新的WAL时间线，而不是只在使用恢复停止时间时启动 (Simon)
</para>

     <!--
<para>
      This avoids a corner-case risk of trying to overwrite an existing
      archived copy of the last WAL segment, and seems simpler and cleaner
      than the original definition.
     </para>
-->
<para>
这避免了尝试重写最后WAL段的一个现有归档拷贝的极端情况的风险，
并且看起来比原先的定义更加简单和干净。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <command>VACUUM</> not use all of <varname>maintenance_work_mem</>
      when the table is too small for it to be useful (Alvaro)
     </para>
-->
<para>
让<command>VACUUM</>在表太小而没什么用处时不要使用所有的<varname>maintenance_work_mem</> (Alvaro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix potential crash in <function>translate()</> when using a multibyte
      database encoding (Tom)
     </para>
-->
<para>
修复使用一个多字节数据库编码时<function>translate()</>中潜在的崩溃 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix overflow in <literal>extract(epoch from interval)</> for intervals
      exceeding 68 years (Tom)
     </para>
-->
<para>
为超过68年的间隔修复<literal>extract(epoch from interval)</>中的溢出 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PL/Perl to not fail when a UTF-8 regular expression is used
      in a trusted function (Andrew)
     </para>
-->
<para>
修复PL/Perl，以在UTF-8正则表达式在一个受信任的函数中使用时不失败 (Andrew)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PL/Perl to cope when platform's Perl defines type <literal>bool</>
      as <literal>int</> rather than <literal>char</> (Tom)
     </para>
-->
<para>
修复PL/Perl处理何时平台的Perl定义类型<literal>bool</>为<literal>int</>，
而不是<literal>char</> (Tom)
</para>

     <!--
<para>
      While this could theoretically happen anywhere, no standard build of
      Perl did things this way ... until <productname>Mac OS X</> 10.5.
     </para>
-->
<para>
理论上这会在任何地方发生，非标准的Perl建立是这样的……直到<productname>Mac OS X</> 10.5。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix PL/Python to not crash on long exception messages (Alvaro)
     </para>
-->
<para>
修复PL/Python在长的异常消息上不会崩溃 (Alvaro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_dump</> to correctly handle inheritance child tables
      that have default expressions different from their parent's (Tom)
     </para>
-->
<para>
修复<application>pg_dump</>以正确的处理拥有与它们的父表不同的缺省表达式的继承子表 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>libpq</> crash when <varname>PGPASSFILE</> refers
      to a file that is not a plain file (Martin Pitt)
     </para>
-->
<para>
修复<varname>PGPASSFILE</>引用一个不是普通文件的文件时
<application>libpq</>的崩溃 (Martin Pitt)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      <application>ecpg</> parser fixes (Michael)
     </para>
-->
<para>
<application>ecpg</>解析器修复 (Michael)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <filename>contrib/pgcrypto</> defend against
      <application>OpenSSL</> libraries that fail on keys longer than 128
      bits; which is the case at least on some Solaris versions (Marko Kreen)
     </para>
-->
<para>
让<filename>contrib/pgcrypto</>防止<application>OpenSSL</>库在键长于128位时失败；
这至少是在一些Solaris版本上的情况 (Marko Kreen)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <filename>contrib/tablefunc</>'s <function>crosstab()</> handle
      NULL rowid as a category in its own right, rather than crashing (Joe)
     </para>
-->
<para>
让<filename>contrib/tablefunc</>的<function>crosstab()</>
处理NULL行id为它本身的一个类别，而不是崩溃 (Joe)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <type>tsvector</> and <type>tsquery</> output routines to
      escape backslashes correctly (Teodor, Bruce)
     </para>
-->
<para>
修复<type>tsvector</>和<type>tsquery</>输出例程，以正确的转义反斜杠 (Teodor, Bruce)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix crash of <function>to_tsvector()</> on huge input strings (Teodor)
     </para>
-->
<para>
修复<function>to_tsvector()</>在大的输入字符串上的崩溃 (Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Require a specific version of <productname>Autoconf</> to be used
      when re-generating the <command>configure</> script (Peter)
     </para>
-->
<para>
当重新生成<command>configure</>脚本时，要求使用<productname>Autoconf</>
的一个特定版本 (Peter)
</para>

     <!--
<para>
      This affects developers and packagers only.  The change was made
      to prevent accidental use of untested combinations of
      <productname>Autoconf</> and <productname>PostgreSQL</> versions.
      You can remove the version check if you really want to use a
      different <productname>Autoconf</> version, but it's
      your responsibility whether the result works or not.
     </para>
-->
<para>
这只影响开发者和打包者。该修改是为了阻止意外的使用未测试的
<productname>Autoconf</>和<productname>PostgreSQL</>版本的组合。
如果你真的想要使用一个不同的<productname>Autoconf</>版本，
你可以删除版本校验，但是结果如何就是你自己的责任了。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-10">
    <!-- 
  <title>Release 8.1.10</title>
  -->
  <title>版本 8.1.10</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2007-09-17</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.9.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.9以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.10</title>
   -->
   <title>迁移到版本 8.1.10</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Prevent index corruption when a transaction inserts rows and
      then aborts close to the end of a concurrent <command>VACUUM</>
      on the same table (Tom)
     </para>
-->
<para>
当一个事务插入行，然后在接近同一个表中的并发<command>VACUUM</>
的结尾退出时，阻止索引损坏 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <command>CREATE DOMAIN ... DEFAULT NULL</> work properly (Tom)
     </para>
-->
<para>
让<command>CREATE DOMAIN ... DEFAULT NULL</>正确的工作 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Allow the <type>interval</> data type to accept input consisting only of
      milliseconds or microseconds (Neil)
     </para>
-->
<para>
允许<type>interval</>数据类型接受只有毫秒或微妙组成的输入 (Neil)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Speed up rtree index insertion (Teodor)
     </para>
-->
<para>
加速rtree索引插入 (Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix excessive logging of <acronym>SSL</> error messages (Tom)
     </para>
-->
<para>
修复过度的记录<acronym>SSL</>错误消息 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix logging so that log messages are never interleaved when using
      the syslogger process (Andrew)
     </para>
-->
<para>
修复日志，这样日志消息在使用系统记录过程时从不交叉 (Andrew)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix crash when <varname>log_min_error_statement</> logging runs out
      of memory (Tom)
     </para>
-->
<para>
修复<varname>log_min_error_statement</>记录耗完内存时的崩溃 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix incorrect handling of some foreign-key corner cases (Tom)
     </para>
-->
<para>
修复不正确的处理一些外键极端情况 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Prevent <command>REINDEX</> and <command>CLUSTER</> from failing
      due to attempting to process temporary tables of other sessions (Alvaro)
     </para>
-->
<para>
阻止<command>REINDEX</>和<command>CLUSTER</>由于尝试处理其他会话的临时表而失败 (Alvaro)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update the time zone database rules, particularly New Zealand's upcoming changes (Tom)
     </para>
-->
<para>
更新时区数据库规则，尤其是New Zealand即将到来的修改 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Windows socket improvements (Magnus)
     </para>
-->
<para>
Windows套接字改善 (Magnus)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Suppress timezone name (<literal>%Z</>) in log timestamps on Windows
      because of possible encoding mismatches (Tom)
     </para>
-->
<para>
在Windows上的日志时间戳中压缩时区名 (<literal>%Z</>)，
因为可能的编码错误匹配 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Require non-superusers who use <filename>/contrib/dblink</> to use only
      password authentication, as a security measure (Joe)
     </para>
-->
<para>
要求使用<filename>/contrib/dblink</>的非超级用户只使用密码认证作为一个安全措施 (Joe)
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-9">
    <!-- 
  <title>Release 8.1.9</title>
  -->
  <title>版本 8.1.9</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2007-04-23</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.8,
   including a security fix.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.8以来的修复，包括一个安全修复。
关于8.1主版本的新特性信息，请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.9</title>
   -->
   <title>迁移到版本 8.1.9</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
    <!--
<para>
     Support explicit placement of the temporary-table schema within
     <varname>search_path</>, and disable searching it for functions
     and operators (Tom)
    </para>
-->
<para>
在<varname>search_path</>中支持明确的替换临时表模式，
并且禁止为函数和操作符搜索它 (Tom)
</para>
    <!--
<para>
     This is needed to allow a security-definer function to set a
     truly secure value of <varname>search_path</>.  Without it,
     an unprivileged SQL user can use temporary objects to execute code
     with the privileges of the security-definer function (CVE-2007-2138).
     See <command>CREATE FUNCTION</> for more information.
    </para>
-->
<para>
这需要允许安全定义函数设置一个<varname>search_path</>的真实安全的值。
如果没有，一个非特权的SQL用户可以用安全定义函数的权限使用临时对象执行代码
(CVE-2007-2138)。参阅<command>CREATE FUNCTION</>获取更多信息。
</para>
    </listitem>

    <listitem>
    <!--
<para>
     <filename>/contrib/tsearch2</> crash fixes (Teodor)
    </para>
-->
<para>
<filename>/contrib/tsearch2</>崩溃修复 (Teodor)
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Require <command>COMMIT PREPARED</> to be executed in the same
     database as the transaction was prepared in (Heikki)
    </para>
-->
<para>
要求<command>COMMIT PREPARED</>在和事务预备的同一个数据库中执行(Heikki) 
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Fix potential-data-corruption bug in how <command>VACUUM FULL</> handles
     <command>UPDATE</> chains (Tom, Pavan Deolasee)
    </para>
-->
<para>
在<command>VACUUM FULL</>如何处理<command>UPDATE</>链中修复潜在的数据损坏bug (Tom, Pavan Deolasee)
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Planner fixes, including improving outer join and bitmap scan
     selection logic (Tom)
    </para>
-->
<para>
规划器修复，包括改善外连接和位图扫描选择逻辑 (Tom)
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Fix PANIC during enlargement of a hash index (bug introduced in 8.1.6)
     (Tom)
    </para>
-->
<para>
修复扩大一个哈希索引期间的PANIC (在8.1.6中引入的bug)
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Fix POSIX-style timezone specs to follow new USA DST rules (Tom)
    </para>
-->
<para>
修复POSIX风格的时区规格以遵从新的USA DST规则 (Tom)
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-8">
    <!-- 
  <title>Release 8.1.8</title>
  -->
  <title>版本 8.1.8</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2007-02-07</simpara>
  </note>

  <!--
<para>
   This release contains one fix from 8.1.7.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含一个来自8.1.7的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.8</title>
   -->
   <title>迁移到版本 8.1.8</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
    <!--
<para>
     Remove overly-restrictive check for type length in constraints and
     functional indexes(Tom)
    </para>
-->
<para>
在约束和功能性索引中为类型长度删除过分限制的检查 (Tom)
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-7">
    <!-- 
  <title>Release 8.1.7</title>
  -->
  <title>版本 8.1.7</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2007-02-05</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.6, including
   a security fix.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.6以来的修复，包括一个安全修复。
关于8.1主版本的新特性信息，请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.7</title>
   -->
   <title>迁移到版本 8.1.7</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
    <!--
<para>
     Remove security vulnerabilities that allowed connected users
     to read backend memory (Tom)
    </para>
-->
<para>
删除允许连接的用户读取后端内存的安全缺陷 (Tom)
</para>
    <!--
<para>
     The vulnerabilities involve suppressing the normal check that a SQL
     function returns the data type it's declared to, and changing the
     data type of a table column (CVE-2007-0555, CVE-2007-0556).  These
     errors can easily be exploited to cause a backend crash, and in
     principle might be used to read database content that the user
     should not be able to access.
    </para>
-->
<para>
该缺陷包括抑制一个SQL函数返回它声明的数据类型的正常检查，
和修改一个表字段的数据类型 (CVE-2007-0555, CVE-2007-0556)。
这些错误可以很容易的利用来导致一个后端崩溃，
并且实际上可能被用来读取用户不应该能够访问的数据库内容。
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Fix rare bug wherein btree index page splits could fail
     due to choosing an infeasible split point (Heikki Linnakangas)
    </para>
-->
<para>
修复btree索引页分裂中可能会由于选择一个不可行的分裂点而失败的罕见bug (Heikki Linnakangas)
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Improve <command>VACUUM</> performance for databases with many tables (Tom)
    </para>
-->
<para>
为带有许多表的数据库提高<command>VACUUM</>性能 (Tom)
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Fix autovacuum to avoid leaving non-permanent transaction IDs in
     non-connectable databases (Alvaro)
    </para>
-->
<para>
修复自动清理以避免在非可连接的数据库中留下非参数事务ID (Alvaro)
</para>

    <!--
<para>
     This bug affects the 8.1 branch only.
    </para>
-->
<para>
这个bug只影响8.1分支。
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Fix for rare Assert() crash triggered by <literal>UNION</> (Tom)
    </para>
-->
<para>
修复由<literal>UNION</>触发的罕见的Assert()崩溃 (Tom)
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Tighten security of multi-byte character processing for UTF8 sequences
     over three bytes long (Tom)
    </para>
-->
<para>
为超过三个字节长度的UTF8序列加强多字节字符处理的安全 (Tom)
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Fix bogus <quote>permission denied</> failures occurring on Windows
     due to attempts to fsync already-deleted files (Magnus, Tom)
    </para>
-->
<para>
修复由于尝试同步早已删除的文件而在Windows上发生的伪造的<quote>权限被拒绝</>失败 (Magnus, Tom)
</para>
    </listitem>

    <listitem>
    <!--
<para>
     Fix possible crashes when an already-in-use PL/pgSQL function is
     updated (Tom)
    </para>
-->
<para>
修复更新一个早已在使用的PL/pgSQL函数时可能的崩溃 (Tom)
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-6">
    <!-- 
  <title>Release 8.1.6</title>
  -->
  <title>版本 8.1.6</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2007-01-08</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.5.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.5以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.6</title>
   -->
   <title>迁移到版本 8.1.6</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
     <!--
<para>
      Improve handling of <function>getaddrinfo()</> on AIX (Tom)
     </para>
-->
<para>
改善在AIX上<function>getaddrinfo()</>的处理 (Tom)
</para>

     <!--
<para>
      This fixes a problem with starting the statistics collector,
      among other things.
     </para>
-->
<para>
这修复了在其他事情上开始统计收集器的问题。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix <application>pg_restore</> to handle a tar-format backup
      that contains large objects (blobs) with comments (Tom)
     </para>
-->
<para>
修复<application>pg_restore</>，以处理包含带有注释的大对象（blobs）的tar格式备份 (Tom)
</para>
    </listitem>

     <listitem>
      <!--
<para>
       Fix <quote>failed to re-find parent key</> errors in
       <command>VACUUM</> (Tom)
      </para>
-->
<para>
修复<command>VACUUM</>中的<quote>未能重新找到父键</>错误 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Clean out <filename>pg_internal.init</> cache files during server
       restart (Simon)
      </para>
-->
<para>
在服务器重启期间清理<filename>pg_internal.init</>缓存文件 (Simon)
</para>

      <!--
<para>
       This avoids a hazard that the cache files might contain stale
       data after PITR recovery.
      </para>
-->
<para>
这避免了在PITR恢复之后缓存文件可能包含旧的数据的危险。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix race condition for truncation of a large relation across a
       gigabyte boundary by <command>VACUUM</> (Tom)
      </para>
-->
<para>
修复<command>VACUUM</>截断一个超过十亿字节边界的大关系的竞态条件 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix bug causing needless deadlock errors on row-level locks (Tom)
      </para>
-->
<para>
修复在行级别锁上引起不必要的死锁错误的bug (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix bugs affecting multi-gigabyte hash indexes (Tom)
      </para>
-->
<para>
修复影响多个十亿字节哈希索引的bug (Tom)
</para>
     </listitem>

    <listitem>
     <!--
<para>
      Fix possible deadlock in Windows signal handling (Teodor)
     </para>
-->
<para>
修复Windows信号处理中可能的死锁 (Teodor)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix error when constructing an <literal>ARRAY[]</> made up of multiple
      empty elements (Tom)
     </para>
-->
<para>
修复构造一个由多个空元素组成的<literal>ARRAY[]</>时的错误 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix ecpg memory leak during connection (Michael)
     </para>
-->
<para>
修复连接期间ecpg内存泄露 (Michael)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Fix for Darwin (OS X) compilation (Tom)
     </para>
-->
<para>
修复Darwin (OS X)编译 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      <function>to_number()</> and <function>to_char(numeric)</>
      are now <literal>STABLE</>, not <literal>IMMUTABLE</>, for
      new <application>initdb</> installs (Tom)
     </para>
-->
<para>
对于新的<application>initdb</>安装，<function>to_number()</>
和<function>to_char(numeric)</>现在是<literal>STABLE</>，
不是<literal>IMMUTABLE</> (Tom)
</para>

     <!--
<para>
      This is because <varname>lc_numeric</> can potentially
      change the output of these functions.
     </para>
-->
<para>
这是因为<varname>lc_numeric</>可以潜在的改变这些函数的输出。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Improve index usage of regular expressions that use parentheses (Tom)
     </para>
-->
<para>
改善索引对使用括号的正则表达式的使用 (Tom)
</para>

     <!--
<para>
      This improves <application>psql</> <literal>\d</> performance also.
     </para>
-->
<para>
这也提高了<application>psql</> <literal>\d</>的性能。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Update timezone database
     </para>
-->
<para>
更新时区数据库
</para>

     <!--
<para>
      This affects Australian and Canadian daylight-savings rules in
      particular.
     </para>
-->
<para>
特别的，这影响了澳大利亚和加拿大的夏令时规则。
</para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-5">
    <!-- 
  <title>Release 8.1.5</title>
  -->
  <title>版本 8.1.5</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2006-10-16</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.4.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.4以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
      <!--
   <title>Migration to Version 8.1.5</title>
   -->
   <title>迁移到版本 8.1.5</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

<itemizedlist>
<listitem>
<!--
<para>Disallow aggregate functions in <command>UPDATE</>
commands, except within sub-SELECTs (Tom)</para>
-->
<para>
不允许聚合函数在<command>UPDATE</>命令中，除了在子SELECT中 (Tom)
</para>
<!--
<para>The behavior of such an aggregate was unpredictable, and in 8.1.X
could cause a crash, so it has been disabled.  The SQL standard does not allow
this either.</para>
-->
<para>
这样一个聚合的行为是不可预知的，并且在8.1.X中会导致一个崩溃，所以已经禁用了。
SQL标准也不允许这样的聚合。
</para>
</listitem>
<listitem>
<!--
<para>Fix core dump when an untyped literal is taken as
ANYARRAY</para>
-->
<para>
修复无类型的字符串看成是ANYARRAY时的内核转储
</para>
</listitem>
<listitem>
<!--
<para>Fix core dump in duration logging for extended query protocol
when a <command>COMMIT</> or <command>ROLLBACK</> is
executed</para>
-->
<para>
修复执行一个<command>COMMIT</>或<command>ROLLBACK</>时，
扩展查询协议的时间日志中的内核转储
</para>
</listitem>
<listitem>
<!--
<para>Fix mishandling of AFTER triggers when query contains a SQL
function returning multiple rows (Tom)</para>
-->
<para>
修复查询包含一个返回多行的SQL函数时AFTER触发器的错误处理 (Tom)
</para>
</listitem>
<listitem>
<!--
<para>Fix <command>ALTER TABLE ... TYPE</> to recheck
<literal>NOT NULL</> for <literal>USING</> clause (Tom)</para>
-->
<para>
修复<command>ALTER TABLE ... TYPE</>，为<literal>USING</>
子句重新检查<literal>NOT NULL</> (Tom)
</para>
</listitem>
<listitem>
<!--
<para>Fix <function>string_to_array()</> to handle overlapping
 matches for the separator string</para>
-->
<para>
修复<function>string_to_array()</>，以处理分隔符字符串的重复匹配
</para>
<!--
<para>For example, <literal>string_to_array('123xx456xxx789', 'xx')</>.
</para>
-->
<para>
例如，<literal>string_to_array('123xx456xxx789', 'xx')</>。
</para>
</listitem>
<listitem>
<!--
<para>Fix <function>to_timestamp()</> for
<literal>AM</>/<literal>PM</> formats (Bruce)</para>
-->
<para>
为<literal>AM</>/<literal>PM</>格式修复<function>to_timestamp()</> (Bruce)
</para>
</listitem>
<listitem>
<!--
<para>Fix autovacuum's calculation that decides whether
 <command>ANALYZE</> is needed (Alvaro)</para>
-->
<para>
修复决定是否需要<command>ANALYZE</>的自动清理的计算 (Alvaro)
</para>
</listitem>
<listitem>
<!--
<para>Fix corner cases in pattern matching for
 <application>psql</>'s <literal>\d</> commands</para>
-->
<para>
为<application>psql</>的<literal>\d</>命令修复模式匹配中的极端情况
</para>
</listitem>
<listitem>
<!--
<para>Fix index-corrupting bugs in /contrib/ltree
 (Teodor)</para>
-->
<para>
修复/contrib/ltree中的索引损坏错误 (Teodor)
</para>
</listitem>
<listitem>
<!--
<para>Numerous robustness fixes in <application>ecpg</> (Joachim
Wieland)</para>
-->
<para>
<application>ecpg</>中的多个稳健性修复 (Joachim Wieland)
</para>
</listitem>
<listitem>
<!--
<para>Fix backslash escaping in /contrib/dbmirror</para>
-->
<para>
修复/contrib/dbmirror中的反斜杠转义
</para>
</listitem>
<listitem>
<!--
<para>Minor fixes in /contrib/dblink and /contrib/tsearch2</para>
-->
<para>
/contrib/dblink和/contrib/tsearch2中的小修复
</para>
</listitem>
<listitem>
<!--
<para>Efficiency improvements in hash tables and bitmap index scans
(Tom)</para>
-->
<para>
哈希表和位图索引扫描中的效率提升 (Tom)
</para>
</listitem>
<listitem>
<!--
<para>Fix instability of statistics collection on Windows (Tom, Andrew)</para>
-->
<para>
修复Windows上统计收集器的不稳定性 (Tom, Andrew)
</para>
</listitem>
<listitem>
<!--
<para>Fix <varname>statement_timeout</> to use the proper
units on Win32 (Bruce)</para>
-->
<para>
修复<varname>statement_timeout</>，使其在Win32上使用合适的单位 (Bruce)
</para>
<!--
<para>In previous Win32 8.1.X versions, the delay was off by a factor of
100.</para>
-->
<para>
在以前的Win32 8.1.X版本中，延迟通过一个100的因子关闭。
</para>
</listitem>
<listitem>
<!--
<para>Fixes for <acronym>MSVC</> and <productname>Borland C++</>
compilers (Hiroshi Saito)</para>
-->
<para>
修复<acronym>MSVC</>和<productname>Borland C++</>编译器 (Hiroshi Saito)
</para>
</listitem>
<listitem>
<!--
<para>Fixes for <systemitem class="osname">AIX</> and
<productname>Intel</> compilers (Tom)</para>
-->
<para>
修复<systemitem class="osname">AIX</>和<productname>Intel</>编译器 (Tom)
</para>
</listitem>
<listitem>
<!--
<para>Fix rare bug in continuous archiving (Tom)</para>
-->
<para>
修复连续归档中少见的bug (Tom)
</para>
</listitem>
</itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-4">
    <!-- 
  <title>Release 8.1.4</title>
  -->
  <title>版本 8.1.4</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2006-05-23</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.3,
   including patches for extremely serious security issues.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.3以来的修复，包括对极其严重的安全问题的修补。
关于8.1主版本的新特性信息，请查看<xref linkend="release-8-1">。
</para>

  <sect2>
   <!--
   <title>Migration to Version 8.1.4</title>
   -->
   <title>迁移到版本 8.1.4</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>

   <!--
<para>
    Full security against the SQL-injection attacks described in
    CVE-2006-2313 and CVE-2006-2314 might require changes in application
    code.  If you have applications that embed untrustworthy strings
    into SQL commands, you should examine them as soon as possible to
    ensure that they are using recommended escaping techniques.  In
    most cases, applications should be using subroutines provided by
    libraries or drivers (such as <application>libpq</>'s
    <function>PQescapeStringConn()</>) to perform string escaping,
    rather than relying on <foreignphrase>ad hoc</> code to do it.
   </para>
-->
<para>
针对CVE-2006-2313和CVE-2006-2314中描述的SQL注入攻击的完全安全可能需要在应用的代码中修改。
如果你有应用嵌入了不可信的字符串到SQL命令中，你应该尽快检测它们，
以确保它们使用推荐的转义技术。在大多数情况下，应用应该使用库或驱动
（比如<application>libpq</>的<function>PQescapeStringConn()</>）
提供的子例程执行字符串转义，而不是依赖于<foreignphrase>ad hoc</>代码完成转义。
</para>
  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

<itemizedlist>
<listitem>
<!--
<para>Change the server to reject invalidly-encoded multibyte
characters in all cases (Tatsuo, Tom)</para>
-->
<para>
修改服务器以在所有情况下都拒绝无效编码的多字节字符 (Tatsuo, Tom)
</para>
<!--
<para>While <productname>PostgreSQL</> has been moving in this direction for
some time, the checks are now applied uniformly to all encodings and all
textual input, and are now always errors not merely warnings.  This change
defends against SQL-injection attacks of the type described in CVE-2006-2313.
</para>
-->
<para>
虽然<productname>PostgreSQL</>已经朝这个方向发展了一段时间了，
但是检查现在才一致的应用到所有编码和所有文本输入中，
并且现在总是提示错误而不只是警告。这个修改防范了CVE-2006-2313
中描述的SQL注入类型的攻击。
</para>
</listitem>

<listitem>
<!--
<para>Reject unsafe uses of <literal>\'</> in string literals</para>
-->
<para>
拒绝在字符串文本中不安全的使用<literal>\'</>
</para>
<!--
<para>As a server-side defense against SQL-injection attacks of the type
described in CVE-2006-2314, the server now only accepts <literal>''</> and not
<literal>\'</> as a representation of ASCII single quote in SQL string
literals.  By default, <literal>\'</> is rejected only when
<varname>client_encoding</> is set to a client-only encoding (SJIS, BIG5, GBK,
GB18030, or UHC), which is the scenario in which SQL injection is possible.
A new configuration parameter <varname>backslash_quote</> is available to
adjust this behavior when needed.  Note that full security against
CVE-2006-2314 might require client-side changes; the purpose of
<varname>backslash_quote</> is in part to make it obvious that insecure
clients are insecure.
</para>
-->
<para>
作为服务器端防范CVE-2006-2314中描述的SQL注入类型的攻击，
服务器现在只接受<literal>''</>而不是<literal>\'</>
作为SQL字符串字面值中ASCII单引号的表示。缺省的，
只在<varname>client_encoding</>设置为仅客户端的编码
（SJIS、BIG5、GBK、GB18030或UHC）时拒绝<literal>\'</>，
这也是SQL注入有可能发生的情节。一个新的配置参数<varname>backslash_quote</>
可用于在需要时调整这个行为。请注意，针对CVE-2006-2314
的完全安全可能需要客户端侧的修改；但是<varname>backslash_quote</>
的目的是在一定程度上让不安全的客户端明显。
</para>
</listitem>

<listitem>
<!--
<para>Modify <application>libpq</>'s string-escaping routines to be
aware of encoding considerations and
<varname>standard_conforming_strings</></para>
-->
<para>
修改<application>libpq</>的字符串转义例程，意识到编码注意问题和
<varname>standard_conforming_strings</>
</para>
<!--
<para>This fixes <application>libpq</>-using applications for the security
issues described in CVE-2006-2313 and CVE-2006-2314, and also future-proofs
them against the planned changeover to SQL-standard string literal syntax.
Applications that use multiple <productname>PostgreSQL</> connections
concurrently should migrate to <function>PQescapeStringConn()</> and
<function>PQescapeByteaConn()</> to ensure that escaping is done correctly
for the settings in use in each database connection.  Applications that
do string escaping <quote>by hand</> should be modified to rely on library
routines instead.
</para>
-->
<para>
这为CVE-2006-2313和CVE-2006-2314中描述的安全问题修复了使用<application>libpq</>
的应用，并且也提前防范了规划的到SQL标准字符串文本语法的转换。
同时使用多个<productname>PostgreSQL</>连接的应用应该迁移到
<function>PQescapeStringConn()</>和<function>PQescapeByteaConn()</>，
以确保为每个数据库连接中使用的设置做了正确的转义。
<quote>手动</>做字符串转义的应用应该修改为依赖于库例程。
</para>
</listitem>

<listitem>
<!--
<para>Fix weak key selection in pgcrypto (Marko Kreen)</para>
-->
<para>
修复pgcrypto中的弱键选择 (Marko Kreen)
</para>
<!--
<para>Errors in fortuna PRNG reseeding logic could cause a predictable
session key to be selected by <function>pgp_sym_encrypt()</> in some cases.
This only affects non-OpenSSL-using builds.
</para>
-->
<para>
fortuna PRNG重播逻辑中的错误会导致一个可预知的会话秘钥在某些情况下被
<function>pgp_sym_encrypt()</>选择。这只影响没有使用OpenSSL的构造。
</para>
</listitem>

<listitem>
<!--
<para>Fix some incorrect encoding conversion functions</para>
-->
<para>
修复一些不正确的编码转换函数
</para>
<!--
<para><function>win1251_to_iso</>, <function>win866_to_iso</>,
<function>euc_tw_to_big5</>, <function>euc_tw_to_mic</>,
<function>mic_to_euc_tw</> were all broken to varying
extents.
</para>
-->
<para>
<function>win1251_to_iso</>、<function>win866_to_iso</>、
<function>euc_tw_to_big5</>、<function>euc_tw_to_mic</>、
<function>mic_to_euc_tw</>都在变化范围上有损坏。
</para>
</listitem>

<listitem>
<!--
<para>Clean up stray remaining uses of <literal>\'</> in strings
(Bruce, Jan)</para>
-->
<para>
清理字符串中剩下的<literal>\'</>的使用 (Bruce, Jan)
</para>
</listitem>

<listitem>
<!--
<para>Make autovacuum visible in <structname>pg_stat_activity</>
(Alvaro)</para>
-->
<para>
让自动清理在<structname>pg_stat_activity</>中可见 (Alvaro)
</para>
</listitem>

<listitem>
<!--
<para>Disable <literal>full_page_writes</> (Tom)</para>
-->
<para>
禁用<literal>full_page_writes</> (Tom)
</para>
<!--
<para>In certain cases, having <literal>full_page_writes</> off would cause
crash recovery to fail.  A proper fix will appear in 8.2; for now it's just
disabled.
</para>
-->
<para>
在某些情况下，让<literal>full_page_writes</>关闭会导致崩溃恢复失败。
一个适当的修复将在8.2中出现；现在只是将它禁用了。
</para>
</listitem>

<listitem>
<!--
<para>Various planner fixes, particularly for bitmap index scans and
MIN/MAX optimization (Tom)</para>
-->
<para>
各种规划器修复，尤其是位图索引扫描和MIN/MAX最优化 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix incorrect optimization in merge join (Tom)</para>
-->
<para>
修复合并连接中不正确的最优化 (Tom)
</para>
<!--
<para>Outer joins could sometimes emit multiple copies of unmatched rows.
</para>
-->
<para>
外连接有时会发出多次未匹配行的拷贝。
</para>
</listitem>

<listitem>
<!--
<para>Fix crash from using and modifying a plpgsql function in the
same transaction</para>
-->
<para>
修复在相同的事务中使用和修改plpgsql函数的崩溃
</para>
</listitem>

<listitem>
<!--
<para>Fix WAL replay for case where a B-Tree index has been
truncated</para>
-->
<para>
修复B-Tree索引被截断情况下的WAL重放
</para>
</listitem>

<listitem>
<!--
<para>Fix <literal>SIMILAR TO</> for patterns involving
<literal>|</> (Tom)</para>
-->
<para>
为包含<literal>|</>的模式修复<literal>SIMILAR TO</> (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix <command>SELECT INTO</> and <command>CREATE TABLE AS</> to
create tables in the default tablespace, not the base directory (Kris
Jurka)</para>
-->
<para>
修复<command>SELECT INTO</>和<command>CREATE TABLE AS</>，
以在缺省表空间中创建表，而不是在基础目录中 (Kris Jurka)
</para>
</listitem>

<listitem>
<!--
<para>Fix server to use custom DH SSL parameters correctly (Michael
Fuhr)</para>
-->
<para>
修复服务器，以正确的使用自定义DH SSL参数 (Michael Fuhr)
</para>
</listitem>

<listitem>
<!--
<para>Improve qsort performance (Dann Corbit)</para>
-->
<para>
改善快速排序性能 (Dann Corbit)
</para>
<!--
<para>Currently this code is only used on Solaris.
</para>
-->
<para>
目前这个代码只在Solaris上使用了。
</para>
</listitem>

<listitem>
<!--
<para>Fix for OS/X Bonjour on x86 systems (Ashley Clark)</para>
-->
<para>
修复x86系统上的OS/X Bonjour (Ashley Clark)
</para>
</listitem>

<listitem>
<!--
<para>Fix various minor memory leaks</para>
-->
<para>
修复各种小的内存泄露
</para>
</listitem>

<listitem>
<!--
<para>Fix problem with password prompting on some Win32 systems
(Robert Kinberg)</para>
-->
<para>
修复密码提示在某些Win32系统上的问题 (Robert Kinberg)
</para>
</listitem>

<listitem>
<!--
<para>Improve <application>pg_dump</>'s handling of default values
for domains</para>
-->
<para>
改善<application>pg_dump</>对域的缺省值的处理
</para>
</listitem>

<listitem>
<!--
<para>Fix <application>pg_dumpall</> to handle identically-named
users and groups reasonably (only possible when dumping from a pre-8.1 server)
(Tom)</para>
-->
<para>
修复<application>pg_dumpall</>以合理的处理命名相同的用户和组
（只在从早于8.1的服务器上转储时是可能的） (Tom)
</para>
<!--
<para>The user and group will be merged into a single role with
<literal>LOGIN</> permission.  Formerly the merged role wouldn't have
<literal>LOGIN</> permission, making it unusable as a user.
</para>
-->
<para>
用户和组将带有<literal>LOGIN</>权限被合并到一个角色中。
以前合并的角色不会有<literal>LOGIN</>权限，使其不能用作一个用户。
</para>
</listitem>

<listitem>
<!--
<para>Fix <application>pg_restore</> <literal>-n</> to work as
documented (Tom)</para>
-->
<para>
修复<application>pg_restore</> <literal>-n</>，以作为记录工作 (Tom)
</para>
</listitem>
</itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-3">
    <!-- 
  <title>Release 8.1.3</title>
  -->
  <title>版本 8.1.3</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2006-02-14</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.2,
   including one very serious security issue.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.2以来的修复，包括一个非常严重的安全问题。
关于8.1主版本的新特性信息，请查看<xref linkend="release-8-1">。
</para>

  <sect2>
   <!--
   <title>Migration to Version 8.1.3</title>
   -->
   <title>迁移到版本 8.1.3</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, if you are upgrading from a version earlier than 8.1.2,
    see <xref linkend="release-8-1-2">.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你是从一个早于8.1.2的版本升级而来，
那么请查看<xref linkend="release-8-1-2">。
</para>
  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

<itemizedlist>

<listitem>
<!--
<para>Fix bug that allowed any logged-in user to <command>SET
ROLE</> to any other database user id (CVE-2006-0553)</para>
-->
<para>
修复允许任何登陆的用户为任何其他数据库用户id <command>SET ROLE</>的错误 (CVE-2006-0553)
</para>
<!--
<para>Due to inadequate validity checking, a user could exploit the special
case that <command>SET ROLE</> normally uses to restore the previous role
setting after an error.  This allowed ordinary users to acquire superuser
status, for example.
The escalation-of-privilege risk exists only in 8.1.0-8.1.2.
However, in all releases back to 7.3 there is a related bug in <command>SET
SESSION AUTHORIZATION</> that allows unprivileged users to crash the server,
if it has been compiled with Asserts enabled (which is not the default).
Thanks to Akio Ishida for reporting this problem.
</para>
-->
<para>
由于不充分的有效性检查，用户会开发特殊的情况，<command>SET ROLE</>
通常用于在错误之后恢复以前的角色设置。例如，这允许普通用户请求超级用户身份。
权限的增加只在8.1.0-8.1.2中存在风险。不过，在所有回退到7.3的版本中，
在<command>SET SESSION AUTHORIZATION</>中有一个相关的错误，
允许非特权的用户使服务器崩溃，如果已经启用断言编译了（这不是缺省的）。
感谢Akio Ishida报告这个问题。
</para>
</listitem>

<listitem>
<!--
<para>Fix bug with row visibility logic in self-inserted
rows (Tom)</para>
-->
<para>
修复自动插入的行中行可见性逻辑的错误 (Tom)
</para>
<!--
<para>Under rare circumstances a row inserted by the current command
could be seen as already valid, when it should not be.  Repairs bug
created in 8.0.4, 7.4.9, and 7.3.11 releases.
</para>
-->
<para>
在少数情况下，当前命令插入的行可能被看做早已是有效的，而此时不应该是这样的。
修复在8.0.4、7.4.9和7.3.11版本中创建的错误。
</para>
</listitem>

<listitem>
<!--
<para>Fix race condition that could lead to <quote>file already
exists</> errors during pg_clog and pg_subtrans file creation
(Tom)</para>
-->
<para>
修复在pg_clog和pg_subtrans文件创建期间会导致<quote>文件早已存在</>
错误的竞态条件 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix cases that could lead to crashes if a cache-invalidation
message arrives at just the wrong time (Tom)</para>
-->
<para>
修复缓存失效消息正好在错误时间到达导致崩溃的情况 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Properly check <literal>DOMAIN</> constraints for
<literal>UNKNOWN</> parameters in prepared statements
(Neil)</para>
-->
<para>
为预备语句中的<literal>UNKNOWN</>参数适当的检查<literal>DOMAIN</>约束 (Neil)
</para>
</listitem>

<listitem>
<!--
<para>Ensure <command>ALTER COLUMN TYPE</> will process
<literal>FOREIGN KEY</>, <literal>UNIQUE</>, and <literal>PRIMARY KEY</>
constraints in the proper order (Nakano Yoshihisa)</para>
-->
<para>
确保<command>ALTER COLUMN TYPE</>以正确的顺序处理<literal>FOREIGN KEY</>、
<literal>UNIQUE</>和<literal>PRIMARY KEY</>约束 (Nakano Yoshihisa)
</para>
</listitem>

<listitem>
<!--
<para>Fixes to allow restoring dumps that have cross-schema
references to custom operators or operator classes (Tom)</para>
-->
<para>
修复以允许恢复拥有交叉模式引用自定义操作符或操作符类的转储 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Allow <application>pg_restore</> to continue properly after a
<command>COPY</> failure; formerly it tried to treat the remaining
<command>COPY</> data as SQL commands (Stephen Frost)</para>
-->
<para>
允许<application>pg_restore</>在<command>COPY</>失败之后正确的继续；
以前它尝试将剩余的<command>COPY</>数据看做SQL命令 (Stephen Frost)
</para>
</listitem>

<listitem>
<!--
<para>Fix <application>pg_ctl</> <literal>unregister</> crash
when the  data directory is not specified (Magnus)</para>
-->
<para>
当没有指定数据目录时，修复<application>pg_ctl</> <literal>unregister</>
的崩溃 (Magnus)
</para>
</listitem>

<listitem>
<!--
<para>Fix <application>libpq</> <function>PQprint</> HTML tags
(Christoph Zwerschke)</para>
-->
<para>
修复<application>libpq</> <function>PQprint</> HTML标签 (Christoph Zwerschke)
</para>
</listitem>

<listitem>
<!--
<para>Fix <application>ecpg</> crash on AMD64 and PPC
(Neil)</para>
-->
<para>
修复在AMD64和PPC上的<application>ecpg</>崩溃 (Neil)
</para>
</listitem>

<listitem>
<!--
<para>Allow <literal>SETOF</> and <literal>%TYPE</> to be used
together in function result type declarations</para>
-->
<para>
允许<literal>SETOF</>和<literal>%TYPE</>
一起在函数结果类型声明中使用
</para>
</listitem>

<listitem>
<!--
<para>Recover properly if error occurs during argument passing
in <application>PL/python</> (Neil)</para>
-->
<para>
如果错误发生在参数在<application>PL/python</>中传递期间，那么正确的恢复 (Neil)
</para>
</listitem>

<listitem>
<!--
<para>Fix memory leak in <function>plperl_return_next</>
(Neil)</para>
-->
<para>
修复<function>plperl_return_next</>中的内存泄露 (Neil)
</para>
</listitem>

<listitem>
<!--
<para>Fix <application>PL/perl</>'s handling of locales on
Win32 to match the backend (Andrew)</para>
-->
<para>
修复<application>PL/perl</>在Win32的环境上匹配后端的处理 (Andrew)
</para>
</listitem>

<listitem>
<!--
<para>Various optimizer fixes (Tom)</para>
-->
<para>
各种优化器修复 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix crash when <literal>log_min_messages</> is set to
<literal>DEBUG3</> or above in <filename>postgresql.conf</> on Win32
(Bruce)</para>
-->
<para>
修复<literal>log_min_messages</>在Win32上设置为<literal>DEBUG3</>
或<filename>postgresql.conf</>之外时的崩溃 (Bruce)
</para>
</listitem>

<listitem>
<!--
<para>Fix <application>pgxs</> <literal>-L</> library path
specification for Win32, Cygwin, OS X, AIX (Bruce)</para>
-->
<para>
为Win32、Cygwin, OS X、AIX修复<application>pgxs</> <literal>-L</>
的库路径声明 (Bruce)
</para>
</listitem>

<listitem>
<!--
<para>Check that SID is enabled while checking for Win32 admin
privileges (Magnus)</para>
-->
<para>
在检查Win32管理员权限时检查SID是否启用 (Magnus)
</para>
</listitem>

<listitem>
<!--
<para>Properly reject out-of-range date inputs (Kris
Jurka)</para>
-->
<para>
适当的拒绝超出范围的数据输入 (Kris Jurka)
</para>
</listitem>

<listitem>
<!--
<para>Portability fix for testing presence of <function>finite</>
and <function>isinf</> during configure (Tom)</para>
-->
<para>
可移植性修复，以在配置期间测试<function>finite</>和<function>isinf</>的存在 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Improve speed of <command>COPY IN</> via libpq, by
avoiding a kernel call per data line (Alon Goldshuv)</para>
-->
<para>
通过避免每个数据行的内核调用，提高<command>COPY IN</>经过libpq的速度 (Alon Goldshuv)
</para>
</listitem>

<listitem>
<!--
<para>Improve speed of <filename>/contrib/tsearch2</> index
creation (Tom)</para>
-->
<para>
提高<filename>/contrib/tsearch2</>索引创建的速度 (Tom)
</para>
</listitem>

</itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-2">
    <!-- 
  <title>Release 8.1.2</title>
  -->
  <title>版本 8.1.2</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2006-01-09</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.1.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.1以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
   <!--
   <title>Migration to Version 8.1.2</title>
   -->
   <title>迁移到版本 8.1.2</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
    However, you might need to <command>REINDEX</> indexes on textual
    columns after updating, if you are affected by the locale or
    <application>plperl</> issues described below.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。不过，如果你受到本地环境或下面描述的
<application>plperl</>问题的影响，你可能需要在升级之后
<command>REINDEX</>文本字段上的索引。
</para>
  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

<itemizedlist>

<listitem>
<!--
<para>Fix Windows code so that postmaster will continue rather
than exit if there is no more room in ShmemBackendArray (Magnus)</para>
-->
<para>
修复Windows代码，这样如果在ShmemBackendArray中没有更多的空间，
主进程将继续而不是退出 (Magnus)
</para>
<!--
<para>The previous behavior could lead to a denial-of-service situation if too
many connection requests arrive close together.  This applies
<emphasis>only</> to the Windows port.</para>
-->
<para>
如果太多连接请求差不多一起到达，那么以前的代码行为将导致拒绝服务的情况。
这<emphasis>只</> 应用到Windows端口。
</para>
</listitem>

<listitem>
<!--
<para>Fix bug introduced in 8.0 that could allow ReadBuffer
to return an already-used page as new, potentially causing loss of
recently-committed data (Tom)</para>
-->
<para>
修复在8.0中引入的bug，该bug会允许读缓冲区返回一个早已用过的页面作为新的页面，
潜在的导致丢失最近提交的数据 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix for protocol-level Describe messages issued
outside a transaction or in a failed transaction (Tom)</para>
-->
<para>
修复在一个事务外部或一个失败的事务内部发出的协议级别的描述信息 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix character string comparison for locales that consider
different character combinations as equal, such as Hungarian (Tom)</para>
-->
<para>
为认为不同字符组合相等的环境，如Hungarian，修复字符串比较 (Tom)
</para>
<!--
<para>This might require <command>REINDEX</> to fix existing indexes on
textual columns.</para>
-->
<para>
这可能需要<command>REINDEX</>来修复文本字段上现有的索引。
</para>
</listitem>

<listitem>
<!--
<para>Set locale environment variables during postmaster startup
to ensure that <application>plperl</> won't change the locale later</para>
-->
<para>
在主进程启动期间设置本地环境变量，以确保<application>plperl</>
在稍后不会改变本地环境
</para>
<!--
<para>This fixes a problem that occurred if the <application>postmaster</> was
started with environment variables specifying a different locale than what
<application>initdb</> had been told.  Under these conditions, any use of
<application>plperl</> was likely to lead to corrupt indexes.  You might need
<command>REINDEX</> to fix existing indexes on
textual columns if this has happened to you.</para>
-->
<para>
这避免了<application>postmaster</>启动时的环境变量和<application>initdb</>
说明的不同时发生的问题。在这些条件下，<application>plperl</>
的任何使用都有可能导致损坏索引。如果你遇到了这些，
你可能需要<command>REINDEX</>文本字段上现有的索引。
</para>
</listitem>

<listitem>
<!--
<para>Allow more flexible relocation of installation
directories (Tom)</para>
-->
<para>
允许安装目录更灵活的重新定位 (Tom)
</para>
<!--
<para>Previous releases supported relocation only if all installation
directory paths were the same except for the last component.</para>
-->
<para>
以前的版本只在所有安装目录路径都相同除了最后一个组件不同时支持重新定位。
</para>
</listitem>

<listitem>
<!--
<para>Prevent crashes caused by the use of
<literal>ISO-8859-5</> and <literal>ISO-8859-9</> encodings
(Tatsuo)</para>
-->
<para>
阻止由于使用<literal>ISO-8859-5</>和<literal>ISO-8859-9</>
编码而引起的崩溃 (Tatsuo)
</para>
</listitem>

<listitem>
<!--
<para>Fix longstanding bug in strpos() and regular expression
handling in certain rarely used Asian multi-byte character sets (Tatsuo)
</para>
-->
<para>
修复strpos()和正则表达式中处理某些很少使用的Asian多字节字符集中长期存在的bug (Tatsuo)
</para>
</listitem>

<listitem>
<!--
<para>Fix bug where COPY CSV mode considered any
<literal>\.</> to terminate the copy data</para>
-->
<para>
修复COPY CSV模式认为任何<literal>\.</>为结束拷贝数据的bug
</para>
 <!--
<para>The new code
requires <literal>\.</> to appear alone on a line, as per
documentation.</para>
-->
<para>
新的代码要求<literal>\.</>在每个文档中都单独的显示在一行中。
</para>
</listitem>

<listitem>
<!--
<para>Make COPY CSV mode quote a literal data value of
<literal>\.</> to ensure it cannot be interpreted as the
end-of-data marker (Bruce)</para>
-->
<para>
让COPY CSV模式引用<literal>\.</>的文本数据值，
以确保它不会被解释为结束数据的标记 (Bruce)
</para>
</listitem>

<listitem>
<!--
<para>Various fixes for functions returning <literal>RECORD</>s
(Tom) </para>
-->
<para>
各种修复返回<literal>RECORD</>的函数 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix processing of <filename>postgresql.conf</> so a
final line with no newline is processed properly (Tom)
</para>
-->
<para>
修复<filename>postgresql.conf</>的处理，
这样一个没有换行符的最后一行能够正确的处理 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix bug in <filename>/contrib/pgcrypto</> gen_salt,
which caused it not to use all available salt space for MD5 and
XDES algorithms (Marko Kreen, Solar Designer)</para>
-->
<para>
修复<filename>/contrib/pgcrypto</> gen_salt中的bug，
它导致不能为MD5和XDES算法使用所有可用的盐空间 (Marko Kreen, Solar Designer)
</para>
<!--
<para>Salts for Blowfish and standard DES are unaffected.</para>
-->
<para>
Blowfish和标准的DES的盐没有受到影响。
</para>
</listitem>

<listitem>
<!--
<para>Fix autovacuum crash when processing expression indexes
</para>
-->
<para>
修复处理表达式索引时自动清理的崩溃
</para>
</listitem>

<listitem>
<!--
<para>Fix <filename>/contrib/dblink</> to throw an error,
rather than crashing, when the number of columns specified is different from
what's actually returned by the query (Joe)</para>
-->
<para>
修复<filename>/contrib/dblink</>，当指定的字段数量和查询实际返回的数量不同时，
抛出一个错误而不是崩溃 (Joe)
</para>
</listitem>

</itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1-1">
    <!-- 
  <title>Release 8.1.1</title>
  -->
  <title>版本 8.1.1</title>

  <note>
  <!--
<title>Release Date</title>
-->
<title>发布日期</title>
  <simpara>2005-12-12</simpara>
  </note>

  <!--
<para>
   This release contains a variety of fixes from 8.1.0.
   For information about new features in the 8.1 major release, see
   <xref linkend="release-8-1">.
  </para>
-->
<para>
这个版本包含各种自8.1.0以来的修复。关于8.1主版本的新特性信息，
请查看<xref linkend="release-8-1">。
</para>

  <sect2>
   <!--
   <title>Migration to Version 8.1.1</title>
   -->
   <title>迁移到版本 8.1.1</title>

   <!--
<para>
    A dump/restore is not required for those running 8.1.X.
   </para>
-->
<para>
运行8.1.X的用户不需要转储/恢复。
</para>
  </sect2>

  <sect2>
   <!--
   <title>Changes</title>
   -->
   <title>修改列表</title>

<itemizedlist>
<listitem>
<!--
<para>Fix incorrect optimizations of outer-join conditions
(Tom)</para>
-->
<para>
修复外部链接条件不正确的最优化 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix problems with wrong reported column names in cases
involving sub-selects flattened by the optimizer (Tom)</para>
-->
<para>
修复在包含通过优化器优化了的子查询的情况下，错误报告字段名的问题 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Fix update failures in scenarios involving CHECK constraints,
toasted columns, <emphasis>and</> indexes (Tom)</para>
-->
<para>
修复在包括CHECK约束、toast字段<emphasis>和</>索引的情节中的更新失败 (Tom) 
</para>
</listitem>

<listitem>
<!--
<para>Fix bgwriter problems after recovering from errors
(Tom)</para>
-->
<para>
修复从错误中恢复之后的后台写问题 (Tom)
</para>
<!--
<para>
The background writer was found to leak buffer pins after write errors.
While not fatal in itself, this might lead to mysterious blockages of
later VACUUM commands.
</para>
-->
<para>
发现后台写在写入错误之后泄露缓存针。虽然这在它本身不致命，
但是这可能会导致稍后VACUUM命令难以理解的堵塞。
</para>
</listitem>

<listitem>
<!--
<para>Prevent failure if client sends Bind protocol message
when current transaction is already aborted</para>
-->
<para>
如果客户端在当前事务早已终止时发送绑定的协议消息，阻止失败。
</para>
</listitem>

<listitem>
<!--
<para><filename>/contrib/tsearch2</> and <filename>/contrib/ltree</>
fixes (Teodor)</para>
-->
<para>
<filename>/contrib/tsearch2</>和<filename>/contrib/ltree</>修复 (Teodor)
</para></listitem>

<listitem>
<!--
<para>Fix problems with translated error messages in
languages that require word reordering, such as Turkish; also problems with
unexpected truncation of output strings and wrong display of the smallest
possible bigint value (Andrew, Tom)</para>
-->
<para>
修复语言中翻译的错误消息需要重新排序单词的问题，比如Turkish；
还有输出字符串意外截断和最小可能的bigint值错误显示的问题 (Andrew, Tom)
</para>
<!--
<para>
These problems only appeared on platforms that were using our
<filename>port/snprintf.c</> code, which includes BSD variants if
<literal>-&#045;enable-nls</> was given, and perhaps others.  In addition,
a different form of the translated-error-message problem could appear
on Windows depending on which version of <filename>libintl</> was used.
</para>
-->
<para>
这个问题只在使用了我们的<filename>port/snprintf.c</>代码的平台上出现，
如果给出了<literal>--enable-nls</>则该代码包括了BSD变种，可能还有其他。
另外，一个不同形式的翻译错误消息问题可能会在Windows上出现，
取决于使用了<filename>libintl</>的哪个版本。
</para>
</listitem>

<listitem>
<!--
<para>Re-allow <literal>AM</>/<literal>PM</>, <literal>HH</>,
<literal>HH12</>, and <literal>D</> format specifiers for
<function>to_char(time)</> and <function>to_char(interval)</>.
(<function>to_char(interval)</> should probably use
<literal>HH24</>.) (Bruce)</para>
-->
<para>
为<function>to_char(time)</>和<function>to_char(interval)</>
重新允许<literal>AM</>/<literal>PM</>、<literal>HH</>、
<literal>HH12</>和<literal>D</>格式说明符。
(<function>to_char(interval)</>应该可能使用<literal>HH24</>。) (Bruce)
</para>
</listitem>

<listitem>
<!--
<para>AIX, HPUX, and MSVC compile fixes (Tom, Hiroshi
Saito)</para>
-->
<para>
AIX、HPUX和MSVC编译修复 (Tom, Hiroshi Saito)
</para>
</listitem>

<listitem>
<!--
<para>Optimizer improvements (Tom)</para>
-->
<para>
优化器改善 (Tom)
</para>
</listitem>

<listitem>
<!--
<para>Retry file reads and writes after Windows
NO_SYSTEM_RESOURCES error (Qingqing Zhou)</para>
-->
<para>
在Windows NO_SYSTEM_RESOURCES错误之后重新尝试文件读取和写入 (Qingqing Zhou)
</para>
</listitem>

<listitem>
<!--
<para>Prevent <application>autovacuum</> from crashing during
ANALYZE of expression index (Alvaro)</para>
-->
<para>
阻止ANALYZE表达式索引期间<application>autovacuum</>的崩溃 (Alvaro)
</para>
</listitem>

<listitem>
<!--
<para>Fix problems with ON COMMIT DELETE ROWS temp
tables</para>
-->
<para>
修复ON COMMIT DELETE ROWS临时表的问题
</para>
</listitem>

<listitem>
<!--
<para>Fix problems when a trigger alters the output of a SELECT
DISTINCT query</para>
-->
<para>
修复触发器修改SELECT DISTINCT查询的输出时的问题
</para>
</listitem>

<listitem>
<!--
<para>Add 8.1.0 release note item on how to migrate invalid
<literal>UTF-8</> byte sequences (Paul Lindner)</para>
-->
<para>
添加了8.1.0版本声明，说明了如何迁移无效的<literal>UTF-8</>字节序列 (Paul Lindner)
</para>
</listitem>
</itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-1">
  <!-- 
  <title>Release 8.1</title>
  -->
  <title>版本 8.1</title>

  <note>
   <!--
<title>Release Date</title>
-->
<title>发布日期</title>
   <simpara>2005-11-08</simpara>
  </note>

  <sect2>
   <!--
   <title>Overview</title>
   -->
   <title>概要</title>

   <!--
<para>
    Major changes in this release:
   </para>
-->
<para>
这个版本中的主要修改：
</para>

   <variablelist>

    <varlistentry>
     <term>
      <!--
  Improve concurrent access to the shared buffer cache (Tom)
  -->
  改善到共享缓冲区缓存的并发访问 (Tom)
     </term>

     <listitem>
      <!--
<para>
       Access to the shared buffer cache was identified as a
       significant scalability problem, particularly on multi-CPU
       systems. In this release, the way that locking is done in the
       buffer manager has been overhauled to reduce lock contention
       and improve scalability. The buffer manager has also been
       changed to use a <quote>clock sweep</quote> replacement
       policy.
      </para>
-->
<para>
访问共享缓冲区缓存被认定为是一个重要的可扩展性问题，尤其是在多个CPU的系统上。
在这个版本中，锁定的方式是以缓冲区管理器已经被检查以减少锁征用和提高可扩展性来完成的。
缓冲区管理器也已经被修改为使用一个<quote>时钟扫描</quote>替换机制。
</para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>
      <!--
  Allow index scans to use an intermediate in-memory bitmap (Tom)
  -->
  允许索引扫描使用一个中间内存位图 (Tom)
     </term>

     <listitem>
      <!--
<para>
       In previous releases, only a single index could be used to do
       lookups on a table. With this feature, if a query has
       <command>WHERE tab.col1 = 4 and tab.col2 = 9</>, and there is
       no multicolumn index on <literal>col1</> and <literal>col2</>,
       but there is an index on <literal>col1</> and another on
       <literal>col2</>, it is possible to search both indexes and
       combine the results in memory, then do heap fetches for only
       the rows matching both the <literal>col1</> and
       <literal>col2</> restrictions. This is very useful in
       environments that have a lot of unstructured queries where it
       is impossible to create indexes that match all possible access
       conditions.  Bitmap scans are useful even with a single index,
       as they reduce the amount of random access needed; a bitmap
       index scan is efficient for retrieving fairly large fractions
       of the complete table, whereas plain index scans are not.
      </para>
-->
<para>
在以前的版本中，只有单个索引可以用来在表上查找。有了这个特性，如果一个查询有
<command>WHERE tab.col1 = 4 and tab.col2 = 9</>，并且在<literal>col1</>
和<literal>col2</>上没有多字段索引，但是在<literal>col1</>上有一个索引，
并且在<literal>col2</>上有另一个索引，那么有可能搜索两个索引并在内存中组合结果，
然后为同时匹配<literal>col1</>和<literal>col2</>限制条件的行执行堆栈获取。
这在有许多非结构化的查询，可能创建匹配所有访问条件的索引的环境中是非常有用的。
即使是单个索引，位图扫描也是有用的，因为他们减少了所需要的随机访问的数量；
位图索引扫描对于检索完整表的相当大的分数是高效的，而普通索引扫描则不行。
</para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>
      <!--
  Add two-phase commit (Heikki Linnakangas, Alvaro, Tom)
  -->
  添加了两阶段提交 (Heikki Linnakangas, Alvaro, Tom)
     </term>

     <listitem>
      <!--
<para>
       Two-phase commit allows transactions to be "prepared" on several
       computers, and once all computers have successfully prepared
       their transactions (none failed), all transactions can be
       committed. Even if a machine crashes after a prepare, the
       prepared transaction can be committed after the machine is
       restarted. New syntax includes <command>PREPARE TRANSACTION</> and
       <command>COMMIT/ROLLBACK PREPARED</>. A new system view
       <literal>pg_prepared_xacts</> has also been added.
      </para>
-->
<para>
两阶段提交允许事务在几个计算机上"准备"，并且一旦所有计算机都成功的准备了它们的事务
（没有失败），那么所有事务都可以提交。即使一个机器在准备之后崩溃了，
准备的事务也可以在该机器重启之后提交。新的语法包括<command>PREPARE TRANSACTION</>
和<command>COMMIT/ROLLBACK PREPARED</>。还添加了一个新的系统视图
<literal>pg_prepared_xacts</>。
</para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>
     <!-- 
 Create a new role system that replaces users and groups
      (Stephen Frost)
  -->
  创建一个新的替换用户和组的角色系统
     </term>

     <listitem>
      <!--
<para>
       Roles are a combination of users and groups. Like users, they
       can have login capability, and like groups, a role can have
       other roles as members. Roles basically remove the distinction
       between users and groups. For example, a role can:
      </para>
-->
<para>
角色是用户和组的一个组合。像用户，它们可以有登陆功能，像组，
一个角色可以拥有其他角色作为成员。角色基本上删除了用户和组之间的不同。
例如，一个角色可以：
</para>

      <itemizedlist>

       <listitem>
        <!--
<para>
          Have login capability (optionally)
        </para>
-->
<para>
有登陆功能 (可选)
</para>
       </listitem>

       <listitem>
        <!--
<para>
         Own objects
        </para>
-->
<para>
拥有对象
</para>
       </listitem>

       <listitem>
        <!--
<para>
         Hold access permissions for database objects
        </para>
-->
<para>
持有数据库对象的访问权限
</para>
       </listitem>

       <listitem>
        <!--
<para>
         Inherit permissions from other roles it is a member of
        </para>
-->
<para>
从它作为成员的其他角色上继承权限
</para>
       </listitem>

      </itemizedlist>
      <!--
<para>
       Once a user logs into a role, she obtains capabilities of
       the login role plus any inherited roles, and can use
       <command>SET ROLE</> to switch to other roles she is a member of.
       This feature is a generalization of the SQL standard's concept of
       roles.
       This change also replaces <structname>pg_shadow</> and
       <structname>pg_group</> by new role-capable catalogs
       <structname>pg_authid</> and <structname>pg_auth_members</>. The old
       tables are redefined as read-only views on the new role tables.
      </para>
-->
<para>
一旦用户登陆到一个角色，她获得了登陆角色加上任何继承的角色的能力，
并且可以使用<command>SET ROLE</>来切换到其他角色（她在其中是一个成员）。
这个特性是SQL标准角色的概念的一个概括。这个修改还用新的角色能力目录
<structname>pg_authid</>和<structname>pg_auth_members</>替换了
<structname>pg_shadow</>和<structname>pg_group</>。
老的表被重新定义为新角色表上的只读视图。
</para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>
      <!--
  Automatically use indexes for <function>MIN()</> and
      <function>MAX()</> (Tom)
  -->
  为<function>MIN()</>和<function>MAX()</>自动使用索引 (Tom)
     </term>

     <listitem>
      <!--
<para>
       In previous releases, the only way to use an index for
       <function>MIN()</> or <function>MAX()</> was to rewrite the
       query as <command>SELECT col FROM tab ORDER BY col LIMIT 1</>.
       Index usage now happens automatically.
      </para>
-->
<para>
在以前的版本中，为<function>MIN()</>或<function>MAX()</>
使用索引的唯一方式是重写查询<command>SELECT col FROM tab ORDER BY col LIMIT 1</>。
索引使用现在是自动发生的。
</para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>
      <!--
  Move <filename>/contrib/pg_autovacuum</> into the main server
      (Alvaro)
  -->
  移动<filename>/contrib/pg_autovacuum</>到主服务器 (Alvaro)
     </term>

     <listitem>
      <!--
<para>
       Integrating autovacuum into the server allows it to be
       automatically started and stopped in sync with the database
       server, and allows autovacuum to be configured from
       <filename>postgresql.conf</>.
      </para>
-->
<para>
整合自动清理到服务器，允许它在数据库服务器的同步中自动启动和停止，
并允许自动清理在<filename>postgresql.conf</>中配置。
</para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>
      <!--
  Add shared row level locks using <command>SELECT ... FOR SHARE</>
      (Alvaro)
  -->
  使用<command>SELECT ... FOR SHARE</>添加共享的行级别锁 (Alvaro)
     </term>

     <listitem>
      <!--
<para>
       While <productname>PostgreSQL</productname>'s MVCC locking
       allows <command>SELECT</> to never be blocked by writers and
       therefore does not need shared row locks for typical operations,
       shared locks are useful for applications that require shared row
       locking.  In particular this reduces the locking requirements
       imposed by referential integrity checks.
      </para>
-->
<para>
然而<productname>PostgreSQL</productname>的MVCC锁允许<command>SELECT</>
永不被写入锁定，并且因此不需要为典型的操作共享行锁，
共享的锁对于请求共享的行锁的应用是有用的。
特别是它减少了由于参照完整性检查增加的锁请求。
</para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>
      <!--
  Add dependencies on shared objects, specifically roles
      (Alvaro)
  -->
  在共享的对象上添加依赖性，尤其是角色 (Alvaro)
     </term>

     <listitem>
      <!--
<para>
       This extension of the dependency mechanism prevents roles from
       being dropped while there are still database objects they own.
       Formerly it was possible to accidentally <quote>orphan</> objects by
       deleting their owner.  While this could be recovered from, it
       was messy and unpleasant.
      </para>
-->
<para>
依赖性机制的扩展阻止了角色仍然拥有数据库对象时被删除。
以前有可能意外的<quote>孤儿</>对象被删除它们的所有者。
虽然这可以被恢复，但是它是杂乱的并且会使人不愉快。
</para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>
      <!--
  Improve performance for partitioned tables (Simon)
  -->
  为分区表提升性能 (Simon)
     </term>

     <listitem>
      <!--
<para>
       The new <varname>constraint_exclusion</varname> configuration
       parameter avoids lookups on child tables where constraints indicate
       that no matching rows exist in the child table.
      </para>
-->
<para>
新的<varname>constraint_exclusion</varname>
配置参数避免了在约束表示没有匹配行存在的子表上查找。
</para>
      <!--
<para>
       This allows for a basic type of table partitioning. If child tables
       store separate key ranges and this is enforced using appropriate
       <command>CHECK</> constraints, the optimizer will skip child
       table accesses when the constraint guarantees no matching rows
       exist in the child table.
      </para>
-->
<para>
这允许表分区的基本类型。如果子表存储独立的键范围，并且强制使用适当的<command>CHECK</>
约束，那么优化器将在约束保证在子表中没有匹配的行存在时跳过子表访问。
</para>
     </listitem>
    </varlistentry>

   </variablelist>
  </sect2>

  <sect2>
   <!--
   <title>Migration to Version 8.1</title>
   -->
   <title>迁移到版本 8.1</title>

   <!--
<para>
    A dump/restore using <application>pg_dump</application> is required
    for those wishing to migrate data from any previous release.
   </para>
-->
<para>
对于那些想要从任何以前的版本中迁移数据的用户来说，
使用<application>pg_dump</application>的一个转储/恢复是必需的。
</para>

   <!--
<para>
    The 8.0 release announced that the <function>to_char()</> function
    for intervals would be removed in 8.1. However, since no better API
    has been suggested, <function>to_char(interval)</> has been enhanced in
    8.1 and will remain in the server.
   </para>
-->
<para>
8.0版本宣布间隔的<function>to_char()</>函数将在8.1中删除。不过，
因为没有更好的API被推荐，<function>to_char(interval)</>已经在8.1中被加强，
并且将保留在服务器中。
</para>

   <!--
<para>
    Observe the following incompatibilities:
   </para>
-->
<para>
观察下列的不兼容性：
</para>

   <itemizedlist>

    <listitem>
     <!--
<para>
      <varname>add_missing_from</> is now false by default (Neil)
     </para>
-->
<para>
<varname>add_missing_from</>现在缺省是假 (Neil)
</para>
     <!--
<para>
      By default, we now generate an error if a table is used in a query
      without a <literal>FROM</> reference.  The old behavior is still
      available, but the parameter must be set to 'true' to obtain it.
     </para>
-->
<para>
缺省的，如果表用在一个没有<literal>FROM</>引用的查询中，我们现在产生一个错误。
老的行为仍然可用，但是参数必须设置为'true'。
</para>

     <!--
<para>
      It might be necessary to set <varname>add_missing_from</> to true
      in order to load an existing dump file, if the dump contains any
      views or rules created using the implicit-<literal>FROM</> syntax.
      This should be a one-time annoyance, because
      <productname>PostgreSQL</productname> 8.1 will convert
      such views and rules to standard explicit-<literal>FROM</> syntax.
      Subsequent dumps will therefore not have the problem.
     </para>
-->
<para>
为了加载一个现有的转储文件，如果转储包含任何使用隐式<literal>FROM</>
语法创建的视图或规则，那么将<varname>add_missing_from</>设置为true是必须的。
这应该是一个一次性的烦恼，因为<productname>PostgreSQL</productname> 8.1
将转换这样的视图和规则到标准的显式<literal>FROM</>语法。
随后的转储将因此不会有这个问题。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Cause input of a zero-length string (<literal>''</literal>) for
      <type>float4</type>/<type>float8</type>/<type>oid</type>
      to throw an error, rather than treating it as a zero (Neil)
     </para>
-->
<para>
让<type>float4</type>/<type>float8</type>/<type>oid</type>
零长度字符串(<literal>''</literal>)的输入抛出一个错误，
而不是将它看做零 (Neil)
</para>
     <!--
<para>
      This change is consistent with the current handling of
      zero-length strings for integers. The schedule for this change
      was announced in 8.0.
     </para>
-->
<para>
这个修改与当前整数的零长度字符串的处理是一致的。
这个修改计划在8.0中宣布。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      <varname>default_with_oids</> is now false by default (Neil)
     </para>
-->
<para>
<varname>default_with_oids</>现在缺省为假 (Neil)
</para>
     <!--
<para>
      With this option set to false, user-created tables no longer
      have an OID column unless <command>WITH OIDS</> is specified in
      <command>CREATE TABLE</>. Though OIDs have existed in all
      releases of <productname>PostgreSQL</>, their use is limited
      because they are only four bytes long and the counter is shared
      across all installed databases. The preferred way of uniquely
      identifying rows is via sequences and the <type>SERIAL</> type,
      which have been supported since <productname>PostgreSQL</> 6.4.
     </para>
-->
<para>
这个选项设置为假，用户创建的表不再有一个OID字段，除非在<command>CREATE TABLE</>
中指定了<command>WITH OIDS</>。尽管OID已经存在于<productname>PostgreSQL</>
的所有版本中，但是因为它们只有四字节长度并且计数器是基于所有安装的数据库共享的，
所以它们的使用是受限制的。唯一标识行的首选方式是通过序列和<type>SERIAL</>类型，
这个自从<productname>PostgreSQL</> 6.4开始就已经支持了。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add <literal>E''</> syntax so eventually ordinary strings can
      treat backslashes literally (Bruce)
     </para>
-->
<para>
添加<literal>E''</>语法，这样最后普通字符串可以正确的对待反斜杠 (Bruce)
</para>
     <!--
<para>
      Currently <productname>PostgreSQL</productname> processes a
      backslash in a string literal as introducing a special escape sequence,
      e.g. <literal>\n</> or <literal>\010</>.
      While this allows easy entry of special values, it is
      nonstandard and makes porting of applications from other
      databases more difficult. For this reason, the
      <productname>PostgreSQL</productname> project is planning to
      remove the special meaning of backslashes in strings. For
      backward compatibility and for users who want special backslash
      processing, a new string syntax has been created. This new string
      syntax is formed by writing an <literal>E</> immediately preceding the
      single quote that starts the string, e.g. <literal>E'hi\n'</>. While
      this release does not change the handling of backslashes in strings, it
      does add new configuration parameters to help users migrate applications
      for future releases:
     </para>
-->
<para>
目前<productname>PostgreSQL</productname>作为引入一个特殊的转义序列来处理字符串文本中的反斜杠，
比如<literal>\n</>或<literal>\010</>。虽然这允许特殊值的简单入口，
但是它是不标准的并且使得从其他数据库中移植应用更加困难。因为这个原因，
<productname>PostgreSQL</productname>工程计划删除反斜杠在字符串中的特殊含义。
为了向后兼容和想要特殊处理反斜杠的用户，创建了一个新的字符串语法。
这个新的字符串语法的格式是在开始字符串的单引号之前写一个<literal>E</>，
例如<literal>E'hi\n'</>。虽然这个版本没有改变反斜杠在字符串中的处理，
但是它确实添加了新的配置参数来帮助用户迁移应用到未来的版本：
</para>
     <itemizedlist>

      <listitem>
       <!--
<para>
        <varname>standard_conforming_strings</> &mdash; does this release
        treat backslashes literally in ordinary strings?
       </para>
-->
<para>
<varname>standard_conforming_strings</> &mdash;这个版本正确的对待反斜杠为普通字符串？
</para>
      </listitem>

      <listitem>
      <!--
<para>
       <varname>escape_string_warning</> &mdash; warn about backslashes in
       ordinary (non-E) strings
      </para>
-->
<para>
<varname>escape_string_warning</> &mdash;在普通的字符串（非E）中警告反斜杠
</para>
     </listitem>

     </itemizedlist>

     <!--
<para>
      The <varname>standard_conforming_strings</> value is read-only.
      Applications can retrieve the value to know how backslashes are
      processed.  (Presence of the parameter can also be taken as an
      indication that <literal>E''</> string syntax is supported.)
      In a future release, <varname>standard_conforming_strings</>
      will be true, meaning backslashes will be treated literally in
      non-E strings. To prepare for this change, use <literal>E''</>
      strings in places that need special backslash processing, and
      turn on <varname>escape_string_warning</> to find additional
      strings that need to be converted to use <literal>E''</>.
      Also, use two single-quotes (<literal>''</>) to embed a literal
      single-quote in a string, rather than the
      <productname>PostgreSQL</productname>-supported syntax of
      backslash single-quote (<literal>\'</>).  The former is
      standards-conforming and does not require the use of the
      <literal>E''</> string syntax.  You can also use the
      <literal>$$</> string syntax, which does not treat backslashes
      specially.
     </para>
-->
<para>
<varname>standard_conforming_strings</>值是只读的。应用可以检索该值来知道反斜杠是如何处理的。
（参数的存在也可以作为一个支持<literal>E''</>字符串语法的指示。）在未来的版本中，
<varname>standard_conforming_strings</>将为真，意味着反斜杠在非E字符串中将按照字面值对待。
为了准备这个修改，在需要特殊处理反斜杠的地方使用<literal>E''</>字符串，
并且打开<varname>escape_string_warning</>来找到需要使用<literal>E''</>
转换的额外的字符串。另外，使用两个单引号(<literal>''</>)在一个字符串中嵌入一个字面的单引号，
而不是<productname>PostgreSQL</productname>支持的反斜杠单引号(<literal>\'</>)语法。
前者是符合标准的，并且不需要使用<literal>E''</>字符串语法。你也可以使用<literal>$$</>
字符串语法，它不特殊对待反斜杠。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <command>REINDEX DATABASE</> reindex all indexes in the
      database (Tom)
     </para>
-->
<para>
让<command>REINDEX DATABASE</>重新索引数据库中的所有索引 (Tom)
</para>
     <!--
<para>
      Formerly, <command>REINDEX DATABASE</> reindexed only
      system tables. This new behavior seems more intuitive. A new
      command <command>REINDEX SYSTEM</> provides the old functionality
      of reindexing just the system tables.
     </para>
-->
<para>
以前，<command>REINDEX DATABASE</>只重建系统表的索引。
这个新的行为看起来更加直观。一个新的命令<command>REINDEX SYSTEM</>
提供只重建系统表的老的功能。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Read-only large object descriptors now obey MVCC snapshot semantics
     </para>
-->
<para>
只读大对象描述符现在服从MVCC快照语义
</para>
     <!--
<para>
      When a large object is opened with <literal>INV_READ</> (and not
      <literal>INV_WRITE</>), the data read from the descriptor will now
      reflect a <quote>snapshot</> of the large object's state at the
      time of the transaction snapshot in use by the query that called
      <function>lo_open()</>.  To obtain the old behavior of always
      returning the latest committed data, include <literal>INV_WRITE</>
      in the mode flags for <function>lo_open()</>.
     </para>
-->
<para>
当一个大对象是用<literal>INV_READ</>（不是<literal>INV_WRITE</>）打开的时，
来自描述符的数据读取现在将反应调用<function>lo_open()</>
的查询使用了事务快照时大对象的状态的<quote>快照</>。
要获取总是返回最后提交的数据的老的行为，在<function>lo_open()</>
的模式标志中包含<literal>INV_WRITE</>。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Add proper dependencies for arguments of sequence functions (Tom)
     </para>
-->
<para>
为序列函数的参数添加适当的依赖 (Tom)
</para>
     <!--
<para>
      In previous releases, sequence names passed to <function>nextval()</>,
      <function>currval()</>, and <function>setval()</> were stored as
      simple text strings, meaning that renaming or dropping a
      sequence used in a <literal>DEFAULT</> clause made the clause
      invalid. This release stores all newly-created sequence function
      arguments as internal OIDs, allowing them to track sequence
      renaming, and adding dependency information that prevents
      improper sequence removal. It also makes such <literal>DEFAULT</>
      clauses immune to schema renaming and search path changes.
     </para>
-->
<para>
在以前的版本中，传递到<function>nextval()</>、<function>currval()</>
和<function>setval()</>的序列名是作为简单文本字符串存储的，
意味着重命名或删除一个在<literal>DEFAULT</>子句中使用的序列会使子句无效。
这个版本将所有新建的序列函数参数作为内部OID存储，允许它们追踪序列重命名，
并且添加阻止不正确的序列删除的依赖关系信息。这也使得<literal>DEFAULT</>
子句免疫模式重命名和搜索路径改变。
</para>
     <!--
<para>
      Some applications might rely on the old behavior of
      run-time lookup for sequence names. This can still be done by
      explicitly casting the argument to <type>text</>, for example
      <literal>nextval('myseq'::text)</>.
     </para>
-->
<para>
一些应用可能依赖于运行时查找序列名的老的行为。这通过明确的转换参数为
<type>text</>仍然可以实现，例如<literal>nextval('myseq'::text)</>。
</para>

<para>
<!--  
     Pre-8.1 database dumps loaded into 8.1 will use the old text-based
      representation and therefore will not have the features of
      OID-stored arguments. However, it is possible to update a
      database containing text-based <literal>DEFAULT</> clauses.
      First, save this query into a file, such as <filename>fixseq.sql</>:
-->
8.1之前的数据库转储加载到8.1将使用老的基于文本的表示，
并且因此没有OID存储参数的特性。不过，更新包含基于文本的<literal>DEFAULT</>
子句的数据库是可能的。首先，保存这个查询到一个文件中，比如<filename>fixseq.sql</>：
<programlisting>
SELECT  'ALTER TABLE ' ||
   pg_catalog.quote_ident(n.nspname) || '.' ||
   pg_catalog.quote_ident(c.relname) ||
   ' ALTER COLUMN ' || pg_catalog.quote_ident(a.attname) ||
   ' SET DEFAULT ' ||
   regexp_replace(d.adsrc,
                  $$val\(\(('[^']*')::text\)::regclass$$,
                  $$val(\1$$,
                  'g') ||
   ';'
FROM    pg_namespace n, pg_class c, pg_attribute a, pg_attrdef d
WHERE   n.oid = c.relnamespace AND
   c.oid = a.attrelid AND
   a.attrelid = d.adrelid AND
   a.attnum = d.adnum AND
   d.adsrc ~ $$val\(\('[^']*'::text\)::regclass$$;
</programlisting>
<!-- 
      Next, run the query against a database to find what
      adjustments are required, like this for database <literal>db1</>:
-->
然后，在一个数据库中运行该查询，找到需要哪个调整，例如对于数据库<literal>db1</>:
<programlisting>
psql -t -f fixseq.sql db1
</programlisting>
<!-- 
      This will show the <command>ALTER TABLE</> commands needed to
      convert the database to the newer OID-based representation.
      If the commands look reasonable, run this to update the database:
-->
这将显示<command>ALTER TABLE</>命令需要转换数据库到新的基于OID的表示。
如果命令看起来合理，运行这个来更新该数据库：
<programlisting>
psql -t -f fixseq.sql db1 | psql -e db1
</programlisting>
<!-- 
     This process must be repeated in each database to be updated.
-->
这个过程必须在每个要更新的数据库中重复进行。
     </para>
    </listitem>

    <listitem>
     <!--
<para>
      In <application>psql</application>, treat unquoted
      <literal>\{digit}+</> sequences as octal (Bruce)
     </para>
-->
<para>
在<application>psql</application>中，将未加引号的<literal>\{digit}+</>
序列看做是八进制的 (Bruce)
</para>
     <!--
<para>
      In previous releases, <literal>\{digit}+</> sequences were
      treated as decimal, and only <literal>\0{digit}+</> were treated
      as octal. This change was made for consistency.
     </para>
-->
<para>
在以前的版本中，<literal>\{digit}+</>序列被看做是小数点，并且只有<literal>\0{digit}+</>
被看做是八进制的。这个修改是为了一致性。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Remove grammar productions for prefix and postfix <literal>%</>
      and <literal>^</> operators
      (Tom)
     </para>
-->
<para>
为前缀和后缀<literal>%</>和<literal>^</>操作符删除语法生产
</para>
     <!--
<para>
      These have never been documented and complicated the use of the
      modulus operator (<literal>%</>) with negative numbers.
     </para>
-->
<para>
这些从未记录和复杂的负数的模数操作符(<literal>%</>)的使用。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <literal>&amp;&lt;</> and <literal>&amp;&gt;</> for polygons
      consistent with the box "over" operators (Tom)
     </para>
-->
<para>
让多边形的<literal>&amp;&lt;</>和<literal>&amp;&gt;</>
与盒子的"over"操作符一致 (Tom)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      <command>CREATE LANGUAGE</> can ignore the provided arguments
      in favor of information from <structname>pg_pltemplate</>
      (Tom)
     </para>
-->
<para>
<command>CREATE LANGUAGE</>可以忽略提供的参数，为了支持来自
<structname>pg_pltemplate</>的信息
</para>
     <!--
<para>
      A new system catalog <structname>pg_pltemplate</> has been defined
      to carry information about the preferred definitions of procedural
      languages (such as whether they have validator functions).  When
      an entry exists in this catalog for the language being created,
      <command>CREATE LANGUAGE</> will ignore all its parameters except the
      language name and instead use the catalog information.  This measure
      was taken because of increasing problems with obsolete language
      definitions being loaded by old dump files.  As of 8.1,
      <application>pg_dump</> will dump procedural language definitions as
      just <command>CREATE LANGUAGE <replaceable>name</></command>, relying
      on a template entry to exist at load time.  We expect this will be a
      more future-proof representation.
     </para>
-->
<para>
定义了一个新的系统目录<structname>pg_pltemplate</>，
携带关于过程语言首选定义的信息（比如它们是否有验证器函数）。
当一个条目存在于创建语言的目录中时，<command>CREATE LANGUAGE</>
将忽略所有它的参数除了语言名并使用目录信息。
采取这个措施是因为废弃的语言定义被老的转储文件加载而增加问题。
截止到8.1，<application>pg_dump</>将只是作为
<command>CREATE LANGUAGE <replaceable>name</></command>
转储过程语言定义，依赖于加载时模板条目的存在。
我们期待这将成为一个更加不会过时的表示。
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Make <function>pg_cancel_backend(int)</function> return a
      <type>boolean</type> rather than an <type>integer</type> (Neil)
     </para>
-->
<para>
让<function>pg_cancel_backend(int)</function>返回一个<type>boolean</type>
而不是一个<type>integer</type> (Neil)
</para>
    </listitem>

    <listitem>
     <!--
<para>
      Some users are having problems loading UTF-8 data into 8.1.X.
      This is because previous versions allowed invalid UTF-8 byte
      sequences to be entered into the database, and this release
      properly accepts only valid UTF-8 sequences. One way to correct a
      dumpfile is to run the command <command>iconv -c -f UTF-8 -t
      UTF-8 -o cleanfile.sql dumpfile.sql</>. The <literal>-c</> option
      removes invalid character sequences. A diff of the two files will
      show the sequences that are invalid. <command>iconv</> reads the
      entire input file into memory so it might be necessary to use
      <application>split</> to break up the dump into multiple smaller
      files for processing.
     </para>
-->
<para>
一些用户在加载UTF-8数据到8.1.X时遇到问题。这是因为以前的版本允许无效的UTF-8
字节序列输入到数据库中，而这个版本只接受有效的UTF-8序列。
纠正转储文件的一个方式是运行命令<command>iconv -c -f UTF-8 -t 
UTF-8 -o cleanfile.sql dumpfile.sql</>。<literal>-c</>选项删除无效的字符序列。
两个文件的差异将显示无效的序列。<command>iconv</>读取整个输入文件到内存中，
这样它可能为了处理需要使用<application>split</>将转储分成多个较小的文件。
</para>
    </listitem>

   </itemizedlist>
  </sect2>

  <sect2>
   <!--
   <title>Additional Changes</title>
   -->
   <title>额外的修改</title>

   <!--
<para>
    Below you will find a detailed account of the additional changes
    between <productname>PostgreSQL</productname> 8.1 and the
    previous major release.
   </para>
-->
<para>
下面你将发现<productname>PostgreSQL</productname> 8.1和以前的主版本间详细的额外的修改。
</para>

   <sect3>
    <!-- 
<title>Performance Improvements</title> 
-->
    <title>性能改善</title>
<itemizedlist>

     <listitem>
      <!--
<para>
       Improve GiST and R-tree index performance (Neil)
      </para>
-->
<para>
提高GiST和R-tree索引性能(Neil)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve the optimizer, including auto-resizing of hash joins
       (Tom)
      </para>
-->
<para>
改善优化器，包括自动调整哈希连接的大小  (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Overhaul internal API in several areas
      </para>
-->
<para>
彻底检查几个方面的内部API
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Change WAL record CRCs from 64-bit to 32-bit (Tom)
      </para>
-->
<para>
修改WAL记录CRC从64位到32位 (Tom)
</para>
      <!--
<para>
       We determined that the extra cost of computing 64-bit CRCs was
       significant, and the gain in reliability too marginal to justify it.
      </para>
-->
<para>
我们觉得计算64位CRC的额外开销非常大，并且获得的可靠性并不足以为它辩解。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Prevent writing large empty gaps in WAL pages (Tom)
      </para>
-->
<para>
阻止在WAL页面中写入大的空间隙 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve spinlock behavior on SMP machines, particularly Opterons (Tom)
      </para>
-->
<para>
改善SMP机器上的自旋锁行为，尤其是Opterons (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow nonconsecutive index columns to be used in a multicolumn
       index (Tom)
      </para>
-->
<para>
允许非连续的索引字段在多字段索引上使用 (Tom)
</para>
      <!--
<para>
       For example, this allows an index on columns a,b,c to be used in
       a query with <command>WHERE a = 4 and c = 10</>.
      </para>
-->
<para>
例如，这允许一个在字段a、b、c上的索引在一个带有 <command>WHERE a = 4 and c = 10</>
的查询中使用。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Skip WAL logging for <command>CREATE TABLE AS</> /
       <command>SELECT INTO</> (Simon)
      </para>
-->
<para>
为<command>CREATE TABLE AS</> / <command>SELECT INTO</>
跳过WAL日志 (Simon)
</para>
      <!--
<para>
       Since a crash during <command>CREATE TABLE AS</> would cause the
       table to be dropped during recovery, there is no reason to WAL
       log as the table is loaded.  (Logging still happens if WAL
       archiving is enabled, however.)
      </para>
-->
<para>
因为<command>CREATE TABLE AS</>期间的崩溃会导致表在恢复期间被删除，
没有理由WAL记录该表被加载了。（不过，如果启用了WAL归档，记录仍然会发生。）
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow concurrent GiST index access (Teodor, Oleg)
      </para>
-->
<para>
允许并发的GiST索引访问 (Teodor, Oleg)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add configuration parameter <varname>full_page_writes</> to
       control writing full pages to WAL (Bruce)
      </para>
-->
<para>
添加配置参数<varname>full_page_writes</>控制写入全部页面到WAL (Bruce)
</para>
      <!--
<para>
       To prevent partial disk writes from corrupting the database,
       <productname>PostgreSQL</productname> writes a complete copy of
       each database disk page to WAL the first time it is modified
       after a checkpoint. This option turns off that functionality for more
       speed.  This is safe to use with battery-backed disk caches where
       partial page writes cannot happen.
      </para>
-->
<para>
为了阻止部分磁盘写入损坏数据库，<productname>PostgreSQL</productname>
写了每个数据库磁盘页面的完整拷贝来WAL它在一个检查点之后被修改的第一个时间。
这个选项为了更快的速度关闭了该功能。这对于使用电池后备的磁盘缓存来说是安全的，
这种情况下部分页面写入不会发生。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Use <literal>O_DIRECT</> if available when using
       <literal>O_SYNC</> for <varname>wal_sync_method</varname>
       (Itagaki Takahiro)
      </para>
-->
<para>
当为<varname>wal_sync_method</varname>使用<literal>O_SYNC</>时，
如果可用则使用<literal>O_DIRECT</> (Itagaki Takahiro)
</para>
      <!--
<para>
       <literal>O_DIRECT</> causes disk writes to bypass the kernel
       cache, and for WAL writes, this improves performance.
      </para>
-->
<para>
<literal>O_DIRECT</>导致磁盘写入绕过内核缓存，对于WAL写入来说，这提高了性能。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve <command>COPY FROM</> performance (Alon Goldshuv)
      </para>
-->
<para>
提高<command>COPY FROM</>性能 (Alon Goldshuv)
</para>
      <!--
<para>
       This was accomplished by reading <command>COPY</> input in
       larger chunks, rather than character by character.
      </para>
-->
<para>
这是通过在更大的语块中读取<command>COPY</>输入完成的，而不是挨个读取字符。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve the performance of <function>COUNT()</function>,
       <function>SUM</function>, <function>AVG()</function>,
       <function>STDDEV()</function>, and
       <function>VARIANCE()</function> (Neil, Tom)
      </para>
-->
<para>
提高了<function>COUNT()</function>、<function>SUM</function>、
<function>AVG()</function>、<function>STDDEV()</function>和
<function>VARIANCE()</function>的性能 (Neil, Tom)
</para>
     </listitem>
    </itemizedlist>
   </sect3>

   <sect3>
    <!--
<title>Server Changes</title>
-->
<title>服务器的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Prevent problems due to transaction ID (XID) wraparound (Tom)
      </para>
-->
<para>
阻止由于事务ID (XID)环绕式处理引起的问题 (Tom)
</para>
      <!--
<para>
       The server will now warn when the transaction counter approaches
       the wraparound point.  If the counter becomes too close to wraparound,
       the server will stop accepting queries.  This ensures that data is
       not lost before needed vacuuming is performed.
      </para>
-->
<para>
当事务计数器达到环绕的点时，服务器现在将发出警告。如果计数器即将达到环绕的点时，
服务器将停止接受查询。这保证了数据在需要的清理执行之前不会丢失。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix problems with object IDs (OIDs) conflicting with existing system
       objects after the OID counter has wrapped around (Tom)
      </para>
-->
<para>
修复OID计数器已经环绕式处理之后，对象IDs (OIDs)与现有系统对象冲突的问题 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add warning about the need to increase
       <varname>max_fsm_relations</> and <varname>max_fsm_pages</>
       during <command>VACUUM</> (Ron Mayer)
      </para>
-->
<para>
添加<command>VACUUM</>期间需要增加<varname>max_fsm_relations</>和
<varname>max_fsm_pages</>的警告 (Ron Mayer)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <varname>temp_buffers</> configuration parameter to allow
       users to determine the size of the local buffer area for
       temporary table access (Tom)
      </para>
-->
<para>
添加<varname>temp_buffers</>配置参数，
允许用户为临时表访问确定本地缓存区域的大小 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add session start time and client IP address to
       <literal>pg_stat_activity</> (Magnus)
      </para>
-->
<para>
添加会话启动时间和客户端IP地址到<literal>pg_stat_activity</> (Magnus)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Adjust <literal>pg_stat</> views for bitmap scans (Tom)
      </para>
-->
<para>
为位图扫描调整<literal>pg_stat</>视图 (Tom)
</para>
      <!--
<para>
       The meanings of some of the fields have changed slightly.
      </para>
-->
<para>
一些字段的含义发生了微妙的变化。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Enhance <literal>pg_locks</> view (Tom)
      </para>
-->
<para>
加强了<literal>pg_locks</>视图 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Log queries for client-side <command>PREPARE</> and
       <command>EXECUTE</> (Simon)
      </para>
-->
<para>
客户端侧<command>PREPARE</>和<command>EXECUTE</>的日志查询 (Simon)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow Kerberos name and user name case sensitivity to be
       specified in <filename>postgresql.conf</> (Magnus)
      </para>
-->
<para>
允许Kerberos名字和用户名在<filename>postgresql.conf</>的规定中大小写敏感 (Magnus)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add configuration parameter <varname>krb_server_hostname</> so
       that the server host name can be specified as part of service
       principal (Todd Kover)
      </para>
-->
<para>
添加配置参数<varname>krb_server_hostname</>，
这样服务器主机名可以作为服务主体的一部分指定 (Todd Kover)
</para>
      <!--
<para>
       If not set, any service principal matching an entry in the
       keytab can be used. This is new Kerberos matching behavior in
       this release.
      </para>
-->
<para>
如果没有设置，任何服务主体匹配keytab中的任意条目都有可能被使用。
这是这个版本中的新的Kerberos匹配行为。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <varname>log_line_prefix</> options for millisecond
       timestamps (<literal>%m</>) and remote host (<literal>%h</>) (Ed
       L.)
      </para>
-->
<para>
为毫秒时间戳(<literal>%m</>)和远程主机(<literal>%h</>)添加
<varname>log_line_prefix</>选项 (Ed L.)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add WAL logging for GiST indexes (Teodor, Oleg)
      </para>
-->
<para>
为GiST索引添加WAL日志 (Teodor, Oleg)
</para>
      <!--
<para>
       GiST indexes are now safe for crash and point-in-time recovery.
      </para>
-->
<para>
GiST索引现在对于崩溃和时间点恢复来说是安全的。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove old <filename>*.backup</> files when we do
       <function>pg_stop_backup()</> (Bruce)
      </para>
-->
<para>
当我们执行<function>pg_stop_backup()</>时，删除老的<filename>*.backup</>文件 (Bruce)
</para>
      <!--
<para>
       This prevents a large number of <filename>*.backup</> files from
       existing in <filename>pg_xlog/</>.
      </para>
-->
<para>
这阻止了大量的<filename>*.backup</>文件存在于<filename>pg_xlog/</>中。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add configuration parameters to control TCP/IP keep-alive
       times for idle, interval, and count (Oliver Jowett)
      </para>
-->
<para>
添加配置参数为闲置、间隔和计数控制TCP/IP保持活动的时间 (Oliver Jowett)
</para>

      <!--
<para>
       These values can be changed to allow more rapid detection of
       lost client connections.
      </para>
-->
<para>
这些值可以修改来允许对丢失的客户端连接更快速的检测。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add per-user and per-database connection limits (Petr Jelinek)
      </para>
-->
<para>
添加每用户和每数据库连接限制 (Petr Jelinek)
</para>
      <!--
<para>
       Using <command>ALTER USER</> and <command>ALTER DATABASE</>,
       limits can now be enforced on the maximum number of sessions that
       can concurrently connect as a specific user or to a specific database.
       Setting the limit to zero disables user or database connections.
      </para>
-->
<para>
使用<command>ALTER USER</>和<command>ALTER DATABASE</>，
现在可以强制限制作为一个特殊用户或作为一个特殊数据库并发连接的最大会话数量。
设置限制为0禁用用户或数据库连接。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow more than two gigabytes of shared memory and per-backend
       work memory on 64-bit machines (Koichi Suzuki)
      </para>
-->
<para>
在64位的机器上允许超过两千兆字节的共享内存和每后端的工作内存 (Koichi Suzuki)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       New system catalog <structname>pg_pltemplate</> allows overriding
       obsolete procedural-language definitions in dump files (Tom)
      </para>
-->
<para>
新增系统目录<structname>pg_pltemplate</>，允许在转储文件中重写废弃的过程语言定义 (Tom)
</para>
     </listitem>

    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title>Query Changes</title>
-->
<title>查询修改</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Add temporary views (Koju Iijima, Neil)
      </para>
-->
<para>
添加临时视图 (Koju Iijima, Neil)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix <command>HAVING</> without any aggregate functions or
       <command>GROUP BY</> so that the query returns a single group (Tom)
      </para>
-->
<para>
修复<command>HAVING</>没有任何聚合函数或<command>GROUP BY</>，
这样查询返回一个组 (Tom)
</para>
      <!--
<para>
       Previously, such a case would treat the <command>HAVING</>
       clause the same as a <command>WHERE</> clause.  This was not per spec.
      </para>
-->
<para>
以前，这样的情况会将<command>HAVING</>子句看做和<command>WHERE</>子句相同。
这是不规范的。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <command>USING</> clause to allow additional tables to be
       specified to <command>DELETE</> (Euler Taveira de Oliveira, Neil)
      </para>
-->
<para>
添加<command>USING</>子句允许额外的表指定为<command>DELETE</> (Euler Taveira de Oliveira, Neil)
</para>
      <!--
<para>
       In prior releases, there was no clear method for specifying
       additional tables to be used for joins in a <command>DELETE</>
       statement. <command>UPDATE</> already has a <literal>FROM</>
       clause for this purpose.
      </para>
-->
<para>
在以前的版本中，没有明确的方法指定用于<command>DELETE</>语句中的连接的额外的表。
对于这个目的，<command>UPDATE</>早已有了一个<literal>FROM</>子句。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for <literal>\x</> hex escapes in backend and ecpg
       strings (Bruce)
      </para>
-->
<para>
在后端和ecpg字符串中添加对<literal>\x</>十六进制转义的支持 (Bruce)
</para>
      <!--
<para>
       This is just like the standard C <literal>\x</> escape syntax.
       Octal escapes were already supported.
      </para>
-->
<para>
这正像标准C <literal>\x</>转义语法。八进制转义早就支持了。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <command>BETWEEN SYMMETRIC</> query syntax (Pavel Stehule)
      </para>
-->
<para>
添加<command>BETWEEN SYMMETRIC</>查询语法 (Pavel Stehule)
</para>
      <!--
<para>
       This feature allows <command>BETWEEN</> comparisons without
       requiring the first value to be less than the second. For
       example, <command>2 BETWEEN [ASYMMETRIC] 3 AND 1</> returns
       false, while <command>2 BETWEEN SYMMETRIC 3 AND 1</> returns
       true. <command>BETWEEN ASYMMETRIC</> was already supported.
      </para>
-->
<para>
这个特征允许<command>BETWEEN</>比较不请求第一个值小于第二个值。
例如，<command>2 BETWEEN [ASYMMETRIC] 3 AND 1</>返回假，
而<command>2 BETWEEN SYMMETRIC 3 AND 1</>返回真。
<command>BETWEEN ASYMMETRIC</>早就支持了。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <command>NOWAIT</> option to <command>SELECT ... FOR
       UPDATE/SHARE</> (Hans-Juergen Schoenig)
      </para>
-->
<para>
添加<command>NOWAIT</>选项到<command>SELECT ... FOR UPDATE/SHARE</> (Hans-Juergen Schoenig)
</para>
      <!--
<para>
       While the <varname>statement_timeout</> configuration
       parameter allows a query taking more than a certain amount of
       time to be canceled, the <command>NOWAIT</> option allows a
       query to be canceled as soon as a <command>SELECT ... FOR
       UPDATE/SHARE</> command cannot immediately acquire a row lock.
      </para>
-->
<para>
当<varname>statement_timeout</>配置参数允许一个查询接受超过一定数量的时间被取消，
<command>NOWAIT</>选项允许查询在<command>SELECT ... FOR UPDATE/SHARE</>
命令不能立即获得一个行锁时尽快被取消。
</para>
     </listitem>
    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title>Object Manipulation Changes</title> 
-->
<title>对象操作的改变</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Track dependencies of shared objects (Alvaro)
      </para>
-->
<para>
追踪共享对象的依赖性 (Alvaro)
</para>
      <!--
<para>
       <productname>PostgreSQL</productname> allows global tables
       (users, databases, tablespaces) to reference information in
       multiple databases. This addition adds dependency information
       for global tables, so, for example, user ownership can be
       tracked across databases, so a user who owns something in any
       database can no longer be removed. Dependency tracking already
       existed for database-local objects.
      </para>
-->
<para>
<productname>PostgreSQL</productname>允许全局表（用户、数据库、表空间）
引用多个数据库中的信息。这为全局表额外的添加了依赖关系信息，这样，例如，
用户所有权可以跨数据库追踪，一个在任意数据库中拥有某些东西的用户不再被删除。
依赖关系追踪早已为数据库本地对象存在了。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow limited <command>ALTER OWNER</> commands to be performed
       by the object owner (Stephen Frost)
      </para>
-->
<para>
允许受限制的<command>ALTER OWNER</>命令被对象所有者执行 (Stephen Frost)
</para>
      <!--
<para>
       Prior releases allowed only superusers to change object owners.
       Now, ownership can be transferred if the user executing the command
       owns the object and would be able to create it as the new owner
       (that is, the user is a member of the new owning role and that role
       has the CREATE permission that would be needed to create the object
       afresh).
      </para>
-->
<para>
以前的版本只允许超级用户修改对象所有者。现在，如果执行该命令的用户拥有该对象，
并且可以作为新的所有者创建它，那么所有权就可以转移（也就是说，
该用户是新的拥有角色的一员，并且该角色拥有重新创建该对象所需要的CREATE权限）。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <command>ALTER</> object <command>SET SCHEMA</> capability
       for some object types (tables, functions, types) (Bernd Helmle)
      </para>
-->
<para>
为某些对象类型（表、函数、类型）添加<command>ALTER</>对象
<command>SET SCHEMA</>能力 (Bernd Helmle)
</para>
      <!--
<para>
       This allows objects to be moved to different schemas.
      </para>
-->
<para>
这允许对象迁移到不同的模式中。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <command>ALTER TABLE ENABLE/DISABLE TRIGGER</command> to
       disable triggers (Satoshi Nagayasu)
      </para>
-->
<para>
添加<command>ALTER TABLE ENABLE/DISABLE TRIGGER</command>禁用触发器 (Satoshi Nagayasu)
</para>
     </listitem>

    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title>Utility Command Changes</title>
-->
<title>工具命令的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Allow <command>TRUNCATE</> to truncate multiple tables in a
       single command (Alvaro)
      </para>
-->
<para>
允许<command>TRUNCATE</>在一个命令中截断多个表 (Alvaro)
</para>
      <!--
<para>
       Because of referential integrity checks, it is not allowed to
       truncate a table that is part of a referential integrity
       constraint. Using this new functionality, <command>TRUNCATE</>
       can be used to truncate such tables, if both tables involved in
       a referential integrity constraint are truncated in a single
       <command>TRUNCATE</> command.
      </para>
-->
<para>
由于参照完整性检查，不允许截断是参照完整性约束的一部分的表。
使用这个新功能，<command>TRUNCATE</>可以用来截断这个样的表，
如果两个表都包含在一个参照完整性约束中，那么会在一个
<command>TRUNCATE</>命令中都被截断。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Properly process carriage returns and line feeds in
       <command>COPY CSV</> mode (Andrew)
      </para>
-->
<para>
在<command>COPY CSV</>模式中正确的处理回车和换行 (Andrew)
</para>
      <!--
<para>
       In release 8.0, carriage returns and line feeds in <command>CSV
       COPY TO</> were processed in an inconsistent manner. (This was
       documented on the TODO list.)
      </para>
-->
<para>
在版本8.0中，<command>CSV COPY TO</>中的回车和换行是以一种不一致的方式处理的。
（这在TODO列表中记录了。）
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <command>COPY WITH CSV HEADER</> to allow a header line as
       the first line in <command>COPY</> (Andrew)
      </para>
-->
<para>
添加<command>COPY WITH CSV HEADER</>，允许标题作为<command>COPY</>
中的第一行 (Andrew)
</para>
      <!--
<para>
       This allows handling of the common <command>CSV</> usage of
       placing the column names on the first line of the data file. For
       <command>COPY TO</>, the first line contains the column names,
       and for <command>COPY FROM</>, the first line is ignored.
      </para>
-->
<para>
这允许处理公共<command>CSV</>在数据文件的第一行放置字段名的用法。
对于<command>COPY TO</>，第一行包含该字段名，对于<command>COPY FROM</>，
忽略第一行。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       On Windows, display better sub-second precision in
       <command>EXPLAIN ANALYZE</> (Magnus)
      </para>
-->
<para>
在Windows上，在<command>EXPLAIN ANALYZE</>中显示更好的次秒级精度 (Magnus)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add trigger duration display to <command>EXPLAIN ANALYZE</>
       (Tom)
      </para>
-->
<para>
添加触发时间显示到<command>EXPLAIN ANALYZE</>
</para>
      <!--
<para>
       Prior releases included trigger execution time as part of the
       total execution time, but did not show it separately.  It is now
       possible to see how much time is spent in each trigger.
      </para>
-->
<para>
以前的版本包含触发器的执行时间作为总的执行时间的一部分，
但是没有单独显示它。现在有可能看到在每个触发器中花费了多少时间。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for <literal>\x</> hex escapes in <command>COPY</>
       (Sergey Ten)
      </para>
-->
<para>
在<command>COPY</>中添加对<literal>\x</>十六进制转义的支持 (Sergey Ten)
</para>
      <!--
<para>
       Previous releases only supported octal escapes.
      </para>
-->
<para>
以前的版本只支持八进制转义。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <command>SHOW ALL</> include variable descriptions
       (Matthias Schmidt)
      </para>
-->
<para>
让<command>SHOW ALL</>包括变量描述 (Matthias Schmidt)
</para>
      <!--
<para>
       <command>SHOW</> varname still only displays the variable's
       value and does not include the description.
      </para>
-->
<para>
<command>SHOW</>变量名仍然只显示变量的值，不包括变量描述。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <application>initdb</application> create a new standard
       database called <literal>postgres</>, and convert utilities to
       use <literal>postgres</> rather than <literal>template1</> for
       standard lookups (Dave)
      </para>
-->
<para>
让<application>initdb</application>创建一个新的称为<literal>postgres</>的标准数据库，
并转变工具为标准查询使用<literal>postgres</>而不是<literal>template1</> (Dave)
</para>
      <!--
<para>
       In prior releases, <literal>template1</> was used both as a
       default connection for utilities like
       <application>createuser</application>, and as a template for
       new databases. This caused <command>CREATE DATABASE</> to
       sometimes fail, because a new database cannot be created if
       anyone else is in the template database. With this change, the
       default connection database is now <literal>postgres</>,
       meaning it is much less likely someone will be using
       <literal>template1</> during <command>CREATE DATABASE</>.
      </para>
-->
<para>
在以前的版本中，<literal>template1</>作为工具（像<application>createuser</application>）
的缺省连接使用，也作为新数据库的模板。这导致<command>CREATE DATABASE</>
有时会失败，因为如果任何人连接了模板数据库，那么新的数据库就不能创建。
有了这个改变，缺省连接数据库现在是<literal>postgres</>，
意味着在<command>CREATE DATABASE</>期间，极少可能有人正在使用<literal>template1</>。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Create new <application>reindexdb</application> command-line
       utility by moving <filename>/contrib/reindexdb</> into the
       server (Euler Taveira de Oliveira)
      </para>
-->
<para>
通过移动<filename>/contrib/reindexdb</>到服务器，
创建新的<application>reindexdb</application>命令行工具 (Euler Taveira de Oliveira)
</para>
     </listitem>

    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title>Data Type and Function Changes</title>
-->
<title>数据类型和函数的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Add <function>MAX()</> and <function>MIN()</> aggregates for
       array types (Koju Iijima)
      </para>
-->
<para>
为数组类型添加<function>MAX()</>和<function>MIN()</>聚合 (Koju Iijima)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix <function>to_date()</> and <function>to_timestamp()</> to
       behave reasonably when <literal>CC</> and <literal>YY</> fields
       are both used (Karel Zak)
      </para>
-->
<para>
修复<literal>CC</>和<literal>YY</>字段都被使用了时，<function>to_date()</>
和<function>to_timestamp()</>合理的行为 (Karel Zak)
</para>
      <!--
<para>
       If the format specification contains <literal>CC</> and a year
       specification is <literal>YYY</> or longer, ignore the
       <literal>CC</>. If the year specification is <literal>YY</> or
       shorter, interpret <literal>CC</> as the previous century.
      </para>
-->
<para>
如果格式声明包含<literal>CC</>并且年的声明是<literal>YYY</>或更长，
那么忽略<literal>CC</>。如果年的声明是<literal>YY</>或更短，
那么解释<literal>CC</>为上个世纪。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>md5(bytea)</> (Abhijit Menon-Sen)
      </para>
-->
<para>
添加<function>md5(bytea)</> (Abhijit Menon-Sen)
</para>
      <!--
<para>
       <function>md5(text)</> already existed.
      </para>
-->
<para>
<function>md5(text)</>早已存在了。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for <command>numeric ^ numeric</> based on
       <function>power(numeric, numeric)</>
      </para>
-->
<para>
添加对基于<function>power(numeric, numeric)</>的
<command>numeric ^ numeric</>的支持
</para>
      <!--
<para>
       The function already existed, but there was no operator assigned
       to it.
      </para>
-->
<para>
该函数早就存在了，但是没有分配操作符给他。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix <type>NUMERIC</> modulus by properly truncating the quotient
       during computation (Bruce)
      </para>
-->
<para>
通过正确的在计算时截断商，修复<type>NUMERIC</>的模数 (Bruce)
</para>
      <!--
<para>
       In previous releases, modulus for large values sometimes
       returned negative results due to rounding of the quotient.
      </para>
-->
<para>
在以前的版本中，大值的模数有时会因为商的圆整返回负的结果。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add a function <function>lastval()</> (Dennis Bj&ouml;rklund)
      </para>
-->
<para>
添加了一个函数<function>lastval()</> (Dennis Bj&ouml;rklund)
</para>
      <!--
<para>
       <function>lastval()</> is a simplified version of
       <function>currval()</>. It automatically determines the proper
       sequence name based on the most recent <function>nextval()</> or
       <function>setval()</> call performed by the current session.
      </para>
-->
<para>
<function>lastval()</>是<function>currval()</>的一个简化版本。
它根据当前会话执行的最后一个<function>nextval()</>或<function>setval()</>
调用，自动的确定正确的序列名。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>to_timestamp(DOUBLE PRECISION) (Michael Glaesemann)</>   此处原文有误
      </para>
-->
<para>
添加了<function>to_timestamp(DOUBLE PRECISION)</> (Michael Glaesemann)
</para>
      <!--
<para>
       Converts Unix seconds since 1970 to a <type>TIMESTAMP WITH
       TIMEZONE</>.
      </para>
-->
<para>
转换自1970年以来的Unix秒到一个<type>TIMESTAMP WITH TIMEZONE</>。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>pg_postmaster_start_time()</> function (Euler
       Taveira de Oliveira, Matthias Schmidt)
      </para>
-->
<para>
添加了<function>pg_postmaster_start_time()</>函数 (Euler
 Taveira de Oliveira, Matthias Schmidt)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow the full use of time zone names in <command>AT TIME
       ZONE</>, not just the short list previously available (Magnus)
      </para>
-->
<para>
允许在<command>AT TIME ZONE</>中充分使用时区名字，
不只是以前可用的短列表 (Magnus)
</para>
      <!--
<para>
       Previously, only a predefined list of time zone names were
       supported by <command>AT TIME ZONE</>. Now any supported time
       zone name can be used, e.g.:
<programlisting>
SELECT CURRENT_TIMESTAMP AT TIME ZONE 'Europe/London';
</programlisting>
       In the above query, the time zone used is adjusted based on the
       daylight saving time rules that were in effect on the supplied
       date.
      </para>
-->
<para>
以前，<command>AT TIME ZONE</>只支持时区名的一个预定义的列表。
现在任何支持的时区名都可以使用，例如：
<programlisting>
SELECT CURRENT_TIMESTAMP AT TIME ZONE 'Europe/London';
</programlisting>
在上面的查询中，使用的时区基于实际上影响提供的日期的夏令时规则调整。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>GREATEST()</> and <function>LEAST()</> variadic
       functions (Pavel Stehule)
      </para>
-->
<para>
添加<function>GREATEST()</>和<function>LEAST()</> variadic函数 (Pavel Stehule)
</para>
      <!--
<para>
       These functions take a variable number of arguments and return
       the greatest or least value among the arguments.
      </para>
-->
<para>
这些函数接受可变数量的参数并返回这些参数的最大或最小值。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>pg_column_size()</> (Mark Kirkwood)
      </para>
-->
<para>
添加了<function>pg_column_size()</> (Mark Kirkwood)
</para>
      <!--
<para>
       This returns storage size of a column, which might be compressed.
      </para>
-->
<para>
这返回一个字段的存储尺寸，可能是被压缩的。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>regexp_replace()</> (Atsushi Ogawa)
      </para>
-->
<para>
添加了<function>regexp_replace()</> (Atsushi Ogawa)
</para>
      <!--
<para>
       This allows regular expression replacement, like sed. An optional
       flag argument allows selection of global (replace all) and
       case-insensitive modes.
      </para>
-->
<para>
这允许正则表达式替换，像sed。一个可选的标识参数允许全局选择（替换所有）
和大小写敏感模式。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix interval division and multiplication (Bruce)
      </para>
-->
<para>
修复间隔除法和乘法 (Bruce)
</para>
      <!--
<para>
       Previous versions sometimes returned unjustified results, like
       <command>'4 months'::interval / 5</> returning <command>'1 mon
       -6 days'</>.
      </para>
-->
<para>
以前的版本有时返回不正当的结果，像<command>'4 months'::interval / 5</>
返回<command>'1 mon -6 days'</>。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Fix roundoff behavior in timestamp, time, and interval output (Tom)
      </para>
-->
<para>
修复时间戳、时间和间隔输出中的舍入行为 (Tom)
</para>
      <!--
<para>
       This fixes some cases in which the seconds field would be shown as
       <literal>60</> instead of incrementing the higher-order fields.
      </para>
-->
<para>
这修复了秒字段显示为<literal>60</>而不是增长高阶字段的一些情况。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add a separate day field to type <type>interval</> so a one day
       interval can be distinguished from a 24 hour interval (Michael
       Glaesemann)
      </para>
-->
<para>
添加一个单独的天字段到类型<type>interval</>，
这样一天的间隔可以不同于24小时的间隔 (Michael Glaesemann)
</para>
      <!--
<para>
       Days that contain a daylight saving time adjustment are not 24
       hours long, but typically 23 or 25 hours.  This change creates a
       conceptual distinction between intervals of <quote>so many days</>
       and intervals of <quote>so many hours</>.  Adding
       <literal>1 day</> to a timestamp now gives the same local time on
       the next day even if a daylight saving time adjustment occurs
       between, whereas adding <literal>24 hours</> will give a different
       local time when this happens.  For example, under US DST rules:
<programlisting>
'2005-04-03 00:00:00-05' + '1 day' = '2005-04-04 00:00:00-04'
'2005-04-03 00:00:00-05' + '24 hours' = '2005-04-04 01:00:00-04'
</programlisting>
      </para>
-->
<para>
包含夏令时调整的天不是24小时长，通常是23或25小时。这个修改创建了一个
<quote>这么多天</>的间隔和<quote>这么多小时</>的间隔之间概念上的不同。
添加<literal>1 day</>到一个时间戳现在给出和下一天相同的本地时间，
即使两天之间有一个夏令时调整，而添加<literal>24 hours</>
将给出一个不同的本地时间。例如，在US DST规则下：
<programlisting>
'2005-04-03 00:00:00-05' + '1 day' = '2005-04-04 00:00:00-04'
'2005-04-03 00:00:00-05' + '24 hours' = '2005-04-04 01:00:00-04'
</programlisting>
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>justify_days()</> and <function>justify_hours()</>
       (Michael Glaesemann)
      </para>
-->
<para>
添加了<function>justify_days()</>和<function>justify_hours()</> (Michael Glaesemann)
</para>
      <!--
<para>
       These functions, respectively, adjust days to an appropriate
       number of full months and days, and adjust hours to an
       appropriate number of full days and hours.
      </para>
-->
<para>
这些函数，分别的，调整天到一个合适数量的全月和日，
调整小时到一个合适数量的全天和小时。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Move <filename>/contrib/dbsize</> into the backend, and rename
       some of the functions (Dave Page, Andreas Pflug)
      </para>
-->
<para>
移动<filename>/contrib/dbsize</>到后端，并重命名一些函数 (Dave Page, Andreas Pflug)
</para>
      
<para>
       <itemizedlist>

        <listitem>
         <para>
           <function>pg_tablespace_size()</>
         </para>
        </listitem>

        <listitem>
<para>
          <function>pg_database_size()</>
         </para>
        </listitem>

        <listitem>
<para>
          <function>pg_relation_size()</>
         </para>
        </listitem>

        <listitem>
<para>
          <function>pg_total_relation_size()</>
         </para>
        </listitem>

        <listitem>
<para>
          <function>pg_size_pretty()</>
         </para>
        </listitem>

       </itemizedlist>
      </para>
      <!--
<para>
       <function>pg_total_relation_size()</> includes indexes and TOAST
       tables.
      </para>
-->
<para>
<function>pg_total_relation_size()</>包括索引和TOAST表。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add functions for read-only file access to the cluster directory
       (Dave Page, Andreas Pflug)
      </para>
-->
<para>
为访问集群目录的只读文件添加函数 (Dave Page, Andreas Pflug)
</para>
      
<para>
       <itemizedlist>

        <listitem>
         <para>
          <function>pg_stat_file()</>
         </para>
        </listitem>

        <listitem>
<para>
          <function>pg_read_file()</>
         </para>
        </listitem>

        <listitem>
<para>
          <function>pg_ls_dir()</>
         </para>
        </listitem>

       </itemizedlist>
      </para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>pg_reload_conf()</> to force reloading of the
       configuration files (Dave Page, Andreas Pflug)
      </para>
-->
<para>
添加<function>pg_reload_conf()</>强制配置文件的重载 (Dave Page, Andreas Pflug)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>pg_rotate_logfile()</> to force rotation of the
       server log file (Dave Page, Andreas Pflug)
      </para>
-->
<para>
添加<function>pg_rotate_logfile()</>强制服务器日志文件的循环 (Dave Page, Andreas Pflug)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Change <literal>pg_stat_*</> views to include TOAST tables (Tom)
      </para>
-->
<para>
修改<literal>pg_stat_*</>视图包含TOAST表 (Tom)
</para>
     </listitem>

    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title>Encoding and Locale Changes</title>
-->
<title>编码和环境的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Rename some encodings to be more consistent and to follow
       international standards (Bruce)
      </para>
-->
<para>
重命名一些编码使其更加一致和遵守国际标准 (Bruce)
</para>
      
<para>
       <itemizedlist>

        <listitem>
<!--
         <para>
          <literal>UNICODE</> is now <literal>UTF8</>
         </para>
-->
<para>
<literal>UNICODE</>现在是<literal>UTF8</>
</para>
        </listitem>

        <listitem>
         <!--
<para>
          <literal>ALT</> is now <literal>WIN866</>
         </para>
-->
<para>
<literal>ALT</>现在是<literal>WIN866</>
</para>
        </listitem>

        <listitem>
         <!--
<para>
          <literal>WIN</> is now <literal>WIN1251</>
         </para>
-->
<para>
<literal>WIN</>现在是<literal>WIN1251</>
</para>
        </listitem>

        <listitem>
         <!--
<para>
         <literal>TCVN</> is now <literal>WIN1258</>
         </para>
-->
<para>
<literal>TCVN</>现在是<literal>WIN1258</>
</para>
        </listitem>

       </itemizedlist>
      </para>

      <!--
<para>
       The original names still work.
      </para>
-->
<para>
原先的名字仍然工作。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for <literal>WIN1252</> encoding (Roland Volkmann)
      </para>
-->
<para>
添加对<literal>WIN1252</>编码的支持 (Roland Volkmann)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for four-byte <literal>UTF8</> characters (John
       Hansen)
      </para>
-->
<para>
添加对四字节<literal>UTF8</>字符的支持 (John Hansen)
</para>
      <!--
<para>
       Previously only one, two, and three-byte <literal>UTF8</> characters
       were supported. This is particularly important for support for
       some Chinese character sets.
      </para>
-->
<para>
以前只支持一、二、三字节<literal>UTF8</>字符。这对于支持一些汉字字符设置尤其重要。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow direct conversion between <literal>EUC_JP</> and
       <literal>SJIS</> to improve performance (Atsushi Ogawa)
      </para>
-->
<para>
允许<literal>EUC_JP</>和<literal>SJIS</>之间的直接转换，以提高性能 (Atsushi Ogawa)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow the UTF8 encoding to work on Windows (Magnus)
      </para>
-->
<para>
允许UTF8编码在Windows上工作 (Magnus)
</para>
      <!--
<para>
       This is done by mapping UTF8 to the Windows-native UTF16
       implementation.
      </para>
-->
<para>
这是通过映射UTF8到Windows本地的UTF16实现做到的。
</para>
     </listitem>

    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title>General Server-Side Language Changes</title>
-->
<title>一般服务器端语言的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Fix <command>ALTER LANGUAGE RENAME</> (Sergey Yatskevich)
      </para>
-->
<para>
修复<command>ALTER LANGUAGE RENAME</> (Sergey Yatskevich)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow function characteristics, like strictness and volatility,
       to be modified via <command>ALTER FUNCTION</> (Neil)
      </para>
-->
<para>
允许函数特征，像严格和活泼，通过<command>ALTER FUNCTION</>来修改 (Neil)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Increase the maximum number of function arguments to 100 (Tom)
      </para>
-->
<para>
增加函数参数的最大数量到100 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow SQL and PL/pgSQL functions to use <command>OUT</> and
       <command>INOUT</> parameters (Tom)
      </para>
-->
<para>
允许SQL和PL/pgSQL函数使用<command>OUT</>和<command>INOUT</>参数 (Tom)
</para>
      <!--
<para>
       <command>OUT</> is an alternate way for a function to return
       values. Instead of using <command>RETURN</>, values can be
       returned by assigning to parameters declared as <command>OUT</> or
       <command>INOUT</>.  This is notationally simpler in some cases,
       particularly so when multiple values need to be returned.
       While returning multiple values from a function
       was possible in previous releases, this greatly simplifies the
       process.  (The feature will be extended to other server-side
       languages in future releases.)
      </para>
-->
<para>
<command>OUT</>是函数返回值的一个可替换的方式。取代使用<command>RETURN</>，
可以通过分配参数声明为<command>OUT</>或<command>INOUT</>来返回值。
这在一些情况下通常更简单，尤其是需要返回多个值时。
从一个函数中返回多个值在以前的版本中是可能的，这大大的简化了该过程。
（该特性在未来的版本中将扩展为其他服务器端语言。）
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Move language handler functions into the <literal>pg_catalog</> schema
      </para>
-->
<para>
移动语言处理器函数到<literal>pg_catalog</>模式
</para>
      <!--
<para>
       This makes it easier to drop the public schema if desired.
      </para>
-->
<para>
如果要求，这使得它更容易删除公共模式。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>SPI_getnspname()</function> to SPI (Neil)
      </para>
-->
<para>
添加<function>SPI_getnspname()</function>到SPI (Neil)
</para>
     </listitem>

    </itemizedlist>
   </sect3>

   <sect3>
    <!--
<title>PL/pgSQL Server-Side Language Changes</title>
-->
<title>PL/pgSQL服务器端语言的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Overhaul the memory management of PL/pgSQL functions (Neil)
      </para>
-->
<para>
彻底检查PL/pgSQL函数的内存管理 (Neil)
</para>
      <!--
<para>
       The parsetree of each function is now stored in a separate
       memory context. This allows this memory to be easily reclaimed
       when it is no longer needed.
      </para>
-->
<para>
每个函数的分析树现在存储在一个单独的内存空间中。
当不再需要它时，这允许这个内存很容易的回收利用。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Check function syntax at <command>CREATE FUNCTION</> time,
       rather than at runtime (Neil)
      </para>
-->
<para>
在<command>CREATE FUNCTION</>时检查函数语法，而不是在运行时 (Neil)
</para>
      <!--
<para>
       Previously, most syntax errors were reported only when the
       function was executed.
      </para>
-->
<para>
以前，大多数语法错误只在该函数被执行时报告。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <command>OPEN</> to open non-<command>SELECT</> queries
       like <command>EXPLAIN</> and <command>SHOW</> (Tom)
      </para>
-->
<para>
允许<command>OPEN</>打开非<command>SELECT</>查询，像<command>EXPLAIN</>
和<command>SHOW</> (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       No longer require functions to issue a <command>RETURN</>
       statement (Tom)
      </para>
-->
<para>
不再要求函数发出<command>RETURN</>语句 (Tom)
</para>
      <!--
<para>
       This is a byproduct of the newly added <command>OUT</> and
       <command>INOUT</> functionality.  <command>RETURN</> can
       be omitted when it is not needed to provide the function's
       return value.
      </para>
-->
<para>
这是新添加的<command>OUT</>和<command>INOUT</>功能的副产品。
当不需要提供函数的返回值时，可以省略<command>RETURN</>。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for an optional <command>INTO</> clause to
       PL/pgSQL's <command>EXECUTE</> statement (Pavel Stehule, Neil)
      </para>
-->
<para>
添加对可选<command>INTO</>子句到PL/pgSQL的<command>EXECUTE</>
语句的支持 (Pavel Stehule, Neil)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <command>CREATE TABLE AS</> set <command>ROW_COUNT</> (Tom)
      </para>
-->
<para>
让<command>CREATE TABLE AS</>设置<command>ROW_COUNT</> (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Define <literal>SQLSTATE</> and <literal>SQLERRM</> to return
       the <literal>SQLSTATE</> and error message of the current
       exception (Pavel Stehule, Neil)
      </para>
-->
<para>
定义<literal>SQLSTATE</>和<literal>SQLERRM</>返回当前异常的
<literal>SQLSTATE</>和错误消息 (Pavel Stehule, Neil)
</para>
      <!--
<para>
       These variables are only defined inside exception blocks.
      </para>
-->
<para>
这些变量只在异常块中定义。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow the parameters to the <command>RAISE</> statement to be
       expressions (Pavel Stehule, Neil)
      </para>
-->
<para>
允许到<command>RAISE</>语句的参数为表达式 (Pavel Stehule, Neil)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add a loop <command>CONTINUE</> statement (Pavel Stehule, Neil)
      </para>
-->
<para>
添加一个循环的<command>CONTINUE</>语句 (Pavel Stehule, Neil)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow block and loop labels (Pavel Stehule)
      </para>
-->
<para>
允许块和循环标签 (Pavel Stehule)
</para>
     </listitem>

    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title>PL/Perl Server-Side Language Changes</title>
-->
<title>PL/Perl服务器端语言的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Allow large result sets to be returned efficiently (Abhijit
       Menon-Sen)
      </para>
-->
<para>
允许大的结果集有效的返回 (Abhijit Menon-Sen)
</para>
      <!--
<para>
       This allows functions to use <function>return_next()</> to avoid
       building the entire result set in memory.
      </para>
-->
<para>
这允许函数使用<function>return_next()</>来避免在内存中建立整个结果集。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow one-row-at-a-time retrieval of query results (Abhijit Menon-Sen)
      </para>
-->
<para>
允许一次一行检索查询结果 (Abhijit Menon-Sen)
</para>
      <!--
<para>
       This allows functions to use <function>spi_query()</> and
       <function>spi_fetchrow()</> to avoid accumulating the entire
       result set in memory.
      </para>
-->
<para>
这允许函数使用<function>spi_query()</>和<function>spi_fetchrow()</>
避免在内存中累加整个结果集。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Force PL/Perl to handle strings as <literal>UTF8</> if the
       server encoding is <literal>UTF8</> (David Kamholz)
      </para>
-->
<para>
如果服务器编码是<literal>UTF8</>，那么强制PL/Perl将字符串作为<literal>UTF8</>处理 (David Kamholz)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add a validator function for PL/Perl (Andrew)
      </para>
-->
<para>
为PL/Perl添加一个验证器函数 (Andrew)
</para>
      <!--
<para>
       This allows syntax errors to be reported at definition time,
       rather than execution time.
      </para>
-->
<para>
这允许语法错误在定义时被报告，而不是在执行时报告。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow PL/Perl to return a Perl array when the function returns
       an array type (Andrew)
      </para>
-->
<para>
当函数返回一个数组类型时，允许PL/Perl返回一个Perl数组 (Andrew)
</para>
      <!--
<para>
       This basically maps <productname>PostgreSQL</productname> arrays
       to Perl arrays.
      </para>
-->
<para>
这主要是映射<productname>PostgreSQL</productname>数组到Perl数组。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow Perl nonfatal warnings to generate <command>NOTICE</>
       messages (Andrew)
      </para>
-->
<para>
允许Perl非致命的警告产生<command>NOTICE</>消息 (Andrew)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow Perl's <literal>strict</> mode to be enabled (Andrew)
      </para>
-->
<para>
允许启用Perl的<literal>strict</>模式 (Andrew)
</para>
     </listitem>

    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title><application>psql</> Changes</title>
-->
<title><application>psql</>的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Add <command>\set ON_ERROR_ROLLBACK</> to allow statements in
       a transaction to error without affecting the rest of the
       transaction (Greg Sabino Mullane)
      </para>
-->
<para>
添加<command>\set ON_ERROR_ROLLBACK</>以允许事务中的语句发生错误而不影响剩余的事务 
(Greg Sabino Mullane)
</para>
      <!--
<para>
       This is basically implemented by wrapping every statement in a
       sub-transaction.
      </para>
-->
<para>
这基本上是通过包裹每个语句在一个子事务中实现的。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for <literal>\x</> hex strings in
       <application>psql</> variables (Bruce)
      </para>
-->
<para>
在<application>psql</>变量中添加对<literal>\x</>十六进制字符串的支持 (Bruce)
</para>
      <!--
<para>
       Octal escapes were already supported.
      </para>
-->
<para>
八进制转义早就支持了。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for <command>troff -ms</> output format (Roger
       Leigh)
      </para>
-->
<para>
添加对<command>troff -ms</>输出格式的支持 (Roger Leigh)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow the history file location to be controlled by
       <envar>HISTFILE</> (Andreas Seltenreich)
      </para>
-->
<para>
允许历史文件位置通过<envar>HISTFILE</>控制 (Andreas Seltenreich)
</para>
      <!--
<para>
       This allows configuration of per-database history storage.
      </para>
-->
<para>
这允许存储每个数据库历史的配置。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Prevent <command>\x</> (expanded mode) from affecting
       the output of <command>\d tablename</> (Neil)
      </para>
-->
<para>
阻止<command>\x</>（扩展模式）影响<command>\d tablename</>的输出 (Neil)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <option>-L</> option to <application>psql</application> to
       log sessions (Lorne Sunley)
      </para>
-->
<para>
添加<option>-L</>选项到<application>psql</application>以记录会话 (Lorne Sunley)
</para>
      <!--
<para>
       This option was added because some operating systems do not have
       simple command-line activity logging functionality.
      </para>
-->
<para>
添加这个选项是因为一些操作系统没有简单的命令行活动记录功能。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <command>\d</> show the tablespaces of indexes (Qingqing
       Zhou)
      </para>
-->
<para>
让<command>\d</>显示索引的表空间 (Qingqing Zhou)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <application>psql</application> help (<command>\h</>) to
       make a best guess on the proper help information (Greg Sabino
       Mullane)
      </para>
-->
<para>
允许<application>psql</application>帮助(<command>\h</>)
基于正确的帮助信息做一个更好的猜测 (Greg Sabino Mullane)
</para>
      <!--
<para>
       This allows the user to just add <command>\h</> to the front of
       the syntax error query and get help on the supported syntax.
       Previously any additional query text beyond the command name
       had to be removed to use <command>\h</>.
      </para>
-->
<para>
这允许用户仅仅添加<command>\h</>到语法错误查询的前面，获得支持的语法的帮助。
以前任何超出命令名的额外的查询文本都必须使用<command>\h</>删除。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <command>\pset numericlocale</> to allow numbers to be
       output in a locale-aware format (Eugen Nedelcu)
      </para>
-->
<para>
添加<command>\pset numericlocale</>以允许数字在识别环境的格式中输出 (Eugen Nedelcu)
</para>
      <!--
<para>
       For example, using <literal>C</> locale <literal>100000</> would
       be output as <literal>100,000.0</> while a European locale might
       output this value as <literal>100.000,0</>.
      </para>
-->
<para>
例如，使用<literal>C</>环境<literal>100000</>将被输出为<literal>100,000.0</>，
而欧洲环境可能输出这个值为<literal>100.000,0</>。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make startup banner show both server version number and
       <application>psql</>'s version number, when they are different (Bruce)
      </para>
-->
<para>
当服务器版本号和<application>psql</>的版本号不同时，让启动标语显示两者 (Bruce)
</para>
      <!--
<para>
       Also, a warning will be shown if the server and <application>psql</>
       are from different major releases.
      </para>
-->
<para>
还有，如果服务器和<application>psql</>来自不同的主版本，那么将会显示一个警告。
</para>
     </listitem>

    </itemizedlist>
   </sect3>


   <sect3>
    <!-- 
<title><application>pg_dump</> Changes</title>
-->
<title><application>pg_dump</>的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Add <option>-n</> / <option>-$#045;schema</> switch to
       <application>pg_restore</> (Richard van den Berg)
      </para>
-->
<para>
添加<option>-n</> / <option>--schema</>开关到<application>pg_restore</> (Richard van den Berg)
</para>
      <!--
<para>
       This allows just the objects in a specified schema to be restored.
      </para>
-->
<para>
这允许只恢复指定模式中的对象。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <application>pg_dump</> to dump large objects even in
       text mode (Tom)
      </para>
-->
<para>
允许<application>pg_dump</>转储大对象，即使是在文本模式中 (Tom)
</para>
      <!--
<para>
       With this change, large objects are now always dumped; the former
       <option>-b</> switch is a no-op.
      </para>
-->
<para>
有了这个变化，大对象现在总是被转储了；前者<option>-b</>开关是一个空操作。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <application>pg_dump</> to dump a consistent snapshot of
       large objects (Tom)
      </para>
-->
<para>
允许<application>pg_dump</>转储大对象的一个一致的快照 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Dump comments for large objects (Tom)
      </para>
-->
<para>
为大对象转储的评论 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <option>-$#045;encoding</> to <application>pg_dump</>
       (Magnus Hagander)
      </para>
-->
<para>
添加<option>--encoding</>到<application>pg_dump</> (Magnus Hagander)
</para>
      <!--
<para>
       This allows a database to be dumped in an encoding that is
       different from the server's encoding. This is valuable when
       transferring the dump to a machine with a different encoding.
      </para>
-->
<para>
这允许数据库以一个不同于服务器编码的编码转储。
这在传递转储到一个有不同编码的机器时是有价值的。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Rely on <structname>pg_pltemplate</> for procedural languages (Tom)
      </para>
-->
<para>
依赖<structname>pg_pltemplate</>过程语言 (Tom)
</para>
      <!--
<para>
       If the call handler for a procedural language is in the
       <literal>pg_catalog</> schema, <application>pg_dump</> does not
       dump the handler.  Instead, it dumps the language using just
       <command>CREATE LANGUAGE <replaceable>name</></command>,
       relying on the <structname>pg_pltemplate</> catalog to provide
       the language's creation parameters at load time.
      </para>
-->
<para>
如果过程语言的调用处理器在<literal>pg_catalog</>模式中，那么<application>pg_dump</>
不转储该处理器。相反的，它使用 <command>CREATE LANGUAGE <replaceable>name</></command>
转储该语言，依赖于<structname>pg_pltemplate</>目录提供语言的创建参数和加载时间。
</para>
     </listitem>

    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title><application>libpq</application> Changes</title>
-->
<title><application>libpq</application>的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Add a <envar>PGPASSFILE</> environment variable to specify the
       password file's filename (Andrew)
      </para>
-->
<para>
添加一个<envar>PGPASSFILE</>环境变量指定口令文件的文件名 (Andrew)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add <function>lo_create()</>, that is similar to
       <function>lo_creat()</> but allows the OID of the large object
       to be specified (Tom)
      </para>
-->
<para>
添加<function>lo_create()</>，类似于<function>lo_creat()</>，
但是允许指定大对象的OID (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Make <application>libpq</application> consistently return an error
       to the client application on <function>malloc()</function>
       failure (Neil)
      </para>
-->
<para>
让<application>libpq</application>在<function>malloc()</function>失败时，
一致的返回一个错误到客户端应用 (Neil)
</para>
     </listitem>
    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title>Source Code Changes</title>
-->
<title>源代码的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Fix <application>pgxs</> to support building against a relocated
       installation
      </para>
-->
<para>
修复<application>pgxs</>，以支持重定位安装的建立
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add spinlock support for the Itanium processor using Intel
       compiler (Vikram Kalsi)
      </para>
-->
<para>
为使用Intel编译器的Itanium处理器添加自旋锁支持 (Vikram Kalsi)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add Kerberos 5 support for Windows (Magnus)
      </para>
-->
<para>
为Windows添加Kerberos 5支持 (Magnus)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add Chinese FAQ (laser@pgsqldb.com)
      </para>
-->
<para>
添加了Chinese FAQ (laser@pgsqldb.com)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Rename Rendezvous to Bonjour to match OS/X feature renaming
       (Bruce)
      </para>
-->
<para>
重命名Rendezvous为Bonjour以匹配OS/X特性重命名 (Bruce)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add support for <literal>fsync_writethrough</literal> on
       Darwin (Chris Campbell)
      </para>
-->
<para>
在Darwin上添加对<literal>fsync_writethrough</literal>的支持 (Chris Campbell)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Streamline the passing of information within the server, the
       optimizer, and the lock system (Tom)
      </para>
-->
<para>
流线化信息在服务器、优化器和锁系统中的路径 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <application>pg_config</> to be compiled using MSVC (Andrew)
      </para>
-->
<para>
允许<application>pg_config</>使用MSVC编译 (Andrew)
</para>
      <!--
<para>
       This is required to build DBD::Pg using <application>MSVC</>.
      </para>
-->
<para>
这在使用<application>MSVC</>编译DBD::Pg时是需要的。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove support for Kerberos V4 (Magnus)
      </para>
-->
<para>
删除对Kerberos V4的支持 (Magnus)
</para>
      <!--
<para>
       Kerberos 4 had security vulnerabilities and is no longer
       maintained.
      </para>
-->
<para>
Kerberos 4有安全缺陷并且不再维护了。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Code cleanups (Coverity static analysis performed by
       EnterpriseDB)
      </para>
-->
<para>
代码清理（EnterpriseDB执行Coverity静态分析）
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Modify <filename>postgresql.conf</> to use documentation defaults
       <literal>on</>/<literal>off</> rather than
       <literal>true</>/<literal>false</> (Bruce)
      </para>
-->
<para>
修改<filename>postgresql.conf</>使用文档缺省<literal>on</>/<literal>off</>，
而不是<literal>true</>/<literal>false</> (Bruce)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Enhance <application>pg_config</> to be able to report more
       build-time values (Tom)
      </para>
-->
<para>
增强<application>pg_config</>，能够报告更多的构建时的值 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow <application>libpq</application> to be built thread-safe
       on Windows (Dave Page)
      </para>
-->
<para>
允许<application>libpq</application>在Windows上的建立是线程安全的 (Dave Page)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Allow IPv6 connections to be used on Windows (Andrew)
      </para>
-->
<para>
允许IPv6连接在Windows上使用 (Andrew)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Add Server Administration documentation about I/O subsystem
       reliability (Bruce)
      </para>
-->
<para>
添加关于I/O子系统可靠性的服务器管理文档 (Bruce)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Move private declarations from <filename>gist.h</filename> to
       <filename>gist_private.h</filename> (Neil)
      </para>
-->
<para>
从<filename>gist.h</filename>中移动私有的声明到<filename>gist_private.h</filename> (Neil)
</para>

      <!--
<para>
       In previous releases, <filename>gist.h</> contained both the
       public GiST API (intended for use by authors of GiST index
       implementations) as well as some private declarations used by
       the implementation of GiST itself. The latter have been moved
       to a separate file, <filename>gist_private.h</>. Most GiST
       index implementations should be unaffected.
      </para>
-->
<para>
在以前的版本中，<filename>gist.h</>包含公共的GiST API
（用来被GiST索引实现的作者使用）和一些被GiST本身的实现使用的私有声明。
后者已经被移动到一个独立的文件，<filename>gist_private.h</>。
大多数GiST索引实现应该是不受影响的。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Overhaul GiST memory management (Neil)
      </para>
-->
<para>
彻底检查GiST内存管理 (Neil)
</para>

      <!--
<para>
       GiST methods are now always invoked in a short-lived memory
       context. Therefore, memory allocated via <function>palloc()</>
       will be reclaimed automatically, so GiST index implementations
       do not need to manually release allocated memory via
       <function>pfree()</>.
      </para>
-->
<para>
GiST方法现在总是在一个短期存活的内存空间中调用。因此，通过<function>palloc()</>
的内存分配将被自动回收利用，所以GiST索引实现不需要通过<function>pfree()</>
手动释放分配的内存。
</para>
     </listitem>
    </itemizedlist>
   </sect3>


   <sect3>
    <!--
<title>Contrib Changes</title>
-->
<title>贡献版的变化</title>
    <itemizedlist>

     <listitem>
      <!--
<para>
       Add <filename>/contrib/pg_buffercache</> contrib module (Mark
       Kirkwood)
      </para>
-->
<para>
添加了<filename>/contrib/pg_buffercache</>贡献版模板 (Mark Kirkwood)
</para>
      <!--
<para>
       This displays the contents of the buffer cache, for debugging and
       performance tuning purposes.
      </para>
-->
<para>
这显示了缓冲区缓存的内容，为了调试和性能调优的目的。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove <filename>/contrib/array</> because it is obsolete (Tom)
      </para>
-->
<para>
删除了<filename>/contrib/array</>，因为它是废弃的 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Clean up the <filename>/contrib/lo</> module (Tom)
      </para>
-->
<para>
清理<filename>/contrib/lo</>模块 (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Move <filename>/contrib/findoidjoins</> to
       <filename>/src/tools</> (Tom)
      </para>
-->
<para>
移动<filename>/contrib/findoidjoins</>到<filename>/src/tools</> (Tom)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Remove the <literal>&lt;&lt;</>, <literal>&gt;&gt;</>,
       <literal>&amp;&lt;</>, and <literal>&amp;&gt;</> operators from
       <filename>/contrib/cube</>
      </para>
-->
<para>
从<filename>/contrib/cube</>中删除了<literal>&lt;&lt;</>、<literal>&gt;&gt;</>、
<literal>&amp;&lt;</>和<literal>&amp;&gt;</>操作符
</para>
      <!--
<para>
       These operators were not useful.
      </para>
-->
<para>
这些操作没什么用处。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve <filename>/contrib/btree_gist</> (Janko Richter)
      </para>
-->
<para>
改善<filename>/contrib/btree_gist</> (Janko Richter)
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve <filename>/contrib/pgbench</> (Tomoaki Sato, Tatsuo)
      </para>
-->
<para>
改善<filename>/contrib/pgbench</> (Tomoaki Sato, Tatsuo)
</para>
      <!--
<para>
       There is now a facility for testing with SQL command scripts given
       by the user, instead of only a hard-wired command sequence.
      </para>
-->
<para>
现在有一个设施测试用户给出的SQL命令脚本，而不是只有一个硬线连接的命令序列。
</para>
     </listitem>

     <listitem>
      <!--
<para>
       Improve <filename>/contrib/pgcrypto</> (Marko Kreen)
      </para>
-->
<para>
改善<filename>/contrib/pgcrypto</> (Marko Kreen)
</para>

      <itemizedlist>

       <listitem>
        <!--
<para>
         Implementation of OpenPGP symmetric-key and public-key encryption
        </para>
-->
<para>
OpenPGP对称秘钥和公共秘钥加密的实现
</para>
        <!--
<para>
         Both RSA and Elgamal public-key algorithms are supported.
        </para>
-->
<para>
RSA和Elgamal公共秘钥算法都支持。
</para>
       </listitem>

       <listitem>
        <!--
<para>
         Stand alone build: include SHA256/384/512 hashes, Fortuna PRNG
        </para>
-->
<para>
独立构建：包括SHA256/384/512 hashes, Fortuna PRNG
</para>
       </listitem>

       <listitem>
        <!--
<para>
         OpenSSL build: support 3DES, use internal AES with OpenSSL &lt; 0.9.7
        </para>
-->
<para>
OpenSSL构建:支持3DES，使用内部的AES带有OpenSSL &lt; 0.9.7
</para>
       </listitem>

       <listitem>
        <!--
<para>
         Take build parameters (OpenSSL, zlib) from <filename>configure</> result
        </para>
-->
<para>
从<filename>configure</>的结果中获取构建参数(OpenSSL, zlib)
</para>
        <!--
<para>
         There is no need to edit the <filename>Makefile</> anymore.
        </para>
-->
<para>
不再需要编辑<filename>Makefile</>。
</para>
       </listitem>

       <listitem>
        <!--
<para>
         Remove support for <filename>libmhash</> and <filename>libmcrypt</>
        </para>
-->
<para>
删除对<filename>libmhash</>和<filename>libmcrypt</>的支持
</para>
       </listitem>

      </itemizedlist>
     </listitem>

    </itemizedlist>
   </sect3>

  </sect2>
 </sect1>

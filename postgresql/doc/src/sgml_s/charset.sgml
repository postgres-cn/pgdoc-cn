<!-- doc/src/sgml/charset.sgml -->

<chapter id="charset">
<!--==========================orignal english content==========================
 <title>Localization</title>
____________________________________________________________________________-->
 <title>本地化</title>

<!--==========================orignal english content==========================
 <para>
  This chapter describes the available localization features from the
  point of view of the administrator.
  <productname>PostgreSQL</productname> supports two localization
  facilities:

   <itemizedlist>
    <listitem>
     <para>
      Using the locale features of the operating system to provide
      locale-specific collation order, number formatting, translated
      messages, and other aspects.
      This is covered in <xref linkend="locale"> and
      <xref linkend="collation">.
     </para>
    </listitem>

    <listitem>
     <para>
      Providing a number of different character sets to support storing text
      in all kinds of languages, and providing character set translation
      between client and server.
      This is covered in <xref linkend="multibyte">.
     </para>
    </listitem>
   </itemizedlist>
  </para>
____________________________________________________________________________-->
 <para>
  本章从管理员的角度描述可用的本地化特性。<productname>PostgreSQL</productname>支持两种本地化方法：

   <itemizedlist>
    <listitem>
     <para>
      利用操作系统的区域（locale）特性，提供对区域相关的排序顺序、数字格式、 翻译过的信息和其它方面。这种方法在<xref linkend="locale"/>和<xref linkend="collation"/>中。
     </para>
    </listitem>

    <listitem>
     <para>
      提供一些不同的字符集来支持存储所有种类语言的文本，并提供在客户端和服务器之间的字符集转换。这种方法在<xref linkend="multibyte"/>中。
     </para>
    </listitem>
   </itemizedlist>
  </para>


 <sect1 id="locale">
<!--==========================orignal english content==========================
  <title>Locale Support</title>
____________________________________________________________________________-->
  <title>区域支持</title>

<!--==========================orignal english content==========================
  <indexterm zone="locale"><primary>locale</></>
____________________________________________________________________________-->
  <indexterm zone="locale"><primary>locale</primary></indexterm>

<!--==========================orignal english content==========================
  <para>
   <firstterm>Locale</> support refers to an application respecting
   cultural preferences regarding alphabets, sorting, number
   formatting, etc.  <productname>PostgreSQL</> uses the standard ISO
   C and <acronym>POSIX</acronym> locale facilities provided by the server operating
   system.  For additional information refer to the documentation of your
   system.
  </para>
____________________________________________________________________________-->
  <para>
   <firstterm>区域</firstterm>支持指的是应用遵守文化偏好的问题，包括字母表、排序、数字格式等。<productname>PostgreSQL</productname>使用服务器操作系统提供的标准 ISO C 和<acronym>POSIX</acronym>的区域机制。更多的信息请参考你的系统的文档。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Overview</title>
____________________________________________________________________________-->
   <title>概述</title>

<!--==========================orignal english content==========================
   <para>
    Locale support is automatically initialized when a database
    cluster is created using <command>initdb</command>.
    <command>initdb</command> will initialize the database cluster
    with the locale setting of its execution environment by default,
    so if your system is already set to use the locale that you want
    in your database cluster then there is nothing else you need to
    do.  If you want to use a different locale (or you are not sure
    which locale your system is set to), you can instruct
    <command>initdb</command> exactly which locale to use by
    specifying the <option>-&minus;locale</option> option. For example:
<screen>
initdb -&minus;locale=sv_SE
</screen>
   </para>
____________________________________________________________________________-->
   <para>
    区域支持是在使用<command>initdb</command>创建一个数据库集簇时自动被初始化的。默认情况下，<command>initdb</command>将会按照它的执行环境的区域设置初始化数据库集簇； 因此如果你的系统已经设置为你的数据库集簇想要使用的区域， 那么你就没有什么可干的。如果你想使用其它的区域（或者你还不知道你的系统设置的区域是什么），那么你可以用<option>--locale</option>选项准确地告诉<command>initdb</command>你要用哪一个区域。 比如：
<screen>
initdb --locale=sv_SE
</screen>
   </para>

<!--==========================orignal english content==========================
   <para>
    This example for Unix systems sets the locale to Swedish
    (<literal>sv</>) as spoken
    in Sweden (<literal>SE</>).  Other possibilities might include
    <literal>en_US</> (U.S. English) and <literal>fr_CA</> (French
    Canadian).  If more than one character set can be used for a
    locale then the specifications can take the form
    <replaceable>language_territory.codeset</>.  For example,
    <literal>fr_BE.UTF-8</> represents the French language (fr) as
    spoken in Belgium (BE), with a <acronym>UTF-8</> character set
    encoding.
   </para>
____________________________________________________________________________-->
   <para>
    这个Unix系统上的例子把区域设置为瑞典（<literal>SE</literal>）瑞典语（<literal>sv</literal>）。 其他的可能性包括 <literal>en_US</literal>（美国英语）和<literal>fr_CA</literal>（加拿大法语）。如果有多于一种字符集可以用于区域，那么声明可以采用如下的形式：<replaceable>language_territory.codeset</replaceable>。例如<literal>fr_BE.UTF-8</literal>表示在比利时（BE）讲的法语（fr），使用一个<acronym>UTF-8</acronym>字符集编码。
   </para>

<!--==========================orignal english content==========================
   <para>
    What locales are available on your
    system under what names depends on what was provided by the operating
    system vendor and what was installed.  On most Unix systems, the command
    <literal>locale -a</> will provide a list of available locales.
    Windows uses more verbose locale names, such as <literal>German_Germany</>
    or <literal>Swedish_Sweden.1252</>, but the principles are the same.
   </para>
____________________________________________________________________________-->
   <para>
    在你的系统上有哪些区域可用取决于操作系统提供商提供了什么以及安装了什么。在大部分Unix系统上，命令<literal>locale -a</literal>将会提供一个所有可用区域的列表。Windows使用一些更繁琐的区域名，例如<literal>German_Germany</literal>或者<literal>Swedish_Sweden.1252</literal>，但是其原则是相同的。
   </para>

<!--==========================orignal english content==========================
   <para>
    Occasionally it is useful to mix rules from several locales, e.g.,
    use English collation rules but Spanish messages.  To support that, a
    set of locale subcategories exist that control only certain
    aspects of the localization rules:

    <informaltable>
     <tgroup cols="2">
      <tbody>
       <row>
        <entry><envar>LC_COLLATE</></>
        <entry>String sort order</>
       </row>
       <row>
        <entry><envar>LC_CTYPE</></>
        <entry>Character classification (What is a letter? Its upper-case equivalent?)</>
       </row>
       <row>
        <entry><envar>LC_MESSAGES</></>
        <entry>Language of messages</>
       </row>
       <row>
        <entry><envar>LC_MONETARY</></>
        <entry>Formatting of currency amounts</>
       </row>
       <row>
        <entry><envar>LC_NUMERIC</></>
        <entry>Formatting of numbers</>
       </row>
       <row>
        <entry><envar>LC_TIME</></>
        <entry>Formatting of dates and times</>
       </row>
      </tbody>
     </tgroup>
    </informaltable>

    The category names translate into names of
    <command>initdb</command> options to override the locale choice
    for a specific category.  For instance, to set the locale to
    French Canadian, but use U.S. rules for formatting currency, use
    <literal>initdb -&minus;locale=fr_CA -&minus;lc-monetary=en_US</literal>.
   </para>
____________________________________________________________________________-->
   <para>
    有时候，把几种区域规则混合起来也很有用，比如，使用英语排序规则而用西班牙语消息。 为了支持这些，我们有一套区域子类用于控制本地化规则的某些方面：

    <informaltable>
     <tgroup cols="2">
      <tbody>
       <row>
        <entry><envar>LC_COLLATE</envar></entry>
        <entry>字符串排序顺序</entry>
       </row>
       <row>
        <entry><envar>LC_CTYPE</envar></entry>
        <entry>字符分类（什么是一个字符？它的大写形式是否等效？）</entry>
       </row>
       <row>
        <entry><envar>LC_MESSAGES</envar></entry>
        <entry>消息使用的语言Language of messages</entry>
       </row>
       <row>
        <entry><envar>LC_MONETARY</envar></entry>
        <entry>货币数量使用的格式</entry>
       </row>
       <row>
        <entry><envar>LC_NUMERIC</envar></entry>
        <entry>数字的格式</entry>
       </row>
       <row>
        <entry><envar>LC_TIME</envar></entry>
        <entry>日期和时间的格式</entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>

    这些类名转换成<command>initdb</command>的选项名来覆盖某个特定分类的区域选择。比如，要把区域设置为加拿大法语，但使用 U.S. 规则格式化货币，可以使用<literal>initdb --locale=fr_CA --lc-monetary=en_US</literal>。
   </para>

<!--==========================orignal english content==========================
   <para>
    If you want the system to behave as if it had no locale support,
    use the special locale name <literal>C</>, or equivalently
    <literal>POSIX</>.
   </para>
____________________________________________________________________________-->
   <para>
    如果你想让系统表现得象没有区域支持，那么使用特殊的区域名<literal>C</literal>或者等效的<literal>POSIX</literal>。
   </para>

<!--==========================orignal english content==========================
   <para>
    Some locale categories must have their values
    fixed when the database is created.  You can use different settings
    for different databases, but once a database is created, you cannot
    change them for that database anymore. <literal>LC_COLLATE</literal>
    and <literal>LC_CTYPE</literal> are these categories.  They affect
    the sort order of indexes, so they must be kept fixed, or indexes on
    text columns would become corrupt.
    (But you can alleviate this restriction using collations, as discussed
    in <xref linkend="collation">.)
    The default values for these
    categories are determined when <command>initdb</command> is run, and
    those values are used when new databases are created, unless
    specified otherwise in the <command>CREATE DATABASE</command> command.
   </para>
____________________________________________________________________________-->
   <para>
    一些区域分类的值必需在数据库被创建时的就被固定。你可以为不同的数据库使用不同的设置，但是一旦一个数据库被创建，你就不能在数据库上修改这些区域分类的值。<literal>LC_COLLATE</literal>和<literal>LC_CTYPE</literal>就是这样的分类。它们影响索引的排序顺序，因此它们必需保持固定， 否则在文本列上的索引将会崩溃（但是你可以使用排序规则放松这种限制，讨论见<xref linkend="collation"/>）。这些分类的默认值在<command>initdb</command>运行时被确定，并且这些值在新数据库被创建时使用，除非在<command>CREATE DATABASE</command>命令中特别指定。
   </para>

<!--==========================orignal english content==========================
   <para>
    The other locale categories can be changed whenever desired
    by setting the server configuration parameters
    that have the same name as the locale categories (see <xref
    linkend="runtime-config-client-format"> for details).  The values
    that are chosen by <command>initdb</command> are actually only written
    into the configuration file <filename>postgresql.conf</filename> to
    serve as defaults when the server is started.  If you remove these
    assignments from <filename>postgresql.conf</filename> then the
    server will inherit the settings from its execution environment.
   </para>
____________________________________________________________________________-->
   <para>
    其它区域分类可以在任何时候被更改，更改的方式是设置与区域分类同名的服务器配置参数（详见<xref linkend="runtime-config-client-format"/>）。被<command>initdb</command>选中的值实际上只是被写入到配置文件<filename>postgresql.conf</filename>中作为服务器启动时的默认值。如果你将这些赋值从<filename>postgresql.conf</filename>中除去，那么服务器将会从其执行环境中继承该设置。
   </para>

<!--==========================orignal english content==========================
   <para>
    Note that the locale behavior of the server is determined by the
    environment variables seen by the server, not by the environment
    of any client.  Therefore, be careful to configure the correct locale settings
    before starting the server.  A consequence of this is that if
    client and server are set up in different locales, messages might
    appear in different languages depending on where they originated.
   </para>
____________________________________________________________________________-->
   <para>
    请注意服务器的区域行为是由它看到的环境变量决定的，而不是由任何客户端的环境变量影响的。 因此，我们要在启动服务器之前认真地设置好这些变量。这样带来的一种后果是如果客户端和服务器设置成不同的区域， 那么消息可能以不同的语言呈现，实际情况取决于它们的起源地。
   </para>

   <note>
<!--==========================orignal english content==========================
    <para>
     When we speak of inheriting the locale from the execution
     environment, this means the following on most operating systems:
     For a given locale category, say the collation, the following
     environment variables are consulted in this order until one is
     found to be set: <envar>LC_ALL</envar>, <envar>LC_COLLATE</envar>
     (or the variable corresponding to the respective category),
     <envar>LANG</envar>.  If none of these environment variables are
     set then the locale defaults to <literal>C</literal>.
    </para>
____________________________________________________________________________-->
    <para>
     在我们谈到从执行环境继承区域的时候，我们的意思是在大多数操作系统上的下列动作： 对于一个给定的区域分类，比如排序规则，按照下面的顺序评估这些环境变量， 直到找到一个被设置了的：<envar>LC_ALL</envar>、 <envar>LC_COLLATE</envar>（或者对应于相应分类的变量）、<envar>LANG</envar>。如果这些环境变量一个都没有被设置，那么将区域缺省设置为<literal>C</literal>。
    </para>

<!--==========================orignal english content==========================
    <para>
     Some message localization libraries also look at the environment
     variable <envar>LANGUAGE</envar> which overrides all other locale
     settings for the purpose of setting the language of messages.  If
     in doubt, please refer to the documentation of your operating
     system, in particular the documentation about
     <application>gettext</>.
    </para>
____________________________________________________________________________-->
    <para>
     一些消息本地化库也查看环境变量<envar>LANGUAGE</envar>，它覆盖所有其它用于设置消息语言的区域设置。如果有疑问， 请参考你的操作系统的文档，特别是有关<application>gettext</application>的文档。
    </para>
   </note>

<!--==========================orignal english content==========================
   <para>
    To enable messages to be translated to the user's preferred language,
    <acronym>NLS</acronym> must have been selected at build time
    (<literal>configure -&minus;enable-nls</>).  All other locale support is
    built in automatically.
   </para>
____________________________________________________________________________-->
   <para>
    要允许消息被翻译成用户喜欢的语言，编译时必需打开<acronym>NLS</acronym>（<literal>configure --enable-nls</literal>）。所有其他区域支持都会被自动编译。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Behavior</title>
____________________________________________________________________________-->
   <title>行为</title>

<!--==========================orignal english content==========================
   <para>
    The locale settings influence the following SQL features:

    <itemizedlist>
     <listitem>
      <para>
       Sort order in queries using <literal>ORDER BY</> or the standard
       comparison operators on textual data
       <indexterm><primary>ORDER BY</><secondary>and locales</></indexterm>
      </para>
     </listitem>

     <listitem>
      <para>
       The <function>upper</>, <function>lower</>, and <function>initcap</>
       functions
       <indexterm><primary>upper</><secondary>and locales</></indexterm>
       <indexterm><primary>lower</><secondary>and locales</></indexterm>
      </para>
     </listitem>

     <listitem>
      <para>
       Pattern matching operators (<literal>LIKE</>, <literal>SIMILAR TO</>,
       and POSIX-style regular expressions); locales affect both case
       insensitive matching and the classification of characters by
       character-class regular expressions
       <indexterm><primary>LIKE</><secondary>and locales</></indexterm>
       <indexterm><primary>regular expressions</><secondary>and locales</></indexterm>
      </para>
     </listitem>

     <listitem>
      <para>
       The <function>to_char</> family of functions
       <indexterm><primary>to_char</><secondary>and locales</></indexterm>
      </para>
     </listitem>

     <listitem>
      <para>
       The ability to use indexes with <literal>LIKE</> clauses
      </para>
     </listitem>
    </itemizedlist>
   </para>
____________________________________________________________________________-->
   <para>
    区域设置特别影响下面的 SQL 特性：

    <itemizedlist>
     <listitem>
      <para>
       在文本数据上使用<literal>ORDER BY</literal>或标准比较操作符的查询中的排序顺序
       <indexterm><primary>ORDER BY</primary><secondary>与区域</secondary></indexterm>
      </para>
     </listitem>

     <listitem>
      <para>
       函数<function>upper</function>、<function>lower</function>和<function>initcap</function>
       <indexterm><primary>upper</primary><secondary>与区域</secondary></indexterm>
       <indexterm><primary>lower</primary><secondary>与区域</secondary></indexterm>
      </para>
     </listitem>

     <listitem>
      <para>
       模式匹配操作符（<literal>LIKE</literal>、<literal>SIMILAR TO</literal>和POSIX风格的正则表达式）；区域影响大小写不敏感匹配和通过字符类正则表达式的字符分类
       <indexterm><primary>LIKE</primary><secondary>与区域</secondary></indexterm>
       <indexterm><primary>regular expressions</primary><secondary>与区域</secondary></indexterm>
      </para>
     </listitem>

     <listitem>
      <para>
       <function>to_char</function>函数家族
       <indexterm><primary>to_char</primary><secondary>与区域</secondary></indexterm>
      </para>
     </listitem>

     <listitem>
      <para>
       为<literal>LIKE</literal>子句使用索引的能力
      </para>
     </listitem>
    </itemizedlist>
   </para>

<!--==========================orignal english content==========================
   <para>
    The drawback of using locales other than <literal>C</> or
    <literal>POSIX</> in <productname>PostgreSQL</> is its performance
    impact. It slows character handling and prevents ordinary indexes
    from being used by <literal>LIKE</>. For this reason use locales
    only if you actually need them.
   </para>
____________________________________________________________________________-->
   <para>
    <productname>PostgreSQL</productname>中使用非<literal>C</literal>或非<literal>POSIX</literal>区域的缺点是性能影响。它降低了字符处理的速度并且阻止了在<literal>LIKE</literal>中对普通索引的使用。因此，只能在真正需要的时候才使用它。
   </para>

<!--==========================orignal english content==========================
   <para>
    As a workaround to allow <productname>PostgreSQL</> to use indexes
    with <literal>LIKE</> clauses under a non-C locale, several custom
    operator classes exist. These allow the creation of an index that
    performs a strict character-by-character comparison, ignoring
    locale comparison rules. Refer to <xref linkend="indexes-opclass">
    for more information.  Another approach is to create indexes using
    the <literal>C</> collation, as discussed in
    <xref linkend="collation">.
   </para>
____________________________________________________________________________-->
   <para>
    作为允许<productname>PostgreSQL</productname>在非 C 区域下为<literal>LIKE</literal>子句使用索引， 有好几种自定义操作符类可用。这些操作符类允许创建一个执行严格按字符比较的索引。详见<xref linkend="indexes-opclass"/>。另一种方法是创建使用<literal>C</literal>排序规则的索引，如<xref linkend="collation"/>所讨论的。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Problems</title>
____________________________________________________________________________-->
   <title>问题</title>

<!--==========================orignal english content==========================
   <para>
    If locale support doesn't work according to the explanation above,
    check that the locale support in your operating system is
    correctly configured.  To check what locales are installed on your
    system, you can use the command <literal>locale -a</literal> if
    your operating system provides it.
   </para>
____________________________________________________________________________-->
   <para>
    如果根据上面解释区域支持仍然不能运转，检查一下操作系统的区域支持是否被正确配置。 要检查系统中安装了哪些区域，你可以使用命令<literal>locale -a</literal>（如果你的操作系统提供了该命令）。
   </para>

<!--==========================orignal english content==========================
   <para>
    Check that <productname>PostgreSQL</> is actually using the locale
    that you think it is.  The <envar>LC_COLLATE</> and <envar>LC_CTYPE</>
    settings are determined when a database is created, and cannot be
    changed except by creating a new database.  Other locale
    settings including <envar>LC_MESSAGES</> and <envar>LC_MONETARY</>
    are initially determined by the environment the server is started
    in, but can be changed on-the-fly.  You can check the active locale
    settings using the <command>SHOW</> command.
   </para>
____________________________________________________________________________-->
   <para>
    请检查<productname>PostgreSQL</productname>确实正在使用你认为它该用的区域设置。<envar>LC_COLLATE</envar>和<envar>LC_CTYPE</envar>设置都是在数据库创建时决定的，并且在除了创建数据库之外的操作中都不能被更改。其它的区域设置包括<envar>LC_MESSAGES</envar>和<envar>LC_MONETARY</envar>都是由服务器启动的环境决定的， 但是可以在运行时修改。你可以用<command>SHOW</command>命令检查活跃的区域设置。
   </para>

<!--==========================orignal english content==========================
   <para>
    The directory <filename>src/test/locale</> in the source
    distribution contains a test suite for
    <productname>PostgreSQL</>'s locale support.
   </para>
____________________________________________________________________________-->
   <para>
    源代码目录的<filename>src/test/locale</filename>中包含<productname>PostgreSQL</productname>的区域支持的测试套件。
   </para>

<!--==========================orignal english content==========================
   <para>
    Client applications that handle server-side errors by parsing the
    text of the error message will obviously have problems when the
    server's messages are in a different language.  Authors of such
    applications are advised to make use of the error code scheme
    instead.
   </para>
____________________________________________________________________________-->
   <para>
    那些通过分析错误消息来处理服务器端错误的客户端应用很明显会有问题，因为服务器来的消息可能会是以不同语言表示的。 我们建议这类应用的开发人员改用错误代码机制。
   </para>

<!--==========================orignal english content==========================
   <para>
    Maintaining catalogs of message translations requires the on-going
    efforts of many volunteers that want to see
    <productname>PostgreSQL</> speak their preferred language well.
    If messages in your language are currently not available or not fully
    translated, your assistance would be appreciated.  If you want to
    help, refer to <xref linkend="nls"> or write to the developers'
    mailing list.
   </para>
____________________________________________________________________________-->
   <para>
    维护消息翻译目录需要许多志愿者的坚持不懈的努力， 他们希望<productname>PostgreSQL</productname>以他们的语言说话。 如果以你的语言表示的消息目前还不可用或者没有完全翻译完成，那么我们很感谢你的协助。如果你想帮忙，那么请参考<xref linkend="nls"/>或者向开发者邮递列表发邮件。
   </para>
  </sect2>
 </sect1>


 <sect1 id="collation">
<!--==========================orignal english content==========================
  <title>Collation Support</title>
____________________________________________________________________________-->
  <title>排序规则支持</title>

<!--==========================orignal english content==========================
  <indexterm zone="collation"><primary>collation</></>
____________________________________________________________________________-->
  <indexterm zone="collation"><primary>排序规则</primary></indexterm>

<!--==========================orignal english content==========================
  <para>
   The collation feature allows specifying the sort order and character
   classification behavior of data per-column, or even per-operation.
   This alleviates the restriction that the
   <symbol>LC_COLLATE</symbol> and <symbol>LC_CTYPE</symbol> settings
   of a database cannot be changed after its creation.
  </para>
____________________________________________________________________________-->
  <para>
   排序规则特性允许指定每一列甚至每一个操作的数据的排序顺序和字符分类行为。这放松了数据库的<symbol>LC_COLLATE</symbol>和<symbol>LC_CTYPE</symbol>设置自创建以后就不能更改这一限制。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Concepts</title>
____________________________________________________________________________-->
   <title>概念</title>

<!--==========================orignal english content==========================
   <para>
    Conceptually, every expression of a collatable data type has a
    collation.  (The built-in collatable data types are
    <type>text</type>, <type>varchar</type>, and <type>char</type>.
    User-defined base types can also be marked collatable, and of course
    a domain over a collatable data type is collatable.)  If the
    expression is a column reference, the collation of the expression is the
    defined collation of the column.  If the expression is a constant, the
    collation is the default collation of the data type of the
    constant.  The collation of a more complex expression is derived
    from the collations of its inputs, as described below.
   </para>
____________________________________________________________________________-->
   <para>
    在概念上，一种可排序数据类型的每一种表达式都有一个排序规则（内建的可排序数据类型是<type>text</type>、<type>varchar</type>和<type>char</type>。用户定义的基础类型也可以被标记为可排序的，并且在一种可排序数据类型上的域也是可排序的）。如果该表达式是一个列引用，该表达式的排序规则就是列所定义的排序规则。如果该表达式是一个常量，排序规则就是该常量数据类型的默认排序规则。更复杂表达式的排序规则根据其输入的排序规则得来，如下所述：
   </para>

<!--==========================orignal english content==========================
   <para>
    The collation of an expression can be the <quote>default</quote>
    collation, which means the locale settings defined for the
    database.  It is also possible for an expression's collation to be
    indeterminate.  In such cases, ordering operations and other
    operations that need to know the collation will fail.
   </para>
____________________________________________________________________________-->
   <para>
    一个表达式的排序规则可以是<quote>默认</quote>排序规则，它表示数据库的区域设置。一个表达式的排序规则也可能是不确定的。在这种情况下，排序操作和其他需要知道排序规则的操作会失败。
   </para>

<!--==========================orignal english content==========================
   <para>
    When the database system has to perform an ordering or a character
    classification, it uses the collation of the input expression.  This
    happens, for example, with <literal>ORDER BY</literal> clauses
    and function or operator calls such as <literal>&lt;</literal>.
    The collation to apply for an <literal>ORDER BY</literal> clause
    is simply the collation of the sort key.  The collation to apply for a
    function or operator call is derived from the arguments, as described
    below.  In addition to comparison operators, collations are taken into
    account by functions that convert between lower and upper case
    letters, such as <function>lower</>, <function>upper</>, and
    <function>initcap</>; by pattern matching operators; and by
    <function>to_char</> and related functions.
   </para>
____________________________________________________________________________-->
   <para>
    当数据库系统必须要执行一次排序或者字符分类时，它使用输入表达式的排序规则。这会在使用例如<literal>ORDER BY</literal>子句以及函数或操作符调用（如<literal>&lt;</literal>）时发生。应用于<literal>ORDER BY</literal>子句的排序规则就是排序键的排序规则。应用于函数或操作符调用的排序规则从它们的参数得来，具体如下文所述。除比较操作符之外，在大小写字母之间转换的函数会考虑排序规则，例如<function>lower</function>、<function>upper</function>和<function>initcap</function>。模式匹配操作符和<function>to_char</function>及相关函数也会考虑排序规则。
   </para>

<!--==========================orignal english content==========================
   <para>
    For a function or operator call, the collation that is derived by
    examining the argument collations is used at run time for performing
    the specified operation.  If the result of the function or operator
    call is of a collatable data type, the collation is also used at parse
    time as the defined collation of the function or operator expression,
    in case there is a surrounding expression that requires knowledge of
    its collation.
   </para>
____________________________________________________________________________-->
   <para>
    对于一个函数或操作符调用，其排序规则通过检查在执行指定操作时参数的排序规则来获得。如果该函数或操作符调用的结果是一种可排序的数据类型，万一有外围表达式要求函数或操作符表达式的排序规则，在解析时结果的排序规则也会被用作函数或操作符表达式的排序规则。
   </para>

<!--==========================orignal english content==========================
   <para>
    The <firstterm>collation derivation</firstterm> of an expression can be
    implicit or explicit.  This distinction affects how collations are
    combined when multiple different collations appear in an
    expression.  An explicit collation derivation occurs when a
    <literal>COLLATE</literal> clause is used; all other collation
    derivations are implicit.  When multiple collations need to be
    combined, for example in a function call, the following rules are
    used:

    <orderedlist>
     <listitem>
      <para>
       If any input expression has an explicit collation derivation, then
       all explicitly derived collations among the input expressions must be
       the same, otherwise an error is raised.  If any explicitly
       derived collation is present, that is the result of the
       collation combination.
      </para>
     </listitem>

     <listitem>
      <para>
       Otherwise, all input expressions must have the same implicit
       collation derivation or the default collation.  If any non-default
       collation is present, that is the result of the collation combination.
       Otherwise, the result is the default collation.
      </para>
     </listitem>

     <listitem>
      <para>
       If there are conflicting non-default implicit collations among the
       input expressions, then the combination is deemed to have indeterminate
       collation.  This is not an error condition unless the particular
       function being invoked requires knowledge of the collation it should
       apply.  If it does, an error will be raised at run-time.
      </para>
     </listitem>
    </orderedlist>

    For example, consider this table definition:
<programlisting>
CREATE TABLE test1 (
    a text COLLATE "de_DE",
    b text COLLATE "es_ES",
    ...
);
</programlisting>

    Then in
<programlisting>
SELECT a &lt; 'foo' FROM test1;
</programlisting>
    the <literal>&lt;</literal> comparison is performed according to
    <literal>de_DE</literal> rules, because the expression combines an
    implicitly derived collation with the default collation.  But in
<programlisting>
SELECT a &lt; ('foo' COLLATE "fr_FR") FROM test1;
</programlisting>
    the comparison is performed using <literal>fr_FR</literal> rules,
    because the explicit collation derivation overrides the implicit one.
    Furthermore, given
<programlisting>
SELECT a &lt; b FROM test1;
</programlisting>
    the parser cannot determine which collation to apply, since the
    <structfield>a</> and <structfield>b</> columns have conflicting
    implicit collations.  Since the <literal>&lt;</literal> operator
    does need to know which collation to use, this will result in an
    error.  The error can be resolved by attaching an explicit collation
    specifier to either input expression, thus:
<programlisting>
SELECT a &lt; b COLLATE "de_DE" FROM test1;
</programlisting>
    or equivalently
<programlisting>
SELECT a COLLATE "de_DE" &lt; b FROM test1;
</programlisting>
    On the other hand, the structurally similar case
<programlisting>
SELECT a || b FROM test1;
</programlisting>
    does not result in an error, because the <literal>||</> operator
    does not care about collations: its result is the same regardless
    of the collation.
   </para>
____________________________________________________________________________-->
   <para>
    一个表达式的<firstterm>排序规则派生</firstterm>可以是显式或隐式。该区别会影响多个不同的排序规则出现在同一个表达式中时如何组合它们。当使用一个<literal>COLLATE</literal>子句时，将发生显式排序规则派生。所有其他排序规则派生都是隐式的。当多个排序规则需要被组合时（例如在一个函数调用中），将使用下面的规则：

    <orderedlist>
     <listitem>
      <para>
       如果任何一个输入表达式具有一个显式排序规则派生，则在输入表达式之间的所有显式派生的排序规则必须相同，否则将产生一个错误。如果任何一个显式派生的排序规则存在，它就是排序规则组合的结果。
      </para>
     </listitem>

     <listitem>
      <para>
       否则，所有输入表达式必须具有相同的隐式排序规则派生或默认排序规则。如果任何一个非默认排序规则存在，它就是排序规则组合的结果。否则，结果是默认排序规则。
      </para>
     </listitem>

     <listitem>
      <para>
       如果在输入表达式之间存在冲突的非默认隐式排序规则，则组合被认为是具有不确定排序规则。这并非一种错误情况，除非被调用的特定函数要求提供排序规则的知识。如果它确实这样做，运行时将发生一个错误。
      </para>
     </listitem>
    </orderedlist>

    例如，考虑这个表定义：
<programlisting>
CREATE TABLE test1 (
    a text COLLATE "de_DE",
    b text COLLATE "es_ES",
    ...
);
</programlisting>

    然后在
<programlisting>
SELECT a &lt; 'foo' FROM test1;
</programlisting>
    中，<literal>&lt;</literal>比较被根据<literal>de_DE</literal>规则执行，因为表达式组合了一个隐式派生的排序规则和默认排序规则。但是在
<programlisting>
SELECT a &lt; ('foo' COLLATE "fr_FR") FROM test1;
</programlisting>
    中，比较被使用<literal>fr_FR</literal>规则执行，因为显式排序规则派生重载了隐式排序规则。更进一步，给定
<programlisting>
SELECT a &lt; b FROM test1;
</programlisting>
    解析器不能确定要应用哪个排序规则，因为<structfield>a</structfield>列和<structfield>b</structfield>列具有冲突的隐式排序规则。由于<literal>&lt;</literal>操作符不需要知道到底使用哪一个排序规则，这将会导致一个错误。该错误可以通过在一个输入表达式上附加一个显式排序规则说明符来解决，因此：
<programlisting>
SELECT a &lt; b COLLATE "de_DE" FROM test1;
</programlisting>
    或者等效的
<programlisting>
SELECT a COLLATE "de_DE" &lt; b FROM test1;
</programlisting>
    在另一方面，结构相似的情况
<programlisting>
SELECT a || b FROM test1;
</programlisting>
    不会导致一个错误，因为<literal>||</literal>操作符不关心排序规则：不管排序规则怎样它的结果都相同。
   </para>

<!--==========================orignal english content==========================
   <para>
    The collation assigned to a function or operator's combined input
    expressions is also considered to apply to the function or operator's
    result, if the function or operator delivers a result of a collatable
    data type.  So, in
<programlisting>
SELECT * FROM test1 ORDER BY a || 'foo';
</programlisting>
    the ordering will be done according to <literal>de_DE</literal> rules.
    But this query:
<programlisting>
SELECT * FROM test1 ORDER BY a || b;
</programlisting>
    results in an error, because even though the <literal>||</> operator
    doesn't need to know a collation, the <literal>ORDER BY</> clause does.
    As before, the conflict can be resolved with an explicit collation
    specifier:
<programlisting>
SELECT * FROM test1 ORDER BY a || b COLLATE "fr_FR";
</programlisting>
   </para>
____________________________________________________________________________-->
   <para>
    如果一个函数或操作符发送一个具有可排序数据类型的结果，分配给该函数或操作符的组合输入表达式的排序规则也被考虑应用在函数或操作符的结果。因此，在
<programlisting>
SELECT * FROM test1 ORDER BY a || 'foo';
</programlisting>
    中排序将根据<literal>de_DE</literal>规则完成。但这个查询：
<programlisting>
SELECT * FROM test1 ORDER BY a || b;
</programlisting>
    会导致一个错误，因为即使<literal>||</literal>操作符不需要知道排序规则，但<literal>ORDER BY</literal>子句需要。按照以前，冲突可以通过使用一个显式排序规则说明符来解决：
<programlisting>
SELECT * FROM test1 ORDER BY a || b COLLATE "fr_FR";
</programlisting>
   </para>
  </sect2>

  <sect2 id="collation-managing">
<!--==========================orignal english content==========================
   <title>Managing Collations</title>
____________________________________________________________________________-->
   <title>管理排序规则</title>

<!--==========================orignal english content==========================
   <para>
    A collation is an SQL schema object that maps an SQL name to locales
    provided by libraries installed in the operating system.  A collation
    definition has a <firstterm>provider</firstterm> that specifies which
    library supplies the locale data.  One standard provider name
    is <literal>libc</literal>, which uses the locales provided by the
    operating system C library.  These are the locales that most tools
    provided by the operating system use.  Another provider
    is <literal>icu</literal>, which uses the external
    ICU<indexterm><primary>ICU</></> library.  ICU locales can only be
    used if support for ICU was configured when PostgreSQL was built.
   </para>
____________________________________________________________________________-->
   <para>
    排序规则是SQL模式对象，它将SQL名称映射到操作系统中安装的库提供的语言环境。
	排序规则定义中有一个<firstterm>提供程序</firstterm>，
	它指定哪个库提供语言环境数据。一个标准的提供者名称是<literal>libc</literal>，
	它使用操作系统C库提供的语言环境。这些是操作系统提供的大多数工具使用的语言环境。
	另一个提供者是<literal>icu</literal>，它使用外部ICU<indexterm><primary>ICU</primary></indexterm>库。
	只有在构建PostgreSQL时配置了对ICU的支持，才能使用ICU区域设置。
   </para>

<!--==========================orignal english content==========================
   <para>
    A collation object provided by <literal>libc</literal> maps to a
    combination of <symbol>LC_COLLATE</symbol> and <symbol>LC_CTYPE</symbol>
    settings, as accepted by the <literal>setlocale()</literal> system library call.  (As
    the name would suggest, the main purpose of a collation is to set
    <symbol>LC_COLLATE</symbol>, which controls the sort order.  But
    it is rarely necessary in practice to have an
    <symbol>LC_CTYPE</symbol> setting that is different from
    <symbol>LC_COLLATE</symbol>, so it is more convenient to collect
    these under one concept than to create another infrastructure for
    setting <symbol>LC_CTYPE</symbol> per expression.)  Also,
    a <literal>libc</literal> collation
    is tied to a character set encoding (see <xref linkend="multibyte">).
    The same collation name may exist for different encodings.
   </para>
____________________________________________________________________________-->
   <para>
    <literal>libc</literal>提供的一个排序规则对象映射到<symbol>LC_COLLATE</symbol>
	和<symbol>LC_CTYPE</symbol>设置的组合，
	如<literal>setlocale()</literal>系统库调用所接受的。
	（正如其名字所说的，一个排序规则的主要目的是设置<symbol>LC_COLLATE</symbol>，
	它控制排序顺序。但是在实际中<symbol>LC_CTYPE</symbol>设置与<symbol>LC_COLLATE</symbol>
	不同是很少有必要的，因此通过一个概念来收集这些信息比为了设置每一个表达式的
	<symbol>LC_CTYPE</symbol>而创建另一种架构要更加方便）。此外，
	一个<literal>libc</literal>排序规则是和一个字符集编码（见<xref linkend="multibyte"/>）
	绑定在一起的。相同的排序规则名字可能存在于不同的编码中。
   </para>


<!--==========================orignal english content==========================
   <para>
    A collation object provided by <literal>icu</literal> maps to a named
    collator provided by the ICU library.  ICU does not support
    separate <quote>collate</quote> and <quote>ctype</quote> settings, so
    they are always the same.  Also, ICU collations are independent of the
    encoding, so there is always only one ICU collation of a given name in
    a database.
   </para>
____________________________________________________________________________-->
   <para>
    由<literal>icu</literal>提供的排序规则对象映射到由ICU库提供的指定整理器。
	ICU不支持单独的<quote>collate</quote>和<quote>ctype</quote>设置，
	所以它们总是相同的。此外，ICU排序规则与编码无关，
	因此在数据库中总是只有一个给定名称的ICU排序规则。
   </para>

   <sect3>
<!--==========================orignal english content==========================
    <title>Standard Collations</title>
____________________________________________________________________________-->
    <title>标准的排序规则</title>

<!--==========================orignal english content==========================
   <para>
    On all platforms, the collations named <literal>default</>,
    <literal>C</>, and <literal>POSIX</> are available.  Additional
    collations may be available depending on operating system support.
    The <literal>default</> collation selects the <symbol>LC_COLLATE</symbol>
    and <symbol>LC_CTYPE</symbol> values specified at database creation time.
    The <literal>C</> and <literal>POSIX</> collations both specify
    <quote>traditional C</> behavior, in which only the ASCII letters
    <quote><literal>A</></quote> through <quote><literal>Z</></quote>
    are treated as letters, and sorting is done strictly by character
    code byte values.
   </para>
____________________________________________________________________________-->
   <para>
    在所有的平台上，名为<literal>default</literal>、<literal>C</literal>和<literal>POSIX</literal>的排序规则都可用。附加的排序规则是否可用取决于操作系统的支持。<literal>default</literal>排序规则选择在数据库创建时指定的<symbol>LC_COLLATE</symbol>和<symbol>LC_CTYPE</symbol>值。<literal>C</literal>和<literal>POSIX</literal>排序规则都指定了<quote>传统的C</quote>行为，在其中只有ASCII字母<quote><literal>A</literal></quote>到<quote><literal>Z</literal></quote>被视为字母，并且排序严格地按照字符编码的字节值完成。
   </para>

<!--==========================orignal english content==========================
   <para>
    Additionally, the SQL standard collation name <literal>ucs_basic</literal>
    is available for encoding <literal>UTF8</literal>.  It is equivalent
    to <literal>C</literal> and sorts by Unicode code point.
   </para>
____________________________________________________________________________-->
   <para>
    此外，SQL标准排序规则名称<literal>ucs_basic</literal>可用于编码<literal>UTF8</literal>。
	它相当于<literal>C</literal>，并按Unicode代码点排序。
   </para>
  </sect3>

  <sect3>
<!--==========================orignal english content==========================
   <title>Predefined Collations</title>
____________________________________________________________________________-->
   <title>预定义的排序规则</title>
<!--==========================orignal english content==========================
   <para>
    If the operating system provides support for using multiple locales
    within a single program (<function>newlocale</> and related functions),
    or if support for ICU is configured,
    then when a database cluster is initialized, <command>initdb</command>
    populates the system catalog <literal>pg_collation</literal> with
    collations based on all the locales it finds in the operating
    system at the time.
   </para>
____________________________________________________________________________-->
   <para>
    如果操作系统支持在一个程序中使用多个区域（<function>newlocale</function>和相关函数），
	或者配置了ICU支持，那么在一个数据集簇被初始化时，<command>initdb</command>
	将以它在操作系统中能找到的所有区域为基础在系统目录<literal>pg_collation</literal>
	中填充排序规则。
	</para>

<!--==========================orignal english content==========================
   <para>
    To inspect the currently available locales, use the query <literal>SELECT
    * FROM pg_collation</literal>, or the command <command>\dOS+</command>
    in <application>psql</application>.
   </para>
____________________________________________________________________________-->
   <para>
    要检查当前可用的语言环境，请在<application>psql</application>中使用查询
	<literal>SELECT * FROM pg_collation</literal>或命令<command>\dOS +</command>。
   </para>

  <sect4>
<!--==========================orignal english content==========================
   <title>libc collations</title>
____________________________________________________________________________-->
   <title>libc 排序规则</title>

<!--==========================orignal english content==========================
   <para>
    For example, the operating system might
    provide a locale named <literal>de_DE.utf8</literal>.
    <command>initdb</command> would then create a collation named
    <literal>de_DE.utf8</literal> for encoding <literal>UTF8</literal>
    that has both <symbol>LC_COLLATE</symbol> and
    <symbol>LC_CTYPE</symbol> set to <literal>de_DE.utf8</literal>.
    It will also create a collation with the <literal>.utf8</literal>
    tag stripped off the name.  So you could also use the collation
    under the name <literal>de_DE</literal>, which is less cumbersome
    to write and makes the name less encoding-dependent.  Note that,
    nevertheless, the initial set of collation names is
    platform-dependent.
   </para>
____________________________________________________________________________-->
   <para>
    例如，操作系统可能会提供一个名为<literal>de_DE.utf8</literal>的区域。<command>initdb</command>则会创建一个用于编码<literal>UTF8</literal>的名为<literal>de_DE.utf8</literal>的排序规则，在其中<symbol>LC_COLLATE</symbol>和<symbol>LC_CTYPE</symbol>都被设置为<literal>de_DE.utf8</literal>。它也会创建一个具有去掉名称的<literal>.utf8</literal>标签的排序规则。这样你也可以使用名字<literal>de_DE</literal>来使用该排序规则，这写起来更简单并且使得名字更加独立于编码。不过要注意，最初的排序规则名称的集合是平台依赖的。
   </para>
<!--==========================orignal english content==========================
   <para>
    The default set of collations provided by <literal>libc</literal> map
    directly to the locales installed in the operating system, which can be
    listed using the command <literal>locale -a</literal>.  In case
    a <literal>libc</literal> collation is needed that has different values
    for <symbol>LC_COLLATE</symbol> and <symbol>LC_CTYPE</symbol>, or if new
    locales are installed in the operating system after the database system
    was initialized, then a new collation may be created using
    the <xref linkend="sql-createcollation"> command.
    New operating system locales can also be imported en masse using
    the <link linkend="functions-admin-collation"><function>pg_import_system_collations()</function></link> function.
   </para>
____________________________________________________________________________-->
   <para>
    由<literal>libc</literal>提供的默认排序规则直接映射到操作系统中安装的语言环境，
	可以使用命令<literal>locale -a</literal>列出。如果所需的<literal>libc</literal>
	排序规则与<symbol>LC_COLLATE</symbol>和<symbol>LC_CTYPE</symbol>的值不同，
	或者在数据库系统初始化之后，
	操作系统中安装了新的语言环境，可以使用<xref linkend="sql-createcollation"/>
	命令创建新的排序规则。新的操作系统语言环境也可以使用
	<link linkend="functions-admin-collation"><function>pg_import_system_collations()</function></link>
	函数集中导入。
   </para>

<!--==========================orignal english content==========================
   <para>
    Within any particular database, only collations that use that
    database's encoding are of interest.  Other entries in
    <literal>pg_collation</literal> are ignored.  Thus, a stripped collation
    name such as <literal>de_DE</literal> can be considered unique
    within a given database even though it would not be unique globally.
    Use of the stripped collation names is recommended, since it will
    make one less thing you need to change if you decide to change to
    another database encoding.  Note however that the <literal>default</>,
    <literal>C</>, and <literal>POSIX</> collations can be used regardless of
    the database encoding.
   </para>
____________________________________________________________________________-->
   <para>
    在任何特定的数据库中，只有使用数据库编码的排序规则是令人感兴趣的。其他<literal>pg_collation</literal>中的项会被忽略。因此，一个如<literal>de_DE</literal>的被剥离的排序规则名在一个给定数据库中可以被认为是唯一的，即使它在全局上并不唯一。我们推荐使用被剥离的排序规则名，因为在你决定要更改到另一个数据库编码时需要做的事情更少。但是要注意<literal>default</literal>、<literal>C</literal>和<literal>POSIX</literal>排序规则在使用时可以不考虑数据库编码。
   </para>

<!--==========================orignal english content==========================
   <para>
    <productname>PostgreSQL</productname> considers distinct collation
    objects to be incompatible even when they have identical properties.
    Thus for example,
<programlisting>
SELECT a COLLATE "C" &lt; b COLLATE "POSIX" FROM test1;
</programlisting>
    will draw an error even though the <literal>C</> and <literal>POSIX</>
    collations have identical behaviors.  Mixing stripped and non-stripped
    collation names is therefore not recommended.
   </para>
____________________________________________________________________________-->
   <para>
    <productname>PostgreSQL</productname>在碰到具有相同属性的不同排序规则对象时会认为它们是不兼容的。因此对于例子：
<programlisting>
SELECT a COLLATE "C" &lt; b COLLATE "POSIX" FROM test1;
</programlisting>
    将会得到一个错误，即使<literal>C</literal>和<literal>POSIX</literal>排序规则具有相同的行为。因此，我们不推荐混合使用被剥离的和非被剥离的排序规则名。
   </para>
  </sect4>

  <sect4>
<!--==========================orignal english content==========================
   <title>ICU collations</title>
____________________________________________________________________________-->
   <title>ICU 排序规则</title>

<!--==========================orignal english content==========================
   <para>
    With ICU, it is not sensible to enumerate all possible locale names.  ICU
    uses a particular naming system for locales, but there are many more ways
    to name a locale than there are actually distinct locales.
    <command>initdb</command> uses the ICU APIs to extract a set of distinct
    locales to populate the initial set of collations.  Collations provided by
    ICU are created in the SQL environment with names in BCP 47 language tag
    format, with a <quote>private use</quote>
    extension <literal>-x-icu</literal> appended, to distinguish them from
    libc locales.
   </para>
____________________________________________________________________________-->
   <para>
    对于ICU，枚举所有可能的语言环境名称并不明智。
	ICU为语言环境使用特定的命名系统，但命名语言环境的方法多于实际上不同的语言环境。
	<command>initdb</command>使用ICU API提取一组不同的语言环境以填充初始排序规则集合。
	由ICU提供的排序规则是在SQL环境中创建的，名称采用BCP 47语言标记格式，
	并附有一个<quote>专用</quote>扩展名<literal>-x-icu</literal>，
	以将它们与libc语言环境区分开来。
   </para>

<!--==========================orignal english content==========================
   <para>
    Here are some example collations that might be created:

    <variablelist>
     <varlistentry>
      <term><literal>de-x-icu</literal></term>
      <listitem>
       <para>German collation, default variant</para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>de-AT-x-icu</literal></term>
      <listitem>
       <para>German collation for Austria, default variant</para>
       <para>
        (There are also, say, <literal>de-DE-x-icu</literal>
        or <literal>de-CH-x-icu</literal>, but as of this writing, they are
        equivalent to <literal>de-x-icu</literal>.)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>und-x-icu</literal> (for <quote>undefined</quote>)</term>
      <listitem>
       <para>
        ICU <quote>root</quote> collation.  Use this to get a reasonable
        language-agnostic sort order.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>
____________________________________________________________________________-->
   <para>
    以下是可能创建的一些排序规则的示例：

    <variablelist>
     <varlistentry>
      <term><literal>de-x-icu</literal></term>
      <listitem>
       <para>德语排序规则，默认变体</para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>de-AT-x-icu</literal></term>
      <listitem>
       <para>奥地利的德语排序规则，默认变体</para>
       <para>
        (也就是说<literal>de-DE-x-icu</literal>
        或<literal>de-CH-x-icu</literal>，但是这种写法，相当于
        <literal>de-x-icu</literal>。)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>und-x-icu</literal> (for <quote>undefined</quote>)</term>
      <listitem>
       <para>
        ICU <quote>root</quote> 排序规则。
		使用它获取合理的语言无关的排序顺序
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>

<!--==========================orignal english content==========================
   <para>
    Some (less frequently used) encodings are not supported by ICU.  When the
    database encoding is one of these, ICU collation entries
    in <literal>pg_collation</literal> are ignored.  Attempting to use one
    will draw an error along the lines of <quote>collation "de-x-icu" for
    encoding "WIN874" does not exist</>.
   </para>
____________________________________________________________________________-->
   <para>
    一些（不常用的）编码不受ICU支持。当数据库编码是其中之一时，
	忽略<literal>pg_collation</literal>中的ICU排序规则项。
	试图使用其中一个将会抛出一个类似<quote>collation "de-x-icu" for
    encoding "WIN874" does not exist</quote>的错误。
   </para>
  </sect4>
  </sect3>

  <sect3 id="collation-create">
<!--==========================orignal english content==========================
   <title>Creating New Collation Objects</title>
____________________________________________________________________________-->
   <title>创建新的排序规则对象</title>

<!--==========================orignal english content==========================
   <para>
    If the standard and predefined collations are not sufficient, users can
    create their own collation objects using the SQL
    command <xref linkend="sql-createcollation">.
   </para>
____________________________________________________________________________-->
   <para>
    如果标准和预定义的排序规则不够用，用户可以使用SQL命令
	<xref linkend="sql-createcollation"/>创建自己的排序规则对象。
   </para>

<!--==========================orignal english content==========================
   <para>
    The standard and predefined collations are in the
    schema <literal>pg_catalog</literal>, like all predefined objects.
    User-defined collations should be created in user schemas.  This also
    ensures that they are saved by <command>pg_dump</command>.
   </para>
____________________________________________________________________________-->
   <para>
    与所有预定于的对象一样，标准和预定义的排序规则在模式
	<literal>pg_catalog</literal>中。用户定义的排序规则应该在用户模式中创建。
	这也确保它们由<command>pg_dump</command>保存。
   </para>

   <sect4>
<!--==========================orignal english content==========================
    <title>libc collations</title>
____________________________________________________________________________-->
    <title>libc 排序规则</title>

<!--==========================orignal english content==========================
    <para>
     New libc collations can be created like this:
<programlisting>
CREATE COLLATION german (provider = libc, locale = 'de_DE');
</programlisting>
     The exact values that are acceptable for the <literal>locale</literal>
     clause in this command depend on the operating system.  On Unix-like
     systems, the command <literal>locale -a</literal> will show a list.
    </para>
____________________________________________________________________________-->
    <para>
     可以像这样创建新的libc排序规则：
<programlisting>
CREATE COLLATION german (provider = libc, locale = 'de_DE');
</programlisting>
     该命令中<literal>locale</literal>子句可接受的确切值取决于操作系统。
	 在类Unix系统上，命令<literal>locale -a</literal>将显示一个列表。
    </para>

<!--==========================orignal english content==========================
    <para>
     Since the predefined libc collations already include all collations
     defined in the operating system when the database instance is
     initialized, it is not often necessary to manually create new ones.
     Reasons might be if a different naming system is desired (in which case
     see also <xref linkend="collation-copy">) or if the operating system has
     been upgraded to provide new locale definitions (in which case see
     also <link linkend="functions-admin-collation"><function>pg_import_system_collations()</function></link>).
    </para>
____________________________________________________________________________-->
    <para>
     由于预定义的libc排序规则已经包含了数据库实例初始化时在操作系统中定义的所有排序规则，
	 因此通常不需要手动创建新排序规则。如果需要不同的命名系统（在这种情况下，
	 另请参阅<xref linkend="collation-copy"/>），
	 或者操作系统已经升级以提供新的区域设置定义（在这种情况下，
	 另请参阅<link linkend="functions-admin-collation"><function>pg_import_system_collations()</function></link>），
	 可能需要手动创建。
    </para>
   </sect4>

   <sect4>
<!--==========================orignal english content==========================
    <title>ICU collations</title>
____________________________________________________________________________-->
    <title>ICU 排序规则</title>

<!--==========================orignal english content==========================
   <para>
    ICU allows collations to be customized beyond the basic language+country
    set that is preloaded by <command>initdb</command>.  Users are encouraged
    to define their own collation objects that make use of these facilities to
    suit the sorting behavior to their requirements.
    See <ulink url="http://userguide.icu-project.org/locale"></ulink>
    and <ulink url="http://userguide.icu-project.org/collation/api"></ulink> for
    information on ICU locale naming.  The set of acceptable names and
    attributes depends on the particular ICU version.
   </para>
____________________________________________________________________________-->
   <para>
    ICU允许自定义超出由<command>initdb</command>
	预加载的基本语言+国家/地区集的排序规则。鼓励用户定义他们自己的排序规则对象，
	利用这些条件来满足他们排序行为的需求。请参阅
	<ulink url="http://userguide.icu-project.org/locale"></ulink>和
	<ulink url="http://userguide.icu-project.org/collation/api"></ulink>
	获取有关ICU区域设置命名的信息。可接受的名称和属性集取决于特定的ICU版本。
   </para>

<!--==========================orignal english content==========================
   <para>
    Here are some examples:

    <variablelist>
     <varlistentry>
      <term><literal>CREATE COLLATION "de-u-co-phonebk-x-icu" (provider = icu, locale = 'de-u-co-phonebk');</literal></term>
      <term><literal>CREATE COLLATION "de-u-co-phonebk-x-icu" (provider = icu, locale = 'de@collation=phonebook');</literal></term>
      <listitem>
       <para>German collation with phone book collation type</para>
       <para>
        The first example selects the ICU locale using a <quote>language
        tag</quote> per BCP 47.  The second example uses the traditional
        ICU-specific locale syntax.  The first style is preferred going
        forward, but it is not supported by older ICU versions.
       </para>
       <para>
        Note that you can name the collation objects in the SQL environment
        anything you want.  In this example, we follow the naming style that
        the predefined collations use, which in turn also follow BCP 47, but
        that is not required for user-defined collations.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION "und-u-co-emoji-x-icu" (provider = icu, locale = 'und-u-co-emoji');</literal></term>
      <term><literal>CREATE COLLATION "und-u-co-emoji-x-icu" (provider = icu, locale = '@collation=emoji');</literal></term>
      <listitem>
       <para>
        Root collation with Emoji collation type, per Unicode Technical Standard #51
       </para>
       <para>
        Observe how in the traditional ICU locale naming system, the root
        locale is selected by an empty string.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION digitslast (provider = icu, locale = 'en-u-kr-latn-digit');</literal></term>
      <term><literal>CREATE COLLATION digitslast (provider = icu, locale = 'en@colReorder=latn-digit');</literal></term>
      <listitem>
       <para>
        Sort digits after Latin letters.  (The default is digits before letters.)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION upperfirst (provider = icu, locale = 'en-u-kf-upper');</literal></term>
      <term><literal>CREATE COLLATION upperfirst (provider = icu, locale = 'en@colCaseFirst=upper');</literal></term>
      <listitem>
       <para>
        Sort upper-case letters before lower-case letters.  (The default is
        lower-case letters first.)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION special (provider = icu, locale = 'en-u-kf-upper-kr-latn-digit');</literal></term>
      <term><literal>CREATE COLLATION special (provider = icu, locale = 'en@colCaseFirst=upper;colReorder=latn-digit');</literal></term>
      <listitem>
       <para>
        Combines both of the above options.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION numeric (provider = icu, locale = 'en-u-kn-true');</literal></term>
      <term><literal>CREATE COLLATION numeric (provider = icu, locale = 'en@colNumeric=yes');</literal></term>
      <listitem>
       <para>
        Numeric ordering, sorts sequences of digits by their numeric value,
        for example: <literal>A-21</literal> &lt; <literal>A-123</literal>
        (also known as natural sort).
       </para>
      </listitem>
     </varlistentry>
    </variablelist>

    See <ulink url="http://unicode.org/reports/tr35/tr35-collation.html">Unicode
    Technical Standard #35</ulink>
    and <ulink url="https://tools.ietf.org/html/bcp47">BCP 47</ulink> for
    details.  The list of possible collation types (<literal>co</literal>
    subtag) can be found in
    the <ulink url="http://www.unicode.org/repos/cldr/trunk/common/bcp47/collation.xml">CLDR
    repository</ulink>.
    The <ulink url="https://ssl.icu-project.org/icu-bin/locexp">ICU Locale
    Explorer</ulink> can be used to check the details of a particular locale
    definition.  The examples using the <literal>k*</literal> subtags require
    at least ICU version 54.
   </para>
____________________________________________________________________________-->
   <para>
    这里有些例子：

    <variablelist>
     <varlistentry>
      <term><literal>CREATE COLLATION "de-u-co-phonebk-x-icu" (provider = icu, locale = 'de-u-co-phonebk');</literal></term>
      <term><literal>CREATE COLLATION "de-u-co-phonebk-x-icu" (provider = icu, locale = 'de@collation=phonebook');</literal></term>
      <listitem>
       <para>德语排序规则和电话簿排序规则类型</para>
       <para>
        第一个例子使用<quote>语言标签</quote>根据 BCP 47选择了ICU区域设置。
		第二个示例使用传统的ICU特定区域设置语法。第一种风格是首选，
		但它不受旧版ICU支持。
       </para>
       <para>
        请注意，您可以在SQL环境中任意指定排序规则对象的名称。
		在这个例子中，我们遵循预定义排序规则使用的命名风格，
		而这种风格又遵循BCP 47，但这对于用户定义的排序规则不是必需的。
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION "und-u-co-emoji-x-icu" (provider = icu, locale = 'und-u-co-emoji');</literal></term>
      <term><literal>CREATE COLLATION "und-u-co-emoji-x-icu" (provider = icu, locale = '@collation=emoji');</literal></term>
      <listitem>
       <para>
        根据Unicode技术标准＃51，使用表情符号排序规则类型的根排序规则
       </para>
       <para>
        观察传统ICU区域命名系统中的方式，根区域设置由空字符串选择。
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION digitslast (provider = icu, locale = 'en-u-kr-latn-digit');</literal></term>
      <term><literal>CREATE COLLATION digitslast (provider = icu, locale = 'en@colReorder=latn-digit');</literal></term>
      <listitem>
       <para>
        在拉丁字母后面排列数字。（默认是字母前的数字。）
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION upperfirst (provider = icu, locale = 'en-u-kf-upper');</literal></term>
      <term><literal>CREATE COLLATION upperfirst (provider = icu, locale = 'en@colCaseFirst=upper');</literal></term>
      <listitem>
       <para>
        在小写字母前面排列大写字母。（默认是小写字母在前面。）
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION special (provider = icu, locale = 'en-u-kf-upper-kr-latn-digit');</literal></term>
      <term><literal>CREATE COLLATION special (provider = icu, locale = 'en@colCaseFirst=upper;colReorder=latn-digit');</literal></term>
      <listitem>
       <para>
        结合上述两个选项。
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATE COLLATION numeric (provider = icu, locale = 'en-u-kn-true');</literal></term>
      <term><literal>CREATE COLLATION numeric (provider = icu, locale = 'en@colNumeric=yes');</literal></term>
      <listitem>
       <para>
        数字排序，按数字值排序数字序列，例如：
		<literal>A-21</literal> &lt; <literal>A-123</literal>（也称为自然排序）。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>

    参阅<ulink url="http://unicode.org/reports/tr35/tr35-collation.html">Unicode
    技术标准 #35</ulink>
    和<ulink url="https://tools.ietf.org/html/bcp47">BCP 47</ulink>获取详细信息。
	可能的排序规则类型（<literal>co</literal>子标签）列表可以在
	<ulink url="http://www.unicode.org/repos/cldr/trunk/common/bcp47/collation.xml">CLDR
    仓库</ulink>中找到。
	<ulink url="https://ssl.icu-project.org/icu-bin/locexp">区域设置浏览器</ulink>
	可以用于检查一个特定区域设置定义的细节。使用<literal>k*</literal>
	子标签的示例至少要求ICU版本54。
   </para>

<!--==========================orignal english content==========================
   <para>
    Note that while this system allows creating collations that <quote>ignore
    case</quote> or <quote>ignore accents</quote> or similar (using
    the <literal>ks</literal> key), PostgreSQL does not at the moment allow
    such collations to act in a truly case- or accent-insensitive manner.  Any
    strings that compare equal according to the collation but are not
    byte-wise equal will be sorted according to their byte values.
   </para>
____________________________________________________________________________-->
   <para>
    请注意，虽然此系统允许创建<quote>忽略大小写</quote>或<quote>忽略重音符</quote>
	或类似（使用<literal>ks</literal>键）的排序规则，
	但PostgreSQL目前不允许这样的排序规则以真正的不区分大小写或不区分重音的方式进行操作。
	根据排序规则比较相等但按照字节不相等的任何字符串将根据其字节值进行排序。
   </para>

   <note>
<!--==========================orignal english content==========================
    <para>
     By design, ICU will accept almost any string as a locale name and match
     it to the closest locale it can provide, using the fallback procedure
     described in its documentation.  Thus, there will be no direct feedback
     if a collation specification is composed using features that the given
     ICU installation does not actually support.  It is therefore recommended
     to create application-level test cases to check that the collation
     definitions satisfy one's requirements.
    </para>
____________________________________________________________________________-->
    <para>
     根据设计，ICU几乎可以接受任何字符串作为区域名称，
	 并使用其文档中描述的后备程序将其与最接近的区域设置相匹配。因此，
	 如果使用给定ICU安装实际上不支持的功能组合排序规范，则不会有直接反馈。
	 因此建议创建应用程序级别的测试用例，以检查排序规则定义是否满足需求。
    </para>
   </note>
   </sect4>

   <sect4 id="collation-copy">
<!--==========================orignal english content==========================
   <title>Copying Collations</title>
____________________________________________________________________________-->
   <title>复制排序规则</title>

<!--==========================orignal english content==========================
   <para>
    The command <xref linkend="sql-createcollation"> can also be used to
    create a new collation from an existing collation, which can be useful to
    be able to use operating-system-independent collation names in
    applications, create compatibility names, or use an ICU-provided collation
    under a more readable name.  For example:
<programlisting>
CREATE COLLATION german FROM "de_DE";
CREATE COLLATION french FROM "fr-x-icu";
</programlisting>
   </para>
____________________________________________________________________________-->
   <para>
    也可以使用命令<xref linkend="sql-createcollation"/>
	从现有的排序规则创建新的排序规则，
	这对于能够在应用程序中使用与操作系统无关的排序规则名称、
	创建兼容性名称或以更易读的名称使用ICU提供的排序规则很有帮助。例如：
<programlisting>
CREATE COLLATION german FROM "de_DE";
CREATE COLLATION french FROM "fr-x-icu";
</programlisting>
   </para>
   </sect4>
   </sect3>
   </sect2>
 </sect1>

 <sect1 id="multibyte">
<!--==========================orignal english content==========================
  <title>Character Set Support</title>
____________________________________________________________________________-->
  <title>字符集支持</title>

<!--==========================orignal english content==========================
  <indexterm zone="multibyte"><primary>character set</></>
____________________________________________________________________________-->
  <indexterm zone="multibyte"><primary>字符集</primary></indexterm>

<!--==========================orignal english content==========================
  <para>
   The character set support in <productname>PostgreSQL</productname>
   allows you to store text in a variety of character sets (also called
   encodings), including
   single-byte character sets such as the ISO 8859 series and
   multiple-byte character sets such as <acronym>EUC</> (Extended Unix
   Code), UTF-8, and Mule internal code.  All supported character sets
   can be used transparently by clients, but a few are not supported
   for use within the server (that is, as a server-side encoding).
   The default character set is selected while
   initializing your <productname>PostgreSQL</productname> database
   cluster using <command>initdb</>.  It can be overridden when you
   create a database, so you can have multiple
   databases each with a different character set.
  </para>
____________________________________________________________________________-->
  <para>
   <productname>PostgreSQL</productname>里面的字符集支持你能够以各种字符集存储文本，包括单字节字符集，比如 ISO 8859 系列，以及多字节字符集 ，比如<acronym>EUC</acronym>（扩展 Unix 编码 Extended Unix Code）、UTF-8 和 Mule 内部编码。所有被支持的字符集都可以被客户端透明地使用，但少数只能在服务器上使用（即作为一种服务器方编码）。默认的字符集是在使用 <command>initdb</command>初始化你的<productname>PostgreSQL</productname>数据库集簇时选择的。在你创建一个数据库时可以重载它，因此你可能会有多个数据库并且每一个使用不同的字符集。
  </para>

<!--==========================orignal english content==========================
  <para>
   An important restriction, however, is that each database's character set
   must be compatible with the database's <envar>LC_CTYPE</> (character
   classification) and <envar>LC_COLLATE</> (string sort order) locale
   settings. For <literal>C</> or
   <literal>POSIX</> locale, any character set is allowed, but for other
   libc-provided locales there is only one character set that will work
   correctly.
   (On Windows, however, UTF-8 encoding can be used with any locale.)
   If you have ICU support configured, ICU-provided locales can be used
   with most but not all server-side encodings.
  </para>
____________________________________________________________________________-->
  <para>
   但是，一个重要的限制是每个数据库的字符集必须和数据库的<envar>LC_CTYPE</envar>
   （字符分类）和<envar>LC_COLLATE</envar> （字符串排序顺序）设置兼容。对于
   <literal>C</literal>或<literal>POSIX</literal>环境，任何字符集都是允许的，
   但是对于其他libc提供的环境只有一种字符集可以正确工作（不过，
   在Windows上UTF-8编码可以和任何环境配合使用）。
   如果您配置了ICU支持，则ICU提供的区域设置可用于大多数服务器端编码，
   但不能用于所有服务器端编码。
  </para>

   <sect2 id="multibyte-charset-supported">
<!--==========================orignal english content==========================
    <title>Supported Character Sets</title>
____________________________________________________________________________-->
    <title>被支持的字符集</title>

<!--==========================orignal english content==========================
    <para>
     <xref linkend="charset-table"> shows the character sets available
     for use in <productname>PostgreSQL</productname>.
    </para>
____________________________________________________________________________-->
    <para>
     <xref linkend="charset-table"/>显示了<productname>PostgreSQL</productname>中可用的字符集。
    </para>

     <table id="charset-table">
<!--==========================orignal english content==========================
      <title><productname>PostgreSQL</productname> Character Sets</title>
____________________________________________________________________________-->
      <title><productname>PostgreSQL</productname>字符集</title>
      <tgroup cols="7">
       <thead>
<!--==========================orignal english content==========================
        <row>
         <entry>Name</entry>
         <entry>Description</entry>
         <entry>Language</entry>
         <entry>Server?</entry>
         <entry>ICU?</entry>
         <!-&minus;
          The Bytes/Char field is populated by looking at the values returned
          by pg_wchar_table.mblen function for each encoding.
         -&minus;>
         <entry>Bytes/Char</entry>
         <entry>Aliases</entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry>名称</entry>
         <entry>描述</entry>
         <entry>语言</entry>
         <entry>是否服务器端？</entry>
         <entry>ICU?</entry>
		 <!--
          The Bytes/Char field is populated by looking at the values returned
          by pg_wchar_table.mblen function for each encoding.
         -->
         <entry>字节/字符</entry>
         <entry>别名</entry>
        </row>
       </thead>
       <tbody>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>BIG5</literal></entry>
         <entry>Big Five</entry>
         <entry>Traditional Chinese</entry>
         <entry>No</entry>
         <entry>No</entry>
         <entry>1-2</entry>
         <entry><literal>WIN950</>, <literal>Windows950</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>BIG5</literal></entry>
         <entry>Big Five</entry>
         <entry>繁体中文</entry>
         <entry>否</entry>
         <entry>否</entry>
		 <entry>1-2</entry>
         <entry><literal>WIN950</literal>, <literal>Windows950</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_CN</literal></entry>
         <entry>Extended UNIX Code-CN</entry>
         <entry>Simplified Chinese</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1-3</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_CN</literal></entry>
         <entry>扩展UNIX编码-中国</entry>
         <entry>简体中文</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1-3</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_JP</literal></entry>
         <entry>Extended UNIX Code-JP</entry>
         <entry>Japanese</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1-3</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_JP</literal></entry>
         <entry>扩展UNIX编码-日本</entry>
         <entry>日文</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1-3</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_JIS_2004</literal></entry>
         <entry>Extended UNIX Code-JP, JIS X 0213</entry>
         <entry>Japanese</entry>
         <entry>Yes</entry>
         <entry>No</entry>
         <entry>1-3</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_JIS_2004</literal></entry>
         <entry>扩展UNIX编码-日本, JIS X 0213</entry>
         <entry>日文</entry>
         <entry>是</entry>
         <entry>否</entry>
		 <entry>1-3</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_KR</literal></entry>
         <entry>Extended UNIX Code-KR</entry>
         <entry>Korean</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1-3</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_KR</literal></entry>
         <entry>扩展UNIX编码-韩国</entry>
         <entry>韩文</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1-3</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_TW</literal></entry>
         <entry>Extended UNIX Code-TW</entry>
         <entry>Traditional Chinese, Taiwanese</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1-3</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_TW</literal></entry>
         <entry>扩展UNIX编码-台湾</entry>
         <entry>繁体中文，台湾话</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1-3</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>GB18030</literal></entry>
         <entry>National Standard</entry>
         <entry>Chinese</entry>
         <entry>No</entry>
         <entry>No</entry>
         <entry>1-4</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>GB18030</literal></entry>
         <entry>国家标准</entry>
         <entry>中文</entry>
         <entry>否</entry>
         <entry>否</entry>
		 <entry>1-4</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>GBK</literal></entry>
         <entry>Extended National Standard</entry>
         <entry>Simplified Chinese</entry>
         <entry>No</entry>
         <entry>No</entry>
         <entry>1-2</entry>
         <entry><literal>WIN936</>, <literal>Windows936</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>GBK</literal></entry>
         <entry>扩展国家标准</entry>
         <entry>简体中文</entry>
         <entry>否</entry>
         <entry>否</entry>
		 <entry>1-2</entry>
         <entry><literal>WIN936</literal>, <literal>Windows936</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>ISO_8859_5</literal></entry>
         <entry>ISO 8859-5, <acronym>ECMA</> 113</entry>
         <entry>Latin/Cyrillic</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>ISO_8859_5</literal></entry>
         <entry>ISO 8859-5, <acronym>ECMA</acronym> 113</entry>
         <entry>拉丁语/西里尔语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>ISO_8859_6</literal></entry>
         <entry>ISO 8859-6, <acronym>ECMA</> 114</entry>
         <entry>Latin/Arabic</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>ISO_8859_6</literal></entry>
         <entry>ISO 8859-6, <acronym>ECMA</acronym> 114</entry>
         <entry>拉丁语/阿拉伯语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>ISO_8859_7</literal></entry>
         <entry>ISO 8859-7, <acronym>ECMA</> 118</entry>
         <entry>Latin/Greek</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>ISO_8859_7</literal></entry>
         <entry>ISO 8859-7, <acronym>ECMA</acronym> 118</entry>
         <entry>拉丁语/希腊语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>ISO_8859_8</literal></entry>
         <entry>ISO 8859-8, <acronym>ECMA</> 121</entry>
         <entry>Latin/Hebrew</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>ISO_8859_8</literal></entry>
         <entry>ISO 8859-8, <acronym>ECMA</acronym> 121</entry>
         <entry>拉丁语/希伯来语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>JOHAB</literal></entry>
         <entry><acronym>JOHAB</></entry>
         <entry>Korean (Hangul)</entry>
         <entry>No</entry>
         <entry>No</entry>
         <entry>1-3</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>JOHAB</literal></entry>
         <entry><acronym>JOHAB</acronym></entry>
         <entry>韩语</entry>
         <entry>否</entry>
         <entry>否</entry>
		 <entry>1-3</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>KOI8R</literal></entry>
         <entry><acronym>KOI</acronym>8-R</entry>
         <entry>Cyrillic (Russian)</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>KOI8</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>KOI8R</literal></entry>
         <entry><acronym>KOI</acronym>8-R</entry>
         <entry>西里尔语（俄语）</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>KOI8</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>KOI8U</literal></entry>
         <entry><acronym>KOI</acronym>8-U</entry>
         <entry>Cyrillic (Ukrainian)</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>KOI8U</literal></entry>
         <entry><acronym>KOI</acronym>8-U</entry>
         <entry>西里尔语（乌克兰语）</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN1</literal></entry>
         <entry>ISO 8859-1, <acronym>ECMA</> 94</entry>
         <entry>Western European</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ISO88591</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN1</literal></entry>
         <entry>ISO 8859-1, <acronym>ECMA</acronym> 94</entry>
         <entry>西欧</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ISO88591</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN2</literal></entry>
         <entry>ISO 8859-2, <acronym>ECMA</> 94</entry>
         <entry>Central European</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ISO88592</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN2</literal></entry>
         <entry>ISO 8859-2, <acronym>ECMA</acronym> 94</entry>
         <entry>中欧</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ISO88592</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN3</literal></entry>
         <entry>ISO 8859-3, <acronym>ECMA</> 94</entry>
         <entry>South European</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ISO88593</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN3</literal></entry>
         <entry>ISO 8859-3, <acronym>ECMA</acronym> 94</entry>
         <entry>南欧</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ISO88593</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN4</literal></entry>
         <entry>ISO 8859-4, <acronym>ECMA</> 94</entry>
         <entry>North European</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ISO88594</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN4</literal></entry>
         <entry>ISO 8859-4, <acronym>ECMA</acronym> 94</entry>
         <entry>北欧</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ISO88594</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN5</literal></entry>
         <entry>ISO 8859-9, <acronym>ECMA</> 128</entry>
         <entry>Turkish</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ISO88599</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN5</literal></entry>
         <entry>ISO 8859-9, <acronym>ECMA</acronym> 128</entry>
         <entry>土耳其语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ISO88599</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN6</literal></entry>
         <entry>ISO 8859-10, <acronym>ECMA</> 144</entry>
         <entry>Nordic</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ISO885910</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN6</literal></entry>
         <entry>ISO 8859-10, <acronym>ECMA</acronym> 144</entry>
         <entry>日耳曼语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ISO885910</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN7</literal></entry>
         <entry>ISO 8859-13</entry>
         <entry>Baltic</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ISO885913</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN7</literal></entry>
         <entry>ISO 8859-13</entry>
         <entry>波罗的海</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ISO885913</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN8</literal></entry>
         <entry>ISO 8859-14</entry>
         <entry>Celtic</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ISO885914</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN8</literal></entry>
         <entry>ISO 8859-14</entry>
         <entry>凯尔特语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ISO885914</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN9</literal></entry>
         <entry>ISO 8859-15</entry>
         <entry>LATIN1 with Euro and accents</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ISO885915</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN9</literal></entry>
         <entry>ISO 8859-15</entry>
         <entry>带欧罗巴和口音的LATIN1</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ISO885915</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN10</literal></entry>
         <entry>ISO 8859-16, <acronym>ASRO</> SR 14111</entry>
         <entry>Romanian</entry>
         <entry>Yes</entry>
         <entry>No</entry>
         <entry>1</entry>
         <entry><literal>ISO885916</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN10</literal></entry>
         <entry>ISO 8859-16, <acronym>ASRO</acronym> SR 14111</entry>
         <entry>罗马尼亚语</entry>
         <entry>是</entry>
         <entry>否</entry>
		 <entry>1</entry>
         <entry><literal>ISO885916</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>MULE_INTERNAL</literal></entry>
         <entry>Mule internal code</entry>
         <entry>Multilingual Emacs</entry>
         <entry>Yes</entry>
         <entry>No</entry>
         <entry>1-4</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>MULE_INTERNAL</literal></entry>
         <entry>Mule内部编码</entry>
         <entry>多语种编辑器</entry>
         <entry>是</entry>
         <entry>否</entry>
		 <entry>1-4</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>SJIS</literal></entry>
         <entry>Shift JIS</entry>
         <entry>Japanese</entry>
         <entry>No</entry>
         <entry>No</entry>
         <entry>1-2</entry>
         <entry><literal>Mskanji</>, <literal>ShiftJIS</>, <literal>WIN932</>, <literal>Windows932</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>SJIS</literal></entry>
         <entry>Shift JIS</entry>
         <entry>日语</entry>
         <entry>否</entry>
         <entry>否</entry>
		 <entry>1-2</entry>
         <entry><literal>Mskanji</literal>, <literal>ShiftJIS</literal>, <literal>WIN932</literal>, <literal>Windows932</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>SHIFT_JIS_2004</literal></entry>
         <entry>Shift JIS, JIS X 0213</entry>
         <entry>Japanese</entry>
         <entry>No</entry>
         <entry>No</entry>
         <entry>1-2</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>SHIFT_JIS_2004</literal></entry>
         <entry>Shift JIS, JIS X 0213</entry>
         <entry>日语</entry>
         <entry>否</entry>
         <entry>否</entry>
		 <entry>1-2</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>SQL_ASCII</literal></entry>
         <entry>unspecified (see text)</entry>
         <entry><emphasis>any</></entry>
         <entry>Yes</entry>
         <entry>No</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>SQL_ASCII</literal></entry>
         <entry>未指定（见文本）</entry>
         <entry><emphasis>任意</emphasis></entry>
         <entry>是</entry>
         <entry>否</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>UHC</literal></entry>
         <entry>Unified Hangul Code</entry>
         <entry>Korean</entry>
         <entry>No</entry>
         <entry>No</entry>
         <entry>1-2</entry>
         <entry><literal>WIN949</>, <literal>Windows949</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>UHC</literal></entry>
         <entry>统一韩语编码</entry>
         <entry>韩语</entry>
         <entry>否</entry>
         <entry>否</entry>
		 <entry>1-2</entry>
         <entry><literal>WIN949</literal>, <literal>Windows949</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>UTF8</literal></entry>
         <entry>Unicode, 8-bit</entry>
         <entry><emphasis>all</></entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1-4</entry>
         <entry><literal>Unicode</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>UTF8</literal></entry>
         <entry>Unicode, 8-bit</entry>
         <entry><emphasis>所有</emphasis></entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1-4</entry>
         <entry><literal>Unicode</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN866</literal></entry>
         <entry>Windows CP866</entry>
         <entry>Cyrillic</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ALT</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN866</literal></entry>
         <entry>Windows CP866</entry>
         <entry>西里尔语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>ALT</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN874</literal></entry>
         <entry>Windows CP874</entry>
         <entry>Thai</entry>
         <entry>Yes</entry>
         <entry>No</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN874</literal></entry>
         <entry>Windows CP874</entry>
         <entry>泰语</entry>
         <entry>是</entry>
         <entry>否</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1250</literal></entry>
         <entry>Windows CP1250</entry>
         <entry>Central European</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1250</literal></entry>
         <entry>Windows CP1250</entry>
         <entry>中欧</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1251</literal></entry>
         <entry>Windows CP1251</entry>
         <entry>Cyrillic</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>WIN</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1251</literal></entry>
         <entry>Windows CP1251</entry>
         <entry>西里尔语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry><literal>WIN</literal></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1252</literal></entry>
         <entry>Windows CP1252</entry>
         <entry>Western European</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1252</literal></entry>
         <entry>Windows CP1252</entry>
         <entry>西欧</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1253</literal></entry>
         <entry>Windows CP1253</entry>
         <entry>Greek</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1253</literal></entry>
         <entry>Windows CP1253</entry>
         <entry>希腊语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1254</literal></entry>
         <entry>Windows CP1254</entry>
         <entry>Turkish</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1254</literal></entry>
         <entry>Windows CP1254</entry>
         <entry>土耳其语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1255</literal></entry>
         <entry>Windows CP1255</entry>
         <entry>Hebrew</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1255</literal></entry>
         <entry>Windows CP1255</entry>
         <entry>希伯来语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1256</literal></entry>
         <entry>Windows CP1256</entry>
         <entry>Arabic</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1256</literal></entry>
         <entry>Windows CP1256</entry>
         <entry>阿拉伯语</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1257</literal></entry>
         <entry>Windows CP1257</entry>
         <entry>Baltic</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1257</literal></entry>
         <entry>Windows CP1257</entry>
         <entry>波罗的海</entry>
         <entry>是</entry>
         <entry>是</entry>
		 <entry>1</entry>
         <entry></entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1258</literal></entry>
         <entry>Windows CP1258</entry>
         <entry>Vietnamese</entry>
         <entry>Yes</entry>
         <entry>Yes</entry>
         <entry>1</entry>
         <entry><literal>ABC</>, <literal>TCVN</>, <literal>TCVN5712</>, <literal>VSCII</></entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1258</literal></entry>
         <entry>Windows CP1258</entry>
         <entry>越南语</entry>
         <entry>是</entry>
         <entry>是</entry>
         <entry>1</entry>
         <entry><literal>ABC</literal>, <literal>TCVN</literal>, <literal>TCVN5712</literal>, <literal>VSCII</literal></entry>
        </row>
       </tbody>
      </tgroup>
     </table>

<!--==========================orignal english content==========================
     <para>
      Not all client <acronym>API</>s support all the listed character sets. For example, the
      <productname>PostgreSQL</>
      JDBC driver does not support <literal>MULE_INTERNAL</>, <literal>LATIN6</>,
      <literal>LATIN8</>, and <literal>LATIN10</>.
     </para>
____________________________________________________________________________-->
     <para>
      并非所有的客户端<acronym>API</acronym>都支持上面列出的字符集。比如，<productname>PostgreSQL</productname>的JDBC 驱动就不支持<literal>MULE_INTERNAL</literal>、<literal>LATIN6</literal>、<literal>LATIN8</literal>和<literal>LATIN10</literal>。
     </para>

<!--==========================orignal english content==========================
     <para>
      The <literal>SQL_ASCII</> setting behaves considerably differently
      from the other settings.  When the server character set is
      <literal>SQL_ASCII</>, the server interprets byte values 0-127
      according to the ASCII standard, while byte values 128-255 are taken
      as uninterpreted characters.  No encoding conversion will be done when
      the setting is <literal>SQL_ASCII</>.  Thus, this setting is not so
      much a declaration that a specific encoding is in use, as a declaration
      of ignorance about the encoding.  In most cases, if you are
      working with any non-ASCII data, it is unwise to use the
      <literal>SQL_ASCII</> setting because
      <productname>PostgreSQL</productname> will be unable to help you by
      converting or validating non-ASCII characters.
     </para>
____________________________________________________________________________-->
     <para>
      <literal>SQL_ASCII</literal>设置与其他设置表现得相当不同。如果服务器字符集是<literal>SQL_ASCII</literal>，服务器把字节值0-127根据 ASCII标准解释，而字节值128-255则当作无法解析的字符。如果设置为<literal>SQL_ASCII</literal>，就不会有编码转换。因此，这个设置基本不是用来声明所使用的指定编码， 因为这个声明会忽略编码。在大多数情况下，如果你使用了任何非ASCII数据，那么使用 <literal>SQL_ASCII</literal>设置都是不明智的，因为<productname>PostgreSQL</productname>将无法帮助你转换或者校验非ASCII字符。
     </para>
    </sect2>

   <sect2>
<!--==========================orignal english content==========================
    <title>Setting the Character Set</title>
____________________________________________________________________________-->
    <title>设置字符集</title>

<!--==========================orignal english content==========================
    <para>
     <command>initdb</> defines the default character set (encoding)
     for a <productname>PostgreSQL</productname> cluster. For example,

<screen>
initdb -E EUC_JP
</screen>

     sets the default character set to
     <literal>EUC_JP</literal> (Extended Unix Code for Japanese).  You
     can use <option>-&minus;encoding</option> instead of
     <option>-E</option> if you prefer longer option strings.
     If no <option>-E</> or <option>-&minus;encoding</option> option is
     given, <command>initdb</> attempts to determine the appropriate
     encoding to use based on the specified or default locale.
    </para>
____________________________________________________________________________-->
    <para>
     <command>initdb</command>为一个<productname>PostgreSQL</productname>集簇定义缺省的字符集（编码）。比如：

<screen>
initdb -E EUC_JP
</screen>

     把缺省字符集设置为<literal>EUC_JP</literal>（用于日文的扩展Unix 编码）。如果你喜欢用长选项字符串，你可以用<option>--encoding</option>代替<option>-E</option>。 如果没有给出<option>-E</option>或者<option>--encoding</option>选项，<command>initdb</command>会尝试基于指定的或者默认的区域判断要使用的合适编码。
    </para>

<!--==========================orignal english content==========================
    <para>
     You can specify a non-default encoding at database creation time,
     provided that the encoding is compatible with the selected locale:

<screen>
createdb -E EUC_KR -T template0 -&minus;lc-collate=ko_KR.euckr -&minus;lc-ctype=ko_KR.euckr korean
</screen>

     This will create a database named <literal>korean</literal> that
     uses the character set <literal>EUC_KR</literal>, and locale <literal>ko_KR</literal>.
     Another way to accomplish this is to use this SQL command:

<programlisting>
CREATE DATABASE korean WITH ENCODING 'EUC_KR' LC_COLLATE='ko_KR.euckr' LC_CTYPE='ko_KR.euckr' TEMPLATE=template0;
</programlisting>

     Notice that the above commands specify copying the <literal>template0</>
     database.  When copying any other database, the encoding and locale
     settings cannot be changed from those of the source database, because
     that might result in corrupt data.  For more information see
     <xref linkend="manage-ag-templatedbs">.
    </para>
____________________________________________________________________________-->
    <para>
     你可以在数据库创建时指定一个非默认编码，提供的编码应和选择的区域兼容：

<screen>
createdb -E EUC_KR -T template0 --lc-collate=ko_KR.euckr --lc-ctype=ko_KR.euckr korean
</screen>

     将创建一个使用<literal>EUC_KR</literal>字符集和<literal>ko_KR</literal>区域的名为<literal>korean</literal>的数据库。 另外一种实现方法是使用 SQL 命令：

<programlisting>
CREATE DATABASE korean WITH ENCODING 'EUC_KR' LC_COLLATE='ko_KR.euckr' LC_CTYPE='ko_KR.euckr' TEMPLATE=template0;
</programlisting>

     注意上述命令指定拷贝<literal>template0</literal>数据库。在拷贝任何其他数据库时，不能更改从源数据库得来的编码和区域设置，因为这可能会导致破坏数据。详见<xref linkend="manage-ag-templatedbs"/>。
    </para>

<!--==========================orignal english content==========================
    <para>
     The encoding for a database is stored in the system catalog
     <literal>pg_database</literal>.  You can see it by using the
     <command>psql</command> <option>-l</option> option or the
     <command>\l</command> command.

<screen>
$ <userinput>psql -l</userinput>
                                         List of databases
   Name    |  Owner   | Encoding  |  Collation  |    Ctype    |          Access Privileges          
-&minus;-&minus;-&minus;-&minus;-&minus;-+-&minus;-&minus;-&minus;-&minus;-&minus;+-&minus;-&minus;-&minus;-&minus;-&minus;-+-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-+-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-+-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-&minus;-
 clocaledb | hlinnaka | SQL_ASCII | C           | C           | 
 englishdb | hlinnaka | UTF8      | en_GB.UTF8  | en_GB.UTF8  | 
 japanese  | hlinnaka | UTF8      | ja_JP.UTF8  | ja_JP.UTF8  | 
 korean    | hlinnaka | EUC_KR    | ko_KR.euckr | ko_KR.euckr | 
 postgres  | hlinnaka | UTF8      | fi_FI.UTF8  | fi_FI.UTF8  | 
 template0 | hlinnaka | UTF8      | fi_FI.UTF8  | fi_FI.UTF8  | {=c/hlinnaka,hlinnaka=CTc/hlinnaka}
 template1 | hlinnaka | UTF8      | fi_FI.UTF8  | fi_FI.UTF8  | {=c/hlinnaka,hlinnaka=CTc/hlinnaka}
(7 rows)
</screen>
    </para>
____________________________________________________________________________-->
    <para>
     数据库的编码存储在系统目录<literal>pg_database</literal>中。你可以使用<command>psql</command> <option>-l</option>选项或者<command>\l</command>命令来查看。

<screen>
$ <userinput>psql -l</userinput>
                                         List of databases
   Name    |  Owner   | Encoding  |  Collation  |    Ctype    |          Access Privileges
-----------+----------+-----------+-------------+-------------+-------------------------------------
 clocaledb | hlinnaka | SQL_ASCII | C           | C           |
 englishdb | hlinnaka | UTF8      | en_GB.UTF8  | en_GB.UTF8  |
 japanese  | hlinnaka | UTF8      | ja_JP.UTF8  | ja_JP.UTF8  |
 korean    | hlinnaka | EUC_KR    | ko_KR.euckr | ko_KR.euckr |
 postgres  | hlinnaka | UTF8      | fi_FI.UTF8  | fi_FI.UTF8  |
 template0 | hlinnaka | UTF8      | fi_FI.UTF8  | fi_FI.UTF8  | {=c/hlinnaka,hlinnaka=CTc/hlinnaka}
 template1 | hlinnaka | UTF8      | fi_FI.UTF8  | fi_FI.UTF8  | {=c/hlinnaka,hlinnaka=CTc/hlinnaka}
(7 rows)
</screen>
    </para>

    <important>
<!--==========================orignal english content==========================
     <para>
      On most modern operating systems, <productname>PostgreSQL</productname>
      can determine which character set is implied by the <envar>LC_CTYPE</>
      setting, and it will enforce that only the matching database encoding is
      used.  On older systems it is your responsibility to ensure that you use
      the encoding expected by the locale you have selected.  A mistake in
      this area is likely to lead to strange behavior of locale-dependent
      operations such as sorting.
     </para>
____________________________________________________________________________-->
     <para>
      在大部分现代操作系统上，<productname>PostgreSQL</productname>可以判断<envar>LC_CTYPE</envar>设置意味着哪一种字符集，并且它强制只有匹配的数据库编码被使用。在老的系统上你需要自己负责确保所使用的编码就是你所选择的区域所期望的。在这里的一个错误很可能导致区域依赖的操作产生奇怪的行为，例如排序。
     </para>

<!--==========================orignal english content==========================
     <para>
      <productname>PostgreSQL</productname> will allow superusers to create
      databases with <literal>SQL_ASCII</> encoding even when
      <envar>LC_CTYPE</> is not <literal>C</> or <literal>POSIX</>.  As noted
      above, <literal>SQL_ASCII</> does not enforce that the data stored in
      the database has any particular encoding, and so this choice poses risks
      of locale-dependent misbehavior.  Using this combination of settings is
      deprecated and may someday be forbidden altogether.
     </para>
____________________________________________________________________________-->
     <para>
      即使<envar>LC_CTYPE</envar>不是<literal>C</literal>或<literal>POSIX</literal>时，<productname>PostgreSQL</productname>将允许超级用户使用<literal>SQL_ASCII</literal>编码创建数据库。正如前文所述，<literal>SQL_ASCII</literal>并不强制存储在数据库中的数据具有任何特定的编码，并且这样这种选择存在着区域依赖的不正当行为的风险。使用这种设置组合的做法已经被废弃，并且在某天将被完全禁止。
     </para>
    </important>
   </sect2>

   <sect2>
<!--==========================orignal english content==========================
    <title>Automatic Character Set Conversion Between Server and Client</title>
____________________________________________________________________________-->
    <title>服务器和客户端之间的自动字符集转换</title>

<!--==========================orignal english content==========================
    <para>
     <productname>PostgreSQL</productname> supports automatic
     character set conversion between server and client for certain
     character set combinations. The conversion information is stored in the
     <literal>pg_conversion</> system catalog.  <productname>PostgreSQL</>
     comes with some predefined conversions, as shown in <xref
     linkend="multibyte-translation-table">. You can create a new
     conversion using the SQL command <command>CREATE CONVERSION</command>.
    </para>
____________________________________________________________________________-->
    <para>
     <productname>PostgreSQL</productname>支持一些编码在服务器和前端之间的自动编码转换。转换信息在系统目录<literal>pg_conversion</literal>中存储。<productname>PostgreSQL</productname>带着一些预定义的转换，如<xref linkend="multibyte-translation-table"/>所示。你可以使用SQL命令<command>CREATE CONVERSION</command>创建一个新的转换。
    </para>

     <table id="multibyte-translation-table">
<!--==========================orignal english content==========================
      <title>Client/Server Character Set Conversions</title>
____________________________________________________________________________-->
      <title>客户/服务器字符集转换</title>
      <tgroup cols="2">
       <thead>
<!--==========================orignal english content==========================
        <row>
         <entry>Server Character Set</entry>
         <entry>Available Client Character Sets</entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry>服务器字符集</entry>
         <entry>可用的客户端字符集</entry>
        </row>
       </thead>
       <tbody>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>BIG5</literal></entry>
         <entry><emphasis>not supported as a server encoding</emphasis>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>BIG5</literal></entry>
         <entry><emphasis>不支持作为一个服务器编码</emphasis>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_CN</literal></entry>
         <entry><emphasis>EUC_CN</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_CN</literal></entry>
         <entry><emphasis>EUC_CN</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_JP</literal></entry>
         <entry><emphasis>EUC_JP</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>SJIS</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_JP</literal></entry>
         <entry><emphasis>EUC_JP</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>SJIS</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_JIS_2004</literal></entry>
         <entry><emphasis>EUC_JIS_2004</emphasis>,
         <literal>SHIFT_JIS_2004</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
        
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_JIS_2004</literal></entry>
         <entry><emphasis>EUC_JIS_2004</emphasis>,
         <literal>SHIFT_JIS_2004</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_KR</literal></entry>
         <entry><emphasis>EUC_KR</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_KR</literal></entry>
         <entry><emphasis>EUC_KR</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>EUC_TW</literal></entry>
         <entry><emphasis>EUC_TW</emphasis>,
         <literal>BIG5</literal>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>EUC_TW</literal></entry>
         <entry><emphasis>EUC_TW</emphasis>,
         <literal>BIG5</literal>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>GB18030</literal></entry>
         <entry><emphasis>not supported as a server encoding</emphasis>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>GB18030</literal></entry>
         <entry><emphasis>不支持作为一个服务器编码</emphasis>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>GBK</literal></entry>
         <entry><emphasis>not supported as a server encoding</emphasis>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>GBK</literal></entry>
         <entry><emphasis>不支持作为一个服务器编码</emphasis>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>ISO_8859_5</literal></entry>
         <entry><emphasis>ISO_8859_5</emphasis>,
         <literal>KOI8R</literal>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>,
         <literal>WIN866</literal>,
         <literal>WIN1251</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>ISO_8859_5</literal></entry>
         <entry><emphasis>ISO_8859_5</emphasis>,
         <literal>KOI8R</literal>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>,
         <literal>WIN866</literal>,
         <literal>WIN1251</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>ISO_8859_6</literal></entry>
         <entry><emphasis>ISO_8859_6</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>ISO_8859_6</literal></entry>
         <entry><emphasis>ISO_8859_6</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>ISO_8859_7</literal></entry>
         <entry><emphasis>ISO_8859_7</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>ISO_8859_7</literal></entry>
         <entry><emphasis>ISO_8859_7</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>ISO_8859_8</literal></entry>
         <entry><emphasis>ISO_8859_8</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>ISO_8859_8</literal></entry>
         <entry><emphasis>ISO_8859_8</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>JOHAB</literal></entry>
         <entry><emphasis>not supported as a server encoding</emphasis>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>JOHAB</literal></entry>
         <entry><emphasis>不支持作为服务端编码</emphasis>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>KOI8R</literal></entry>
         <entry><emphasis>KOI8R</emphasis>,
         <literal>ISO_8859_5</literal>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>,
         <literal>WIN866</literal>,
         <literal>WIN1251</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>KOI8R</literal></entry>
         <entry><emphasis>KOI8R</emphasis>,
         <literal>ISO_8859_5</literal>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>,
         <literal>WIN866</literal>,
         <literal>WIN1251</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>KOI8U</literal></entry>
         <entry><emphasis>KOI8U</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>KOI8U</literal></entry>
         <entry><emphasis>KOI8U</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN1</literal></entry>
         <entry><emphasis>LATIN1</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN1</literal></entry>
         <entry><emphasis>LATIN1</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN2</literal></entry>
         <entry><emphasis>LATIN2</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>,
         <literal>WIN1250</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN2</literal></entry>
         <entry><emphasis>LATIN2</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>,
         <literal>WIN1250</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN3</literal></entry>
         <entry><emphasis>LATIN3</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN3</literal></entry>
         <entry><emphasis>LATIN3</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN4</literal></entry>
         <entry><emphasis>LATIN4</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN4</literal></entry>
         <entry><emphasis>LATIN4</emphasis>,
         <literal>MULE_INTERNAL</literal>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN5</literal></entry>
         <entry><emphasis>LATIN5</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN5</literal></entry>
         <entry><emphasis>LATIN5</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN6</literal></entry>
         <entry><emphasis>LATIN6</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN6</literal></entry>
         <entry><emphasis>LATIN6</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN7</literal></entry>
         <entry><emphasis>LATIN7</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN7</literal></entry>
         <entry><emphasis>LATIN7</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN8</literal></entry>
         <entry><emphasis>LATIN8</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN8</literal></entry>
         <entry><emphasis>LATIN8</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN9</literal></entry>
         <entry><emphasis>LATIN9</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN9</literal></entry>
         <entry><emphasis>LATIN9</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>LATIN10</literal></entry>
         <entry><emphasis>LATIN10</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>LATIN10</literal></entry>
         <entry><emphasis>LATIN10</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>MULE_INTERNAL</literal></entry>
         <entry><emphasis>MULE_INTERNAL</emphasis>,
          <literal>BIG5</literal>,
          <literal>EUC_CN</literal>,
          <literal>EUC_JP</literal>,
          <literal>EUC_KR</literal>,
          <literal>EUC_TW</literal>,
          <literal>ISO_8859_5</literal>,
          <literal>KOI8R</literal>,
          <literal>LATIN1</literal> to <literal>LATIN4</literal>,
          <literal>SJIS</literal>,
          <literal>WIN866</literal>,
          <literal>WIN1250</literal>,
          <literal>WIN1251</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>MULE_INTERNAL</literal></entry>
         <entry><emphasis>MULE_INTERNAL</emphasis>,
          <literal>BIG5</literal>,
          <literal>EUC_CN</literal>,
          <literal>EUC_JP</literal>,
          <literal>EUC_KR</literal>,
          <literal>EUC_TW</literal>,
          <literal>ISO_8859_5</literal>,
          <literal>KOI8R</literal>,
          <literal>LATIN1</literal> to <literal>LATIN4</literal>,
          <literal>SJIS</literal>,
          <literal>WIN866</literal>,
          <literal>WIN1250</literal>,
          <literal>WIN1251</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>SJIS</literal></entry>
         <entry><emphasis>not supported as a server encoding</emphasis>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>SJIS</literal></entry>
         <entry><emphasis>不支持作为一个服务器编码</emphasis>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>SHIFT_JIS_2004</literal></entry>
         <entry><emphasis>not supported as a server encoding</emphasis>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>SHIFT_JIS_2004</literal></entry>
         <entry><emphasis>不支持作为一个服务器编码</emphasis>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>SQL_ASCII</literal></entry>
         <entry><emphasis>any (no conversion will be performed)</emphasis>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>SQL_ASCII</literal></entry>
         <entry><emphasis>任意（不会执行任何转换）</emphasis>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>UHC</literal></entry>
         <entry><emphasis>not supported as a server encoding</emphasis>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>UHC</literal></entry>
         <entry><emphasis>不支持作为一个服务器编码</emphasis>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>UTF8</literal></entry>
         <entry><emphasis>all supported encodings</emphasis>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>UTF8</literal></entry>
         <entry><emphasis>所有支持的编码</emphasis>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN866</literal></entry>
         <entry><emphasis>WIN866</emphasis>,
          <literal>ISO_8859_5</literal>,
          <literal>KOI8R</literal>,
          <literal>MULE_INTERNAL</literal>,
          <literal>UTF8</literal>,
          <literal>WIN1251</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN866</literal></entry>
         <entry><emphasis>WIN866</emphasis>,
          <literal>ISO_8859_5</literal>,
          <literal>KOI8R</literal>,
          <literal>MULE_INTERNAL</literal>,
          <literal>UTF8</literal>,
          <literal>WIN1251</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN874</literal></entry>
         <entry><emphasis>WIN874</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN874</literal></entry>
         <entry><emphasis>WIN874</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1250</literal></entry>
         <entry><emphasis>WIN1250</emphasis>,
          <literal>LATIN2</literal>,
          <literal>MULE_INTERNAL</literal>,
          <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1250</literal></entry>
         <entry><emphasis>WIN1250</emphasis>,
          <literal>LATIN2</literal>,
          <literal>MULE_INTERNAL</literal>,
          <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1251</literal></entry>
         <entry><emphasis>WIN1251</emphasis>,
          <literal>ISO_8859_5</literal>,
          <literal>KOI8R</literal>,
          <literal>MULE_INTERNAL</literal>,
          <literal>UTF8</literal>,
          <literal>WIN866</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1251</literal></entry>
         <entry><emphasis>WIN1251</emphasis>,
          <literal>ISO_8859_5</literal>,
          <literal>KOI8R</literal>,
          <literal>MULE_INTERNAL</literal>,
          <literal>UTF8</literal>,
          <literal>WIN866</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1252</literal></entry>
         <entry><emphasis>WIN1252</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1252</literal></entry>
         <entry><emphasis>WIN1252</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1253</literal></entry>
         <entry><emphasis>WIN1253</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1253</literal></entry>
         <entry><emphasis>WIN1253</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1254</literal></entry>
         <entry><emphasis>WIN1254</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1254</literal></entry>
         <entry><emphasis>WIN1254</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1255</literal></entry>
         <entry><emphasis>WIN1255</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1255</literal></entry>
         <entry><emphasis>WIN1255</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1256</literal></entry>
         <entry><emphasis>WIN1256</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1256</literal></entry>
         <entry><emphasis>WIN1256</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1257</literal></entry>
         <entry><emphasis>WIN1257</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1257</literal></entry>
         <entry><emphasis>WIN1257</emphasis>,
          <literal>UTF8</literal>
         </entry>
        </row>
<!--==========================orignal english content==========================
        <row>
         <entry><literal>WIN1258</literal></entry>
         <entry><emphasis>WIN1258</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
____________________________________________________________________________-->
        <row>
         <entry><literal>WIN1258</literal></entry>
         <entry><emphasis>WIN1258</emphasis>,
         <literal>UTF8</literal>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>

<!--==========================orignal english content==========================
    <para>
     To enable automatic character set conversion, you have to
     tell <productname>PostgreSQL</productname> the character set
     (encoding) you would like to use in the client. There are several
     ways to accomplish this:

     <itemizedlist>
      <listitem>
       <para>
        Using the <command>\encoding</command> command in
        <application>psql</application>.
        <command>\encoding</command> allows you to change client
        encoding on the fly. For
        example, to change the encoding to <literal>SJIS</literal>, type:

<programlisting>
\encoding SJIS
</programlisting>
       </para>
      </listitem>

      <listitem>
       <para>
        <application>libpq</> (<xref linkend="libpq-control">) has functions to control the client encoding.
       </para>
      </listitem>

      <listitem>
       <para>
        Using <command>SET client_encoding TO</command>.

        Setting the client encoding can be done with this SQL command:

<programlisting>
SET CLIENT_ENCODING TO '<replaceable>value</>';
</programlisting>

        Also you can use the standard SQL syntax <literal>SET NAMES</literal>
        for this purpose:

<programlisting>
SET NAMES '<replaceable>value</>';
</programlisting>

        To query the current client encoding:

<programlisting>
SHOW client_encoding;
</programlisting>

        To return to the default encoding:

<programlisting>
RESET client_encoding;
</programlisting>
       </para>
      </listitem>

      <listitem>
       <para>
        Using <envar>PGCLIENTENCODING</envar>. If the environment variable
        <envar>PGCLIENTENCODING</envar> is defined in the client's
        environment, that client encoding is automatically selected
        when a connection to the server is made.  (This can
        subsequently be overridden using any of the other methods
        mentioned above.)
       </para>
      </listitem>

      <listitem>
      <para>
       Using the configuration variable <xref
       linkend="guc-client-encoding">. If the
       <varname>client_encoding</> variable is set, that client
       encoding is automatically selected when a connection to the
       server is made.  (This can subsequently be overridden using any
       of the other methods mentioned above.)
       </para>
      </listitem>

     </itemizedlist>
    </para>
____________________________________________________________________________-->
    <para>
     要想启用自动字符集转换功能，你必须告诉<productname>PostgreSQL</productname>你想在客户端使用的字符集（编码）。你可以用好几种方法来完成：

     <itemizedlist>
      <listitem>
       <para>
        用<application>psql</application>里的<command>\encoding</command>命令。<command>\encoding</command>允许你动态修改客户端编码。比如，把编码改变为<literal>SJIS</literal>，键入：

<programlisting>
\encoding SJIS
</programlisting>
       </para>
      </listitem>

      <listitem>
       <para>
        <application>libpq</application>（见<xref linkend="libpq-control"/>）中提供函数控制客户端编码。
       </para>
      </listitem>

      <listitem>
       <para>
        使用<command>SET client_encoding TO</command>。

        可以使用这个SQL命令设置客户端编码：

<programlisting>
SET CLIENT_ENCODING TO '<replaceable>value</replaceable>';
</programlisting>

        你还可以把标准SQL语法里的<literal>SET NAMES</literal>用于这个目的：

<programlisting>
SET NAMES '<replaceable>value</replaceable>';
</programlisting>

        要查询当前客户端编码：

<programlisting>
SHOW client_encoding;
</programlisting>

        要返回到缺省编码：

<programlisting>
RESET client_encoding;
</programlisting>
       </para>
      </listitem>

      <listitem>
       <para>
        使用<envar>PGCLIENTENCODING</envar>。如果在客户端的环境里定义了<envar>PGCLIENTENCODING</envar>环境变量， 那么在与服务器进行了连接后将自动选择客户端编码（这个设置随后可以用上文提到的任何其他方法重载）。
       </para>
      </listitem>

      <listitem>
      <para>
       使用<xref linkend="guc-client-encoding"/>配置变量。如果<varname>client_encoding</varname>变量被设置， 那么在与服务器建立了连接之后，这个客户端编码将备自动选定（这个设置随后可以用上文提到的其他方法重载）。
       </para>
      </listitem>

     </itemizedlist>
    </para>

<!--==========================orignal english content==========================
    <para>
     If the conversion of a particular character is not possible
     &mdash; suppose you chose <literal>EUC_JP</literal> for the
     server and <literal>LATIN1</literal> for the client, and some
     Japanese characters are returned that do not have a representation in
     <literal>LATIN1</literal> &mdash; an error is reported.
    </para>
____________________________________________________________________________-->
    <para>
     假如无法进行一个特定字符的转换 &mdash; 假如你选的服务器编码是<literal>EUC_JP</literal>而 客户端是<literal>LATIN1</literal>，那么有些日文字符不能转换成<literal>LATIN1</literal> &mdash; 将会报告一个错误。
    </para>

<!--==========================orignal english content==========================
    <para>
     If the client character set is defined as <literal>SQL_ASCII</>,
     encoding conversion is disabled, regardless of the server's character
     set.  Just as for the server, use of <literal>SQL_ASCII</> is unwise
     unless you are working with all-ASCII data.
    </para>
____________________________________________________________________________-->
    <para>
     如果客户端字符集定义成了<literal>SQL_ASCII</literal>，那么编码转换会被禁用， 不管服务器的字符集是什么都一样。和服务器一样，除非你的工作环境全部是 ASCII 数据， 否则使用<literal>SQL_ASCII</literal>是不明智的。
    </para>
   </sect2>

   <sect2>
<!--==========================orignal english content==========================
    <title>Further Reading</title>
____________________________________________________________________________-->
    <title>进一步阅读</title>

<!--==========================orignal english content==========================
    <para>
     These are good sources to start learning about various kinds of encoding
     systems.

     <variablelist>
      <varlistentry>
       <term><citetitle>CJKV Information Processing: Chinese, Japanese, Korean &amp; Vietnamese Computing</citetitle></term>

       <listitem>
        <para>
         Contains detailed explanations of <literal>EUC_JP</literal>,
         <literal>EUC_CN</literal>, <literal>EUC_KR</literal>,
         <literal>EUC_TW</literal>.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><ulink url="http://www.unicode.org/"></ulink></term>

       <listitem>
        <para>
         The web site of the Unicode Consortium.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term>RFC 3629</term>

       <listitem>
        <para>
         <acronym>UTF</acronym>-8 (8-bit UCS/Unicode Transformation
         Format) is defined here.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
    </para>
____________________________________________________________________________-->
    <para>
     下面是学习各种类型的编码系统的好资源。

     <variablelist>
      <varlistentry>
       <term><citetitle>CJKV Information Processing: Chinese, Japanese, Korean &amp; Vietnamese Computing</citetitle></term>

       <listitem>
        <para>
         包含对<literal>EUC_JP</literal>、
         <literal>EUC_CN</literal>、<literal>EUC_KR</literal>、
         <literal>EUC_TW</literal>的详细解释。
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><ulink url="http://www.unicode.org/"></ulink></term>

       <listitem>
        <para>
         Unicode联盟的网站。
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term>RFC 3629</term>

       <listitem>
        <para>
         <acronym>UTF</acronym>-8 （8-bit UCS/Unicode转换格式）在这里定义。
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
    </para>
   </sect2>

  </sect1>

</chapter>
